(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{V1YL:function(e,t,i){"use strict";i.r(t),i.d(t,"UserModule",(function(){return ie}));var n=i("ofXK"),o=i("3Pt+"),r=i("tyNb"),a=i("fXoL"),s=i("N+K7"),c=i("3LUQ"),d=i("EnSQ"),l=i("EVdn");function b(e,t){1&e&&(a.Pb(0,"div",1),a.Lb(1,"img",2),a.Ob())}let u=(()=>{class e{constructor(e){this.data=e,this.showLoader=!1}ngOnInit(){this.data.loaderStatus.subscribe(e=>{this.showLoader=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(d.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-loader"]],decls:1,vars:1,consts:[["class","loader",4,"ngIf"],[1,"loader"],["src","assets/images/loader.gif","alt","loader","width","50"]],template:function(e,t){1&e&&a.Ac(0,b,2,0,"div",0),2&e&&a.ic("ngIf",t.showLoader)},directives:[n.l],styles:[""]}),e})();var m=i("DGkJ");function f(e,t){1&e&&a.Lb(0,"i",23)}function p(e,t){if(1&e&&a.Lb(0,"img",24),2&e){const e=a.cc();a.ic("src",e.profile_image,a.uc)}}const h=function(){return["is-active"]};let g=(()=>{class e{constructor(e,t){this.commonService=e,this.eThree=t,this.profile_image=""}ngOnInit(){const e=this.commonService.getUserData();this.profile_image=e.profile_image}url_change(){l("body").removeClass("bodyshrink")}logOut(){this.eThree.cleanup(),this.commonService.logout()}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.a),a.Kb(m.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-sidebar"]],decls:30,vars:8,consts:[[1,"left_sidebar"],[1,"profile_icon"],["class","fa fa-user","aria-hidden","true",4,"ngIf"],["class","profile_image",3,"src",4,"ngIf"],[1,"nav_list","pt-3"],[1,"sidbar_list","list-unstyled","mb-0"],[1,"list-item","nav_home"],["routerLink","/user/dashboard",1,"d-block","mb-4",3,"routerLinkActive","click"],[1,"list-item","nav_profile"],["routerLink","/user/my-account",1,"d-block","mb-4",3,"routerLinkActive","click"],[1,"list-item","nav_note"],["routerLink","/user/my-document",1,"d-block","mb-4",3,"routerLinkActive","click"],[1,"list-item","cursor-pointer","nav_export"],["data-toggle","modal","data-target","#logout",1,"d-block","mb-4"],["id","logout",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],[1,"text-center","mb-4"],[1,"modal-title"],[1,"text-center"],["type","button","data-dismiss","modal",1,"btn","btn-primary",2,"margin-right","20px"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-user"],[1,"profile_image",3,"src"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.Ac(2,f,1,0,"i",2),a.Ac(3,p,1,1,"img",3),a.Ob(),a.Pb(4,"div",4),a.Pb(5,"ul",5),a.Pb(6,"li",6),a.Pb(7,"a",7),a.ac("click",(function(){return t.url_change()})),a.Cc(8," Dashboard "),a.Ob(),a.Ob(),a.Pb(9,"li",8),a.Pb(10,"a",9),a.ac("click",(function(){return t.url_change()})),a.Cc(11," My Account "),a.Ob(),a.Ob(),a.Pb(12,"li",10),a.Pb(13,"a",11),a.ac("click",(function(){return t.url_change()})),a.Cc(14," My Documents "),a.Ob(),a.Ob(),a.Pb(15,"li",12),a.Pb(16,"a",13),a.Cc(17," Logout "),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(18,"div",14),a.Pb(19,"div",15),a.Pb(20,"div",16),a.Pb(21,"div",17),a.Pb(22,"div",18),a.Pb(23,"h4",19),a.Cc(24,"Are you sure?"),a.Ob(),a.Ob(),a.Pb(25,"div",20),a.Pb(26,"button",21),a.Cc(27,"Cancel"),a.Ob(),a.Pb(28,"button",22),a.ac("click",(function(){return t.logOut()})),a.Cc(29,"Confirm"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.xb(2),a.ic("ngIf",!t.profile_image),a.xb(1),a.ic("ngIf",t.profile_image),a.xb(4),a.ic("routerLinkActive",a.lc(5,h)),a.xb(3),a.ic("routerLinkActive",a.lc(6,h)),a.xb(3),a.ic("routerLinkActive",a.lc(7,h)))},directives:[n.l,r.d,r.c],styles:[".nav_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{position:relative;color:#fff}.nav_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a.is-active[_ngcontent-%COMP%]{color:#033257;font-weight:700}.profile_image[_ngcontent-%COMP%]{height:100px;border-radius:50%;width:100px}"]}),e})(),v=(()=>{class e{constructor(){}ngOnInit(){}triggerAside(){l("body").toggleClass("bodyshrink")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-header"]],decls:14,vars:0,consts:[[1,"header_fixed_height"],[1,"header_main","fixed-top"],[1,"container-fluid"],[1,"navbar","navbar-expand-lg","navbar-light","p-0","justify-content-md-center"],[1,"navbar-brand","fz17","text-white","m-0"],["src","assets/images/white-logo.png","alt","logo","width","172",1,"img-fluid"],[1,"d-block","mt-2","fz15","text-center"],[1,"ml-auto","mt-auto","mb-auto","mr-2","list-unstyled","d-flex","d-md-none"],[1,"list-item"],[1,"trigger_aside","d-inline-block","d-md-none","text-white","cursor_pointer",3,"click"],["aria-hidden","true",1,"fa","fa-bars","fz26"]],template:function(e,t){1&e&&(a.Lb(0,"app-loader"),a.Pb(1,"div",0),a.Pb(2,"header",1),a.Pb(3,"div",2),a.Pb(4,"nav",3),a.Pb(5,"a",4),a.Lb(6,"img",5),a.Pb(7,"span",6),a.Cc(8,"Digital Signing Platform"),a.Ob(),a.Ob(),a.Pb(9,"ul",7),a.Pb(10,"li",8),a.Pb(11,"a",9),a.ac("click",(function(){return t.triggerAside()})),a.Lb(12,"i",10),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Lb(13,"app-sidebar"))},directives:[u,g],styles:[""]}),e})();function y(e,t){if(1&e&&a.Lb(0,"img",10),2&e){const e=a.cc();a.ic("src",e.signature,a.uc)}}function O(e,t){1&e&&a.Lb(0,"input",11)}let P=(()=>{class e{constructor(e,t,i){this.commonService=e,this.alert=t,this.data=i,this.member_id="NA",this.full_name="NA",this.dob="NA",this.country_code="NA",this.id_type="NA",this.gender="NA",this.mobile_number="NA",this.email="NA",this.signature=null}ngOnInit(){this.data.showLoader(!0),this.commonService.commonGetCall("user/account").subscribe(e=>{const t=e.data;this.member_id=t.membership_id,this.full_name=t.first_name+" "+t.family_name,this.country_code=t.country_code,this.mobile_number=t.mobile_number,this.email=t.email,this.signature=t.signature,this.data.showLoader(!1)},e=>{console.log(e),this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":401===e.status?e.statusText:e.error.message)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.a),a.Kb(c.a),a.Kb(d.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-my-account"]],decls:37,vars:7,consts:[[1,"right_sidebar"],[1,"container-fluid"],[1,"row"],[1,"col-md-7"],[1,"form-group","row"],["for","staticEmail",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["class","signature",3,"src",4,"ngIf"],["type","text","readonly","","class","form-control","value","NA",4,"ngIf"],[1,"signature",3,"src"],["type","text","readonly","","value","NA",1,"form-control"]],template:function(e,t){1&e&&(a.Lb(0,"app-header"),a.Pb(1,"div",0),a.Pb(2,"div"),a.Pb(3,"div",1),a.Pb(4,"div",2),a.Pb(5,"div",3),a.Pb(6,"div",4),a.Pb(7,"label",5),a.Cc(8,"Membership Number"),a.Ob(),a.Pb(9,"div",6),a.Pb(10,"input",7),a.ac("ngModelChange",(function(e){return t.member_id=e})),a.Ob(),a.Ob(),a.Ob(),a.Pb(11,"div",4),a.Pb(12,"label",5),a.Cc(13,"Full Name"),a.Ob(),a.Pb(14,"div",6),a.Pb(15,"input",7),a.ac("ngModelChange",(function(e){return t.full_name=e})),a.Ob(),a.Ob(),a.Ob(),a.Pb(16,"div",4),a.Pb(17,"label",5),a.Cc(18,"Country Code"),a.Ob(),a.Pb(19,"div",6),a.Pb(20,"input",7),a.ac("ngModelChange",(function(e){return t.country_code=e})),a.Ob(),a.Ob(),a.Ob(),a.Pb(21,"div",4),a.Pb(22,"label",5),a.Cc(23,"Mobile Number"),a.Ob(),a.Pb(24,"div",6),a.Pb(25,"input",7),a.ac("ngModelChange",(function(e){return t.mobile_number=e})),a.Ob(),a.Ob(),a.Ob(),a.Pb(26,"div",4),a.Pb(27,"label",5),a.Cc(28,"Email Id"),a.Ob(),a.Pb(29,"div",6),a.Pb(30,"input",7),a.ac("ngModelChange",(function(e){return t.email=e})),a.Ob(),a.Ob(),a.Ob(),a.Pb(31,"div",4),a.Pb(32,"label",5),a.Cc(33,"My Signature"),a.Ob(),a.Pb(34,"div",6),a.Ac(35,y,1,1,"img",8),a.Ac(36,O,1,0,"input",9),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.xb(10),a.ic("ngModel",t.member_id),a.xb(5),a.ic("ngModel",t.full_name),a.xb(5),a.ic("ngModel",t.country_code),a.xb(5),a.ic("ngModel",t.mobile_number),a.xb(5),a.ic("ngModel",t.email),a.xb(5),a.ic("ngIf",t.signature),a.xb(1),a.ic("ngIf",!t.signature))},directives:[v,o.a,o.j,o.m,n.l],styles:[".signature[_ngcontent-%COMP%]{height:150px;border:3px solid #555;border-radius:5px}"]}),e})(),w=(()=>{class e{constructor(e,t,i){this.commonService=e,this.alert=t,this.data=i,this.my_documents={},this.assigned_documents={}}ngOnInit(){this.data.showLoader(!0),this.commonService.commonGetCall("user/dashboard").subscribe(e=>{this.my_documents=e.my_documents,this.assigned_documents=e.assigned_documents,this.data.showLoader(!1)},e=>{console.log(e),this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":401===e.status?e.statusText:e.error.message)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.a),a.Kb(c.a),a.Kb(d.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-dashboard"]],decls:74,vars:8,consts:[[1,"right_sidebar"],[1,"mb-5"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col_selector"],[1,"text-center","mb-5","fz24","card_header"],[1,"col-md-3"],[1,"dasboard_card","text-center","pt-2","pb-3","px-3","mb-4"]],template:function(e,t){1&e&&(a.Lb(0,"app-header"),a.Pb(1,"div",0),a.Pb(2,"div",1),a.Pb(3,"div",2),a.Pb(4,"div",3),a.Pb(5,"div",4),a.Pb(6,"div",5),a.Pb(7,"h2",6),a.Pb(8,"span"),a.Cc(9,"Documents Assign to me"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(10,"div",7),a.Pb(11,"div",5),a.Pb(12,"div",8),a.Pb(13,"p"),a.Cc(14,"All Document"),a.Ob(),a.Pb(15,"span"),a.Cc(16),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(17,"div",7),a.Pb(18,"div",5),a.Pb(19,"div",8),a.Pb(20,"p"),a.Cc(21,"Awaiting my signature"),a.Ob(),a.Pb(22,"span"),a.Cc(23),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(24,"div",7),a.Pb(25,"div",5),a.Pb(26,"div",8),a.Pb(27,"p"),a.Cc(28,"Completed"),a.Ob(),a.Pb(29,"span"),a.Cc(30),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(31,"div",7),a.Pb(32,"div",5),a.Pb(33,"div",8),a.Pb(34,"p"),a.Cc(35,"Rejected"),a.Ob(),a.Pb(36,"span"),a.Cc(37),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(38,"div",1),a.Pb(39,"div",2),a.Pb(40,"div",3),a.Pb(41,"div",4),a.Pb(42,"div",5),a.Pb(43,"h2",6),a.Pb(44,"span"),a.Cc(45,"My Documents"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(46,"div",7),a.Pb(47,"div",5),a.Pb(48,"div",8),a.Pb(49,"p"),a.Cc(50,"All Document"),a.Ob(),a.Pb(51,"span"),a.Cc(52),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(53,"div",7),a.Pb(54,"div",5),a.Pb(55,"div",8),a.Pb(56,"p"),a.Cc(57,"Awaiting other's signature"),a.Ob(),a.Pb(58,"span"),a.Cc(59),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(60,"div",7),a.Pb(61,"div",5),a.Pb(62,"div",8),a.Pb(63,"p"),a.Cc(64,"Completed"),a.Ob(),a.Pb(65,"span"),a.Cc(66),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(67,"div",7),a.Pb(68,"div",5),a.Pb(69,"div",8),a.Pb(70,"p"),a.Cc(71,"Rejected"),a.Ob(),a.Pb(72,"span"),a.Cc(73),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.xb(16),a.Dc(t.assigned_documents.total),a.xb(7),a.Dc(t.assigned_documents.awaiting),a.xb(7),a.Dc(t.assigned_documents.completed),a.xb(7),a.Dc(t.assigned_documents.rejected),a.xb(15),a.Dc(t.my_documents.total),a.xb(7),a.Dc(t.my_documents.awaiting),a.xb(7),a.Dc(t.my_documents.completed),a.xb(7),a.Dc(t.my_documents.rejected))},directives:[v],styles:[""]}),e})();var _=i("mrSG"),C=i("rdXg"),x=i.n(C),j=i("o9EK"),L=i("jhN1"),S=i("IkSl");function k(e,t){1&e&&a.Lb(0,"i",53)}function A(e,t){if(1&e&&(a.Pb(0,"label",50),a.Pb(1,"p",51),a.Cc(2,"Upload File "),a.Ac(3,k,1,0,"i",52),a.Ob(),a.Ob()),2&e){const e=a.cc();a.xb(3),a.ic("ngIf",e.loading)}}function I(e,t){if(1&e){const e=a.Qb();a.Pb(0,"input",54),a.ac("change",(function(t){return a.sc(e),a.cc().onFileChange(t)})),a.Ob()}}function E(e,t){if(1&e&&(a.Pb(0,"span",55),a.Cc(1),a.Ob()),2&e){const e=a.cc();a.xb(1),a.Dc(e.selected_file_name)}}function M(e,t){1&e&&(a.Pb(0,"button",56),a.Cc(1,"Submit File"),a.Ob())}function D(e,t){1&e&&(a.Pb(0,"div",77),a.Lb(1,"input",78),a.Pb(2,"label",79),a.Cc(3,"Draft"),a.Ob(),a.Ob())}function T(e,t){1&e&&(a.Pb(0,"div",80),a.Lb(1,"input",81),a.Pb(2,"label",82),a.Cc(3,"Awaiting my signature"),a.Ob(),a.Ob())}function F(e,t){1&e&&(a.Pb(0,"div",80),a.Lb(1,"input",83),a.Pb(2,"label",84),a.Cc(3,"Awaiting other parties signature"),a.Ob(),a.Ob())}function U(e,t){1&e&&(a.Pb(0,"div",85),a.Lb(1,"input",86),a.Pb(2,"label",87),a.Cc(3,"Approved"),a.Ob(),a.Ob())}function N(e,t){1&e&&(a.Pb(0,"div",88),a.Lb(1,"input",89),a.Pb(2,"label",90),a.Cc(3,"Rejected"),a.Ob(),a.Ob())}function z(e,t){1&e&&(a.Pb(0,"div",85),a.Lb(1,"input",86),a.Pb(2,"label",87),a.Cc(3,"Completed"),a.Ob(),a.Ob())}function B(e,t){if(1&e){const e=a.Qb();a.Pb(0,"button",91),a.ac("click",(function(){a.sc(e);const t=a.cc().$implicit;return a.cc().confirmDelete(t)})),a.Lb(1,"i",92),a.Cc(2," Delete"),a.Ob()}}function R(e,t){if(1&e){const e=a.Qb();a.Pb(0,"div",57),a.Pb(1,"div",58),a.Pb(2,"div"),a.Lb(3,"i",59),a.Ob(),a.Ob(),a.Pb(4,"div",60),a.Pb(5,"div",61),a.Pb(6,"div",62),a.Pb(7,"p",63),a.Cc(8),a.Ob(),a.Pb(9,"p",63),a.Cc(10),a.dc(11,"date"),a.Ob(),a.Pb(12,"p",63),a.Cc(13),a.Ob(),a.Ob(),a.Ac(14,D,4,0,"div",64),a.Ac(15,T,4,0,"div",65),a.Ac(16,F,4,0,"div",65),a.Ac(17,U,4,0,"div",66),a.Ac(18,N,4,0,"div",67),a.Ac(19,z,4,0,"div",66),a.Ob(),a.Ob(),a.Pb(20,"div",68),a.Pb(21,"div",69),a.Pb(22,"div"),a.Pb(23,"button",70),a.ac("click",(function(){a.sc(e);const i=t.$implicit;return a.cc().viewDoc(i)})),a.Lb(24,"i",71),a.Cc(25," View"),a.Ob(),a.Pb(26,"button",72),a.ac("click",(function(){a.sc(e);const i=t.$implicit;return a.cc().print(i)})),a.Lb(27,"i",73),a.Cc(28," Print"),a.Ob(),a.Ob(),a.Pb(29,"div"),a.Pb(30,"button",74),a.ac("click",(function(){a.sc(e);const i=t.$implicit;return a.cc().downloadDoc(i)})),a.Lb(31,"i",75),a.Cc(32," Download"),a.Ob(),a.Ac(33,B,3,0,"button",76),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=t.$implicit,i=a.cc();a.xb(8),a.Dc(e.name),a.xb(2),a.Dc(a.fc(11,10,e.created_at,"medium")),a.xb(3),a.Dc(e.unique_id),a.xb(1),a.ic("ngIf",0==e.status),a.xb(1),a.ic("ngIf",1==e.status&&e.user_id!==i.user_id),a.xb(1),a.ic("ngIf",1==e.status&&e.user_id===i.user_id),a.xb(1),a.ic("ngIf",2==e.status),a.xb(1),a.ic("ngIf",3==e.status),a.xb(1),a.ic("ngIf",4==e.status),a.xb(14),a.ic("ngIf",0===e.status)}}let K=(()=>{class e{constructor(e,t,i,n,r){this.commonService=e,this.alert=t,this.sanitier=i,this.eThree=n,this.data=r,this.documents=[],this.user_id=0,this.user_uid="",this.img_selected=!1,this.loading=!1,this.selected_file_name="",this.doc_name="",this.doc_url="",this.docUid="",this.page=1,this.search="",this.sort_by="",this.filter_by="",this.doc_base64="",this.fileForm=new o.e({file:new o.c("",[o.p.required]),fileSrc:new o.c("",[o.p.required]),mimeType:new o.c("",[o.p.required])})}ngOnInit(){this.documentList(),this.data.showLoader(!0);const e=this.commonService.getUserData();this.user_id=e.id,this.user_uid=e.uid}documentList(){let e="doc/documents";const t=[];this.page&&t.push("page="+this.page),""!==this.sort_by&&t.push("sort_by="+this.sort_by),""!==this.search&&t.push("search="+this.search),""!==this.filter_by&&t.push("filter_by="+this.filter_by),t.length&&(e+="?"+t.join("&")),this.commonService.commonGetCall(e).subscribe(e=>{this.documents=e.data;for(const t of this.documents)t.preview=t.url.substr(0,t.url.indexOf("?"));this.data.showLoader(!1)},e=>{this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":401===e.status?e.statusText:e.error.message)})}trustUrl(e){return this.sanitier.bypassSecurityTrustResourceUrl(e)}afterLoadComplete(e){}afterLoadModal(e){console.log("loaded",e),this.data.showLoader(!1)}sanitizeUrl(e){return this.sanitier.bypassSecurityTrustUrl(e)}print(e){return Object(_.a)(this,void 0,void 0,(function*(){this.data.showLoader(!0);const t=(yield this.dataURLtoBase64(e.url)).replace("data:application/octet-stream;base64,",""),i=yield this.decryptFile(e.uid,t,e.user_uid,e.initiatorId);x()({printable:i,type:"pdf",showModal:!0,base64:!0}),this.data.showLoader(!1)}))}downloadDoc(e){return Object(_.a)(this,void 0,void 0,(function*(){this.data.showLoader(!0);const t=(yield this.dataURLtoBase64(e.url)).replace("data:application/octet-stream;base64,",""),i=yield this.decryptFile(e.uid,t,e.user_uid,e.initiatorId);this.doc_base64="data:application/pdf;base64,"+i,this.data.showLoader(!1);const n=document.createElement("a");n.href=this.doc_base64,n.download=this.doc_name,n.click()}))}get f(){return this.fileForm.controls}onFileChange(e){if(e.target.files.length>0){this.loading=!0,this.fileForm.controls.file.disable();const t=e.target.files[0];if("application/pdf"!==t.type){const e=new FormData;e.append("file",t),e.append("mimeType",t.type),this.commonService.commonPostCall("doc/convert_to_pdf",e).subscribe(e=>Object(_.a)(this,void 0,void 0,(function*(){const i=e.s3Url,n=yield this.dataURLtoBase64(i,{mode:"no-cors"});console.log(n),this.selected_file_name=t.name.substring(0,10)+"...",this.fileForm.patchValue({fileSrc:n}),this.fileForm.patchValue({mimeType:"application/pdf"}),this.img_selected=!0,this.fileForm.controls.file.enable(),this.loading=!1})),e=>{this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":401===e.status?e.statusText:e.error.message)})}else this.selected_file_name=t.name.substring(0,10)+"...",this.fileForm.patchValue({fileSrc:t}),this.fileForm.patchValue({mimeType:t.type}),this.img_selected=!0,this.fileForm.controls.file.enable(),this.loading=!1}}searchBy(e){this.search=e.target.value,this.documentList()}filterBy(e){console.log(e.target.value),this.filter_by=e.target.value,this.data.showLoader(!0),this.documentList()}sortBy(e){console.log(e.target.value),this.sort_by=e.target.value,this.data.showLoader(!0),this.documentList()}submit(){return Object(_.a)(this,void 0,void 0,(function*(){this.data.showLoader(!0);const e=j.UUID.UUID(),t=this.fileForm.get("fileSrc").value;console.log(t);const i=yield this.encryptFile(e,t),n=new FormData;n.append("groupId",e),n.append("fileKey","empty-string"),n.append("file",i),n.append("mimeType",this.fileForm.get("mimeType").value),this.selected_file_name="",this.img_selected=!1,this.commonService.commonPostCall("doc/upload_encrypted_document",n).subscribe(e=>{this.documentList(),this.data.showLoader(!1),this.alert.success(e.message)},e=>{this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":401===e.status?e.statusText:e.error.message)})}))}encryptFile(e,t){return Object(_.a)(this,void 0,void 0,(function*(){return console.log(t),new Promise((i,n)=>Object(_.a)(this,void 0,void 0,(function*(){try{if("string"==typeof t){const n=t.replace("data:application/pdf;base64,","");console.log(n);const o=yield this.eThree.encryptFile(e,n);console.log(o);const r=this.dataURItoBlob(o),a=new File([r],"encryptedFile.pdf",{type:"application/pdf"});i(a)}else{const n=new FileReader;n.onload=t=>Object(_.a)(this,void 0,void 0,(function*(){const n=t.target.result.replace("data:application/pdf;base64,","");console.log(n);const o=yield this.eThree.encryptFile(e,n);console.log(o);const r=this.dataURItoBlob(o),a=new File([r],"encryptedFile.pdf",{type:"application/pdf"});i(a)})),n.readAsDataURL(t)}}catch(o){console.log(o),n(o)}})))}))}decryptFile(e,t,i,n){return Object(_.a)(this,void 0,void 0,(function*(){try{return yield this.eThree.decryptFile(e,t,i,n)}catch(o){console.log(o)}}))}viewDoc(e){return Object(_.a)(this,void 0,void 0,(function*(){this.data.showLoader(!0);try{const t=(yield this.dataURLtoBase64(e.url)).replace("data:application/octet-stream;base64,",""),i=yield this.decryptFile(e.uid,t,e.user_uid,e.initiatorId);this.doc_url="data:application/pdf;base64,"+i,this.doc_name=e.name}catch(t){console.log(t)}}))}dataURLtoBase64(e,t={}){return new Promise((i,n)=>{fetch(e,t).then((function(e){return e.blob()})).then(e=>{console.log(e);const t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){const e=t.result;console.log(e),i(e)}}).catch(e=>n(e))})}dataURItoBlob(e){const t=window.atob(e),i=new ArrayBuffer(t.length),n=new Uint8Array(i);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([n],{type:"application/pdf"})}confirmDelete(e){this.docUid=e.uid,this.doc_name=e.name}deleteDoc(){this.data.showLoader(!0),this.commonService.commonPostCall("doc/delete_document",{docUid:this.docUid}).subscribe(e=>{this.documentList(),$("#delete_doc").modal("hide"),this.data.showLoader(!1),this.alert.success(e.message)},e=>{this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":401===e.status?e.statusText:e.error.message)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.a),a.Kb(c.a),a.Kb(L.b),a.Kb(m.a),a.Kb(d.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-my-document"]],decls:82,vars:13,consts:[[1,"right_sidebar"],[1,"container-fluid"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col_selector"],[1,"document_upperpart"],["action",""],[1,"document_seacrh","mb-4"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","search",1,"form-control","pl-5",3,"keyup"],[1,"document_filter"],[1,"filter_seperate"],[1,"form-group"],["for","exampleInputEmail1"],[1,"form-control",3,"change"],["value",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"filter_seperate","w-50"],["value","created"],["value","name"],["value","updated"],[1,"filter_seperate","text-right"],[3,"formGroup","ngSubmit"],["for","file","class","mb-0",4,"ngIf"],["formControlName","file","type","file","class","d-none","id","file",3,"change",4,"ngIf"],["class","pr-1",4,"ngIf"],["class","btn btn-primary","type","submit",4,"ngIf"],["class","document_lowerpart",4,"ngFor","ngForOf"],["id","view_doc",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered",2,"max-width","1050px"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"pdf-modal-view",3,"src","show-borders","zoom","autoresize","show-all","after-load-complete"],["id","delete_doc",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"text-center","mb-4"],["src","assets/images/close.png","width","70","alt",""],[1,"text-center","mb-3"],[1,"text-secondary"],[1,"form-group","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","mr-3"],["type","submit",1,"btn","btn-primary",3,"click"],["for","file",1,"mb-0"],[1,"btn","btn-primary","mb-0"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"],["formControlName","file","type","file","id","file",1,"d-none",3,"change"],[1,"pr-1"],["type","submit",1,"btn","btn-primary"],[1,"document_lowerpart"],[1,"w-10","mr-4"],["aria-hidden","true",1,"fa","fa-file-pdf-o","pdf-icon"],[1,"w-50","mr-4"],[1,"document_card"],[1,"mb-4"],[1,"mb-0"],["class","custom-control custom-radio radio_draft",4,"ngIf"],["class","custom-control custom-radio radio_awaiting",4,"ngIf"],["class","custom-control custom-radio radio_completed",4,"ngIf"],["class","custom-control custom-radio radio_rejected",4,"ngIf"],[1,"w-40"],[1,"d-flex","justify-content-center"],["type","button","data-toggle","modal","data-target","#view_doc",1,"btn","btn-info","mb-2","fz12","w-80",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-icon"],["type","button",1,"btn","btn-dark","mb-2","fz12","w-80",3,"click"],["aria-hidden","true",1,"fa","fa-print","fa-icon"],["type","button",1,"btn","btn-secondary","mb-2","fz12","w-auto",3,"click"],["aria-hidden","true",1,"fa","fa-download","fa-icon"],["type","button","class","btn btn-danger mb-2 fz12 w-80","data-toggle","modal","data-target","#delete_doc",3,"click",4,"ngIf"],[1,"custom-control","custom-radio","radio_draft"],["type","checkbox","id","draft","checked","",1,"custom-control-input"],["for","draft",1,"custom-control-label"],[1,"custom-control","custom-radio","radio_awaiting"],["type","checkbox","id","awaiting-mine","checked","",1,"custom-control-input"],["for","awaiting-mine",1,"custom-control-label"],["type","checkbox","id","awaiting","checked","",1,"custom-control-input"],["for","awaiting",1,"custom-control-label"],[1,"custom-control","custom-radio","radio_completed"],["type","checkbox","id","completed","checked","",1,"custom-control-input"],["for","completed",1,"custom-control-label"],[1,"custom-control","custom-radio","radio_rejected"],["type","checkbox","id","rejected","checked","",1,"custom-control-input"],["for","rejected",1,"custom-control-label"],["type","button","data-toggle","modal","data-target","#delete_doc",1,"btn","btn-danger","mb-2","fz12","w-80",3,"click"],["aria-hidden","true",1,"fa","fa-trash","fa-icon"]],template:function(e,t){1&e&&(a.Lb(0,"app-header"),a.Pb(1,"div",0),a.Pb(2,"div"),a.Pb(3,"div",1),a.Pb(4,"div",2),a.Lb(5,"div",3),a.Pb(6,"div",4),a.Pb(7,"div",5),a.Pb(8,"div",6),a.Pb(9,"form",7),a.Pb(10,"div",8),a.Lb(11,"i",9),a.Pb(12,"input",10),a.ac("keyup",(function(e){return t.searchBy(e)})),a.Ob(),a.Ob(),a.Pb(13,"div",11),a.Pb(14,"div",12),a.Pb(15,"div",13),a.Pb(16,"label",14),a.Cc(17,"Status"),a.Ob(),a.Pb(18,"select",15),a.ac("change",(function(e){return t.filterBy(e)})),a.Pb(19,"option",16),a.Cc(20,"All"),a.Ob(),a.Pb(21,"option",17),a.Cc(22,"Draft"),a.Ob(),a.Pb(23,"option",18),a.Cc(24,"Awaiting my signature"),a.Ob(),a.Pb(25,"option",19),a.Cc(26,"Awaiting other parties signature"),a.Ob(),a.Pb(27,"option",20),a.Cc(28,"Rejected"),a.Ob(),a.Pb(29,"option",21),a.Cc(30,"Completed"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(31,"div",22),a.Pb(32,"div",13),a.Pb(33,"label",14),a.Cc(34,"Document"),a.Ob(),a.Pb(35,"select",15),a.ac("change",(function(e){return t.sortBy(e)})),a.Pb(36,"option",23),a.Cc(37,"Date of Creation"),a.Ob(),a.Pb(38,"option",24),a.Cc(39,"Document Name"),a.Ob(),a.Pb(40,"option",25),a.Cc(41,"Recently Updated"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(42,"div",26),a.Pb(43,"form",27),a.ac("ngSubmit",(function(){return t.submit()})),a.Ac(44,A,4,1,"label",28),a.Ac(45,I,1,0,"input",29),a.Ac(46,E,2,1,"span",30),a.Ac(47,M,2,0,"button",31),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Lb(48,"hr"),a.Ac(49,R,34,13,"div",32),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(50,"div",33),a.Pb(51,"div",34),a.Pb(52,"div",35),a.Pb(53,"div",36),a.Pb(54,"h4",37),a.Cc(55),a.Ob(),a.Pb(56,"button",38),a.Cc(57,"\u2715"),a.Ob(),a.Ob(),a.Pb(58,"div",39),a.Pb(59,"pdf-viewer",40),a.ac("after-load-complete",(function(e){return t.afterLoadModal(e)})),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(60,"div",41),a.Pb(61,"div",42),a.Pb(62,"div",35),a.Pb(63,"div",36),a.Pb(64,"h4",37),a.Cc(65),a.Ob(),a.Ob(),a.Pb(66,"div",39),a.Pb(67,"div"),a.Pb(68,"form",7),a.Pb(69,"div",43),a.Lb(70,"img",44),a.Ob(),a.Pb(71,"div",45),a.Pb(72,"h4"),a.Cc(73,"Are you sure?"),a.Ob(),a.Ob(),a.Pb(74,"div",43),a.Pb(75,"p",46),a.Cc(76,"Do you really want to delete this document?"),a.Ob(),a.Ob(),a.Pb(77,"div",47),a.Pb(78,"button",48),a.Cc(79,"Close"),a.Ob(),a.Pb(80,"button",49),a.ac("click",(function(){return t.deleteDoc()})),a.Cc(81,"Confirm"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.xb(43),a.ic("formGroup",t.fileForm),a.xb(1),a.ic("ngIf",!t.img_selected),a.xb(1),a.ic("ngIf",!t.img_selected),a.xb(1),a.ic("ngIf",t.img_selected),a.xb(1),a.ic("ngIf",t.img_selected),a.xb(2),a.ic("ngForOf",t.documents),a.xb(6),a.Dc(t.doc_name),a.xb(4),a.ic("src",t.doc_url)("show-borders",!0)("zoom",1.2)("autoresize",!0)("show-all",!0),a.xb(6),a.Ec("Delete ",t.doc_name,""))},directives:[v,o.r,o.k,o.l,o.n,o.q,o.f,n.l,n.k,S.a,o.a,o.j,o.d],pipes:[n.d],styles:[".fa-icon[_ngcontent-%COMP%]{font-size:16px;margin-right:5px}.w-65[_ngcontent-%COMP%]{width:65%!important}pdf-viewer[_ngcontent-%COMP%]{display:block;height:100vh}.pdf-preview[_ngcontent-%COMP%]{height:250px}.pdf-modal-view[_ngcontent-%COMP%]{height:1000px;width:1000px}.pdf-icon[_ngcontent-%COMP%]{font-size:100px;color:#cd5c5c}"]}),e})();function H(e,t){1&e&&(a.Pb(0,"div"),a.Cc(1,"Mobile number required"),a.Ob())}function V(e,t){if(1&e&&(a.Pb(0,"div",14),a.Ac(1,H,2,0,"div",15),a.Ob()),2&e){const e=a.cc();a.xb(1),a.ic("ngIf",e.f.mobile_number.errors.required)}}function q(e,t){1&e&&(a.Pb(0,"div"),a.Cc(1,"Enter valid mobile number"),a.Ob())}function J(e,t){if(1&e&&(a.Pb(0,"div",14),a.Ac(1,q,2,0,"div",15),a.Ob()),2&e){const e=a.cc();a.xb(1),a.ic("ngIf",e.f.mobile_number.errors.pattern)}}function G(e,t){1&e&&(a.Pb(0,"div"),a.Cc(1,"Password required"),a.Ob())}function W(e,t){if(1&e&&(a.Pb(0,"div",14),a.Ac(1,G,2,0,"div",15),a.Ob()),2&e){const e=a.cc();a.xb(1),a.ic("ngIf",e.f.password.errors.required)}}const Q=function(e){return{"is-invalid":e}};let X=(()=>{class e{constructor(e,t,i,n,o,r){this.router=e,this.formBuilder=t,this.commonService=i,this.alert=n,this.data=o,this.eThree=r,this.submitted=!1,this.registerE3Kit=(e,t)=>Object(_.a)(this,void 0,void 0,(function*(){yield e.register(),e.backupPrivateKey(t).then(()=>console.log("backupPrivateKey success")).catch(e=>console.error("backupPrivateKey error: ",e))}))}ngOnInit(){this.buildForm(),this.userLoggedIn=this.commonService.getUserData(),null!=this.userLoggedIn&&this.alreadyLoggedIn()}buildForm(){this.loginForm=this.formBuilder.group({mobile_number:["",[o.p.required,o.p.pattern("^[0-9]*$")]],password:["",[o.p.required]]})}get f(){return this.loginForm.controls}loginNow(){if(this.submitted=!0,this.loginForm.invalid)return!1;this.data.showLoader(!0),this.commonService.commonPostCall("auth/login",this.loginForm.value).subscribe(e=>Object(_.a)(this,void 0,void 0,(function*(){const t=e.data.user;this.commonService.shareUserData(e.data.user);const i=JSON.stringify(t);this.commonService.setLocalConfig({userData:i,token:e.data.accessToken.token,uid:t.uid});try{yield this.eThree.hasLocalPrivateKey(this.loginForm.get("password").value)}catch(n){console.log(n)}this.alert.success(e.message),this.data.showLoader(!1),this.router.navigate(["/user/dashboard"])})),e=>{this.data.showLoader(!1),this.alert.error(0==e.status?"Check your internet connection!":e.error.message)})}alreadyLoggedIn(){this.commonService.commonGetCall("auth/already_logged_in").subscribe(e=>{this.router.navigate(["/user/dashboard"])},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(r.b),a.Kb(o.b),a.Kb(s.a),a.Kb(c.a),a.Kb(d.a),a.Kb(m.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-login"]],decls:25,vars:10,consts:[[1,"user_login"],[1,"logo_part"],[1,"text-center","mb-4"],["src","assets/images/white-logo.png","alt","logo","width","172",1,"img-fluid"],[1,"mt-2","mb-0","font-weight-bold","fz15"],[1,"login_part"],[1,"text-center","fz30","mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","tel","formControlName","mobile_number","placeholder","Mobile Number",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-primary","rounded-0"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Lb(0,"app-loader"),a.Pb(1,"section",0),a.Pb(2,"div",1),a.Pb(3,"div",2),a.Lb(4,"img",3),a.Pb(5,"p",4),a.Cc(6,"Digital Signing Platform"),a.Ob(),a.Ob(),a.Pb(7,"div",5),a.Pb(8,"h1",6),a.Cc(9,"Login"),a.Ob(),a.Pb(10,"form",7),a.ac("ngSubmit",(function(){return t.loginNow()})),a.Pb(11,"div",8),a.Pb(12,"label"),a.Cc(13,"Mobile Number"),a.Ob(),a.Lb(14,"input",9),a.Ac(15,V,2,1,"div",10),a.Ac(16,J,2,1,"div",10),a.Ob(),a.Pb(17,"div",8),a.Pb(18,"label"),a.Cc(19,"Password"),a.Ob(),a.Lb(20,"input",11),a.Ac(21,W,2,1,"div",10),a.Ob(),a.Pb(22,"div",12),a.Pb(23,"button",13),a.Cc(24,"Login"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.xb(10),a.ic("formGroup",t.loginForm),a.xb(4),a.ic("ngClass",a.mc(6,Q,t.submitted&&t.f.mobile_number.errors)),a.xb(1),a.ic("ngIf",t.submitted&&t.f.mobile_number.errors),a.xb(1),a.ic("ngIf",t.submitted&&t.f.mobile_number.errors),a.xb(4),a.ic("ngClass",a.mc(8,Q,t.submitted&&t.f.password.errors)),a.xb(1),a.ic("ngIf",t.submitted&&t.f.password.errors))},directives:[u,o.r,o.k,o.f,o.a,o.j,o.d,n.j,n.l],styles:[""]}),e})();var Y=i("tIkO");const Z=[{path:"",children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:X},{path:"dashboard",component:w,canActivate:[Y.a]},{path:"my-account",component:P,canActivate:[Y.a]},{path:"my-document",component:K,canActivate:[Y.a]}]}];let ee=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(Z)],r.e]}),e})();var te=i("YnkO");let ie=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[n.b,ee,o.o,o.g,S.b,te.a.forRoot({preserveScrollPosition:!0})]]}),e})()},o9EK:function(e,t,i){"use strict";t.UUID=function(){function e(){}return e.UUID=function(){if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){var e=new Uint16Array(8);return window.crypto.getRandomValues(e),this.pad4(e[0])+this.pad4(e[1])+"-"+this.pad4(e[2])+"-"+this.pad4(e[3])+"-"+this.pad4(e[4])+"-"+this.pad4(e[5])+this.pad4(e[6])+this.pad4(e[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},e.pad4=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t},e.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e}()},rdXg:function(e,t,i){var n;window,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,(function(t){return e[t]}).bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}({"./src/index.js":function(e,t,i){"use strict";i.r(t),i("./src/sass/index.scss");var n=i("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=n),t.default=n},"./src/js/browser.js":function(e,t,i){"use strict";i.r(t);var n={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!n.isIE()&&!!window.StyleMedia},isChrome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!e.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};t.default=n},"./src/js/functions.js":function(e,t,i){"use strict";i.r(t),i.d(t,"addWrapper",(function(){return a})),i.d(t,"capitalizePrint",(function(){return s})),i.d(t,"collectStyles",(function(){return c})),i.d(t,"addHeader",(function(){return l})),i.d(t,"cleanUp",(function(){return b})),i.d(t,"isRawHTML",(function(){return u}));var n=i("./src/js/modal.js"),o=i("./src/js/browser.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return'<div style="font-family:'+t.font+" !important; font-size: "+t.font_size+' !important; width:100%;">'+e+"</div>"}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e,t){for(var i="",n=(document.defaultView||window).getComputedStyle(e,""),o=0;o<n.length;o++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(n[o])||d(t.targetStyles,n[o]))&&n.getPropertyValue(n[o])&&(i+=n[o]+":"+n.getPropertyValue(n[o])+";");return i+"max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}function d(e,t){for(var i=0;i<e.length;i++)if("object"===r(t)&&-1!==t.indexOf(e[i]))return!0;return!1}function l(e,t){var i=document.createElement("div");if(u(t.header))i.innerHTML=t.header;else{var n=document.createElement("h1"),o=document.createTextNode(t.header);n.appendChild(o),n.setAttribute("style",t.headerStyle),i.appendChild(n)}e.insertBefore(i,e.childNodes[0])}function b(e){e.showModal&&n.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(o.default.isChrome()||o.default.isFirefox())&&(t="focus"),window.addEventListener(t,(function i(){window.removeEventListener(t,i),e.onPrintDialogClose();var n=document.getElementById(e.frameId);n&&n.remove()}))}function u(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}},"./src/js/html.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/functions.js"),o=i("./src/js/print.js");t.default={print:function(e,t){var i=document.getElementById(e.printable);i?(e.printableElement=function e(t,i){for(var o=t.cloneNode(),r=Array.prototype.slice.call(t.childNodes),a=0;a<r.length;a++)if(-1===i.ignoreElements.indexOf(r[a].id)){var s=e(r[a],i);o.appendChild(s)}switch(i.scanStyles&&1===t.nodeType&&o.setAttribute("style",Object(n.collectStyles)(t,i)),t.tagName){case"SELECT":o.value=t.value;break;case"CANVAS":o.getContext("2d").drawImage(t,0,0)}return o}(i,e),e.header&&Object(n.addHeader)(e.printableElement,e),o.default.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/functions.js"),o=i("./src/js/print.js"),r=i("./src/js/browser.js");t.default={print:function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach((function(t){var i=document.createElement("img");i.setAttribute("style",e.imageStyle),i.src=t,r.default.isFirefox()&&(i.src=i.src);var n=document.createElement("div");n.appendChild(i),e.printableElement.appendChild(n)})),e.header&&Object(n.addHeader)(e.printableElement,e),o.default.send(e,t)}}},"./src/js/init.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/browser.js"),o=i("./src/js/modal.js"),r=i("./src/js/pdf.js"),a=i("./src/js/html.js"),s=i("./src/js/raw-html.js"),c=i("./src/js/image.js"),d=i("./src/js/json.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["pdf","html","image","json","raw-html"];t.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(l(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var i in e.printable=t.printable,e.fallbackPrintable=void 0!==t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==i&&"fallbackPrintable"!==i&&(e[i]=void 0!==t[i]?t[i]:e[i]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+l(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===b.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&o.default.show(e),e.onLoadingStart&&e.onLoadingStart();var u=document.getElementById(e.frameId);u&&u.parentNode.removeChild(u);var m=document.createElement("iframe");switch(n.default.isFirefox()?m.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):m.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),m.setAttribute("id",e.frameId),"pdf"!==e.type&&(m.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach((function(e){m.srcdoc+='<link rel="stylesheet" href="'+e+'">'}))),m.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(n.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var f=window.open(e.fallbackPrintable,"_blank");f.focus(),e.onIncompatibleBrowser()}catch(p){e.onError(p)}finally{e.showModal&&o.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else r.default.print(e,m);break;case"image":c.default.print(e,m);break;case"html":a.default.print(e,m);break;case"raw-html":s.default.print(e,m);break;case"json":d.default.print(e,m)}}}},"./src/js/json.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/functions.js"),o=i("./src/js/print.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default={print:function(e,t){if("object"!==r(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map((function(t){return{field:"object"===r(t)?t.field:t,displayName:"object"===r(t)?t.displayName:t,columnSize:"object"===r(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}})),e.printableElement=document.createElement("div"),e.header&&Object(n.addHeader)(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,i=e.properties,o='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(o+="<thead>"),o+="<tr>";for(var r=0;r<i.length;r++)o+='<th style="width:'+i[r].columnSize+";"+e.gridHeaderStyle+'">'+Object(n.capitalizePrint)(i[r].displayName)+"</th>";o+="</tr>",e.repeatTableHeader&&(o+="</thead>"),o+="<tbody>";for(var a=0;a<t.length;a++){o+="<tr>";for(var s=0;s<i.length;s++){var c=t[a],d=i[s].field.split(".");if(d.length>1)for(var l=0;l<d.length;l++)c=c[d[l]];else c=c[i[s].field];o+='<td style="width:'+i[s].columnSize+e.gridStyle+'">'+c+"</td>"}o+="</tr>"}return o+"</tbody></table>"}(e),o.default.send(e,t)}}},"./src/js/modal.js":function(e,t,i){"use strict";i.r(t);var n={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var i=document.createElement("div");i.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),i.appendChild(o);var r=document.createElement("span");r.setAttribute("class","printSpinner"),i.appendChild(r);var a=document.createTextNode(e.modalMessage);i.appendChild(a),t.appendChild(i),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",(function(){n.close()}))},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}};t.default=n},"./src/js/pdf.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/print.js"),o=i("./src/js/functions.js");function r(e,t,i){var o=new window.Blob([i],{type:"application/pdf"});o=window.URL.createObjectURL(o),t.setAttribute("src",o),n.default.send(e,t)}t.default={print:function(e,t){if(e.base64){var i=Uint8Array.from(atob(e.printable),(function(e){return e.charCodeAt(0)}));r(e,t,i)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var n=new window.XMLHttpRequest;n.responseType="arraybuffer",n.addEventListener("error",(function(){Object(o.cleanUp)(e),e.onError(n.statusText)})),n.addEventListener("load",(function(){if(-1===[200,201].indexOf(n.status))return Object(o.cleanUp)(e),void e.onError(n.statusText);r(e,t,n.response)})),n.open("GET",e.printable,!0),n.send()}}}},"./src/js/print.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/browser.js"),o=i("./src/js/functions.js");function r(e,t){try{if(e.focus(),n.default.isEdge()||n.default.isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch(i){e.contentWindow.print()}else e.contentWindow.print()}catch(r){t.onError(r)}finally{n.default.isFirefox()&&(e.style.visibility="hidden",e.style.left="-1px"),Object(o.cleanUp)(t)}}t.default={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var i=document.getElementById(e.frameId);i.onload=function(){if("pdf"!==e.type){var t=i.contentWindow||i.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var o=document.createElement("style");o.innerHTML=e.style,t.head.appendChild(o)}var a=t.getElementsByTagName("img");a.length>0?function(e){var t=e.map((function(e){if(e.src&&e.src!==window.location.href)return function(e){return new Promise((function(t){!function i(){e&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(i,500)}()}))}(e)}));return Promise.all(t)}(Array.from(a)).then((function(){return r(i,e)})):r(i,e)}else n.default.isFirefox()?setTimeout((function(){return r(i,e)}),1e3):r(i,e)}}}},"./src/js/raw-html.js":function(e,t,i){"use strict";i.r(t);var n=i("./src/js/print.js");t.default={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,n.default.send(e,t)}}},"./src/sass/index.scss":function(e,t,i){},0:function(e,t,i){e.exports=i("./src/index.js")}}).default},e.exports=n()}}]);