(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{DGkJ:function(t,e,r){"use strict";r.d(e,"a",(function(){return up}));var n=r("mrSG");class i{constructor(t){if(null==t)throw new Error("`crypto` is required");this.crypto=t}generateSignature(t,e){return this.crypto.calculateSignature(t,e)}verifySignature(t,e,r){return this.crypto.verifySignature(t,e,r)}exportPublicKey(t){return this.crypto.exportPublicKey(t)}importPublicKey(t){return this.crypto.importPublicKey(t)}generateSha512(t){return this.crypto.calculateHash(t)}}var s=function(t,e){return function(t,e){var r,n=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var e;t=t||{},e||(e=void 0!==t?t:{});var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);var s="";document.currentScript&&(s=document.currentScript.src),r&&(s=r),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"";var o,a=e.print||console.log.bind(console),c=e.printErr||console.warn.bind(console);for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);i=null,e.wasmBinary&&(o=e.wasmBinary),"object"!=typeof WebAssembly&&c("no native wasm support detected");var u,l,_,f,d,p,h=new WebAssembly.Table({initial:717,maximum:717,element:"anyfunc"}),y=!1,v="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function m(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.subarray&&v)return v.decode(t.subarray(e,r));for(n="";e<r;){var i=t[e++];if(128&i){var s=63&t[e++];if(192==(224&i))n+=String.fromCharCode((31&i)<<6|s);else{var o=63&t[e++];65536>(i=224==(240&i)?(15&i)<<12|s<<6|o:(7&i)<<18|s<<12|o<<6|63&t[e++])?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else n+=String.fromCharCode(i)}return n}function g(t){return 0<t%65536&&(t+=65536-t%65536),t}function P(t){l=t,e.HEAP8=_=new Int8Array(t),e.HEAP16=d=new Int16Array(t),e.HEAP32=p=new Int32Array(t),e.HEAPU8=f=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var x=e.TOTAL_MEMORY||16777216;function b(t){for(;0<t.length;){var r=t.shift();if("function"==typeof r)r();else{var n=r.mu;"number"==typeof n?void 0===r.Vt?e.dynCall_v(n):e.dynCall_vi(n,r.Vt):n(void 0===r.Vt?null:r.Vt)}}}(u=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:x/65536}))&&(l=u.buffer),x=l.byteLength,P(l),p[39960]=5402880;var w=[],E=[],k=[],I=[];function N(){var t=e.preRun.shift();w.unshift(t)}var A=Math.abs,C=Math.ceil,T=Math.floor,S=Math.min,F=0,K=null;function R(t){throw e.onAbort&&e.onAbort(t),a(t),c(t),y=!0,new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}function L(){var t=D;return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}e.preloadedImages={},e.preloadedAudios={};var B,O,D="libfoundation.browser.wasm";if(!L()){var M=D;D=e.locateFile?e.locateFile(M,s):s+M}function U(){try{if(o)return new Uint8Array(o);throw"both async and sync fetching of the wasm failed"}catch(t){R(t)}}function z(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t}function H(t){var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=z(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function j(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function Y(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)}function V(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if("string"!=typeof(e=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=z(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."}E.push({mu:function(){Mt()}});var q=[];function G(t,e){q[t]={input:[],Gt:[],Ot:e},mt(t,W)}var W={open:function(t){var e=q[t.node.Tt];if(!e)throw new st(43);t.Ft=e,t.seekable=!1},close:function(t){t.Ft.Ot.flush(t.Ft)},flush:function(t){t.Ft.Ot.flush(t.Ft)},read:function(t,e,r,n){if(!t.Ft||!t.Ft.Ot.du)throw new st(60);for(var i=0,s=0;s<n;s++){try{var o=t.Ft.Ot.du(t.Ft)}catch(t){throw new st(29)}if(void 0===o&&0===i)throw new st(6);if(null==o)break;i++,e[r+s]=o}return i&&(t.node.timestamp=Date.now()),i},write:function(t,e,r,n){if(!t.Ft||!t.Ft.Ot.Xt)throw new st(60);try{for(var i=0;i<n;i++)t.Ft.Ot.Xt(t.Ft,e[r+i])}catch(t){throw new st(29)}return n&&(t.node.timestamp=Date.now()),i}},X={du:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;for(var r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++n)),127>=i?++r:r=2047>=i?r+2:65535>=i?r+3:r+4}var s=(r=Array(r+1)).length;if(n=0,0<s){i=n,s=n+s-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(n>=s)break;r[n++]=a}else{if(2047>=a){if(n+1>=s)break;r[n++]=192|a>>6}else{if(65535>=a){if(n+2>=s)break;r[n++]=224|a>>12}else{if(n+3>=s)break;r[n++]=240|a>>18,r[n++]=128|a>>12&63}r[n++]=128|a>>6&63}r[n++]=128|63&a}}r[n]=0,e=n-i}else e=0;r.length=e,t.input=r}return t.input.shift()},Xt:function(t,e){null===e||10===e?(a(m(t.Gt,0)),t.Gt=[]):0!=e&&t.Gt.push(e)},flush:function(t){t.Gt&&0<t.Gt.length&&(a(m(t.Gt,0)),t.Gt=[])}},$={Xt:function(t,e){null===e||10===e?(c(m(t.Gt,0)),t.Gt=[]):0!=e&&t.Gt.push(e)},flush:function(t){t.Gt&&0<t.Gt.length&&(c(m(t.Gt,0)),t.Gt=[])}},J={Ht:null,Jt:function(){return J.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(24576==(61440&r)||4096==(61440&r))throw new st(63);return J.Ht||(J.Ht={dir:{node:{Lt:J.Ct.Lt,It:J.Ct.It,Pt:J.Ct.Pt,Rt:J.Ct.Rt,iu:J.Ct.iu,ku:J.Ct.ku,ju:J.Ct.ju,hu:J.Ct.hu,Ut:J.Ct.Ut},stream:{Nt:J.Dt.Nt}},file:{node:{Lt:J.Ct.Lt,It:J.Ct.It},stream:{Nt:J.Dt.Nt,read:J.Dt.read,write:J.Dt.write,Zt:J.Dt.Zt,eu:J.Dt.eu,gu:J.Dt.gu}},link:{node:{Lt:J.Ct.Lt,It:J.Ct.It,Qt:J.Ct.Qt},stream:{}},$t:{node:{Lt:J.Ct.Lt,It:J.Ct.It},stream:vt}}),16384==(61440&(r=_t(t,e,r,n)).mode)?(r.Ct=J.Ht.dir.node,r.Dt=J.Ht.dir.stream,r.Bt={}):32768==(61440&r.mode)?(r.Ct=J.Ht.file.node,r.Dt=J.Ht.file.stream,r.Et=0,r.Bt=null):40960==(61440&r.mode)?(r.Ct=J.Ht.link.node,r.Dt=J.Ht.link.stream):8192==(61440&r.mode)&&(r.Ct=J.Ht.$t.node,r.Dt=J.Ht.$t.stream),r.timestamp=Date.now(),t&&(t.Bt[e]=r),r},yu:function(t){if(t.Bt&&t.Bt.subarray){for(var e=[],r=0;r<t.Et;++r)e.push(t.Bt[r]);return e}return t.Bt},zu:function(t){return t.Bt?t.Bt.subarray?t.Bt.subarray(0,t.Et):new Uint8Array(t.Bt):new Uint8Array},au:function(t,e){var r=t.Bt?t.Bt.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)|0),0!=r&&(e=Math.max(e,256)),r=t.Bt,t.Bt=new Uint8Array(e),0<t.Et&&t.Bt.set(r.subarray(0,t.Et),0))},qu:function(t,e){if(t.Et!=e)if(0==e)t.Bt=null,t.Et=0;else{if(!t.Bt||t.Bt.subarray){var r=t.Bt;t.Bt=new Uint8Array(new ArrayBuffer(e)),r&&t.Bt.set(r.subarray(0,Math.min(e,t.Et)))}else if(t.Bt||(t.Bt=[]),t.Bt.length>e)t.Bt.length=e;else for(;t.Bt.length<e;)t.Bt.push(0);t.Et=e}},Ct:{Lt:function(t){var e={};return e.xu=8192==(61440&t.mode)?t.id:1,e.Bu=t.id,e.mode=t.mode,e.Du=1,e.uid=0,e.Au=0,e.Tt=t.Tt,e.size=16384==(61440&t.mode)?4096:32768==(61440&t.mode)?t.Et:40960==(61440&t.mode)?t.link.length:0,e.uu=new Date(t.timestamp),e.Cu=new Date(t.timestamp),e.wu=new Date(t.timestamp),e.lu=4096,e.vu=Math.ceil(e.size/e.lu),e},It:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&J.qu(t,e.size)},Pt:function(){throw ot[44]},Rt:function(t,e,r,n){return J.createNode(t,e,r,n)},iu:function(t,e,r){if(16384==(61440&t.mode)){try{var n=lt(e,r)}catch(t){}if(n)for(var i in n.Bt)throw new st(55)}delete t.parent.Bt[t.name],t.name=r,e.Bt[r]=t,t.parent=e},ku:function(t,e){delete t.Bt[e]},ju:function(t,e){var r,n=lt(t,e);for(r in n.Bt)throw new st(55);delete t.Bt[e]},hu:function(t){var e,r=[".",".."];for(e in t.Bt)t.Bt.hasOwnProperty(e)&&r.push(e);return r},Ut:function(t,e,r){return(t=J.createNode(t,e,41471,0)).link=r,t},Qt:function(t){if(40960!=(61440&t.mode))throw new st(28);return t.link}},Dt:{read:function(t,e,r,n,i){var s=t.node.Bt;if(i>=t.node.Et)return 0;if(8<(t=Math.min(t.node.Et-i,n))&&s.subarray)e.set(s.subarray(i,i+t),r);else for(n=0;n<t;n++)e[r+n]=s[i+n];return t},write:function(t,e,r,n,i,s){if(e.buffer===_.buffer&&(s=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Bt||t.Bt.subarray)){if(s)return t.Bt=e.subarray(r,r+n),t.Et=n;if(0===t.Et&&0===i)return t.Bt=new Uint8Array(e.subarray(r,r+n)),t.Et=n;if(i+n<=t.Et)return t.Bt.set(e.subarray(r,r+n),i),n}if(J.au(t,i+n),t.Bt.subarray&&e.subarray)t.Bt.set(e.subarray(r,r+n),i);else for(s=0;s<n;s++)t.Bt[i+s]=e[r+s];return t.Et=Math.max(t.Et,i+n),n},Nt:function(t,e,r){if(1===r?e+=t.position:2===r&&32768==(61440&t.node.mode)&&(e+=t.node.Et),0>e)throw new st(28);return e},Zt:function(t,e,r){J.au(t.node,e+r),t.node.Et=Math.max(t.node.Et,e+r)},eu:function(t,e,r,n,i,s,o){if(32768!=(61440&t.node.mode))throw new st(43);if(r=t.node.Bt,2&o||r.buffer!==e.buffer){if((0<i||i+n<t.node.Et)&&(r=r.subarray?r.subarray(i,i+n):Array.prototype.slice.call(r,i,i+n)),t=!0,i=e.buffer==_.buffer,!(n=zt(n)))throw new st(48);(i?_:e).set(r,n)}else t=!1,n=r.byteOffset;return{Fu:n,tu:t}},gu:function(t,e,r,n,i){if(32768!=(61440&t.node.mode))throw new st(43);return 2&i||J.Dt.write(t,e,0,n,r,!1),0}}},Z=null,Q={},tt=[],et=1,rt=null,nt=!0,it={},st=null,ot={};function at(t,e){if(e=e||{},!(t=V("/",t)))return{path:"",node:null};var r,n={cu:!0,Yt:0};for(r in n)void 0===e[r]&&(e[r]=n[r]);if(8<e.Yt)throw new st(32);t=z(t.split("/").filter((function(t){return!!t})),!1);var i=Z;for(n="/",r=0;r<t.length;r++){var s=r===t.length-1;if(s&&e.parent)break;if(i=lt(i,t[r]),n=H(n+"/"+t[r]),i.St&&(!s||s&&e.cu)&&(i=i.St.root),!s||e.bu)for(s=0;40960==(61440&i.mode);)if(i=Et(n),i=at(n=V(j(n),i),{Yt:e.Yt}).node,40<s++)throw new st(32)}return{path:n,node:i}}function ct(t){for(var e;;){if(t===t.parent)return t=t.Jt.fu,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}}function ut(t,e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%rt.length}function lt(t,e){var r;if(r=(r=pt(t,"x"))?r:t.Ct.Pt?0:2)throw new st(r,t);for(r=rt[ut(t.id,e)];r;r=r.pu)if(r.parent.id===t.id&&r.name===e)return r;return t.Ct.Pt(t,e)}function _t(t,e,r,n){return Tt||((Tt=function(t,e,r,n){t||(t=this),this.parent=t,this.Jt=t.Jt,this.St=null,this.id=et++,this.name=e,this.mode=r,this.Ct={},this.Dt={},this.Tt=n}).prototype={},Object.defineProperties(Tt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}})),function(t){var e=ut(t.parent.id,t.name);t.pu=rt[e],rt[e]=t}(t=new Tt(t,e,r,n)),t}var ft={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function dt(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e}function pt(t,e){return nt||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2}function ht(t,e){try{return lt(t,e),20}catch(t){}return pt(t,"wx")}var yt,vt={open:function(t){t.Dt=Q[t.node.Tt].Dt,t.Dt.open&&t.Dt.open(t)},Nt:function(){throw new st(70)}};function mt(t,e){Q[t]={Dt:e}}function gt(t,e){var r="/"===e,n=!e;if(r&&Z)throw new st(10);if(!r&&!n){var i=at(e,{cu:!1});if(e=i.path,(i=i.node).St)throw new st(10);if(16384!=(61440&i.mode))throw new st(54)}(t=t.Jt(e={type:t,Eu:{},fu:e,ou:[]})).Jt=e,e.root=t,r?Z=t:i&&(i.St=e,i.Jt&&i.Jt.ou.push(e))}function Pt(t,e,r){var n=at(t,{parent:!0}).node;if(!(t=Y(t))||"."===t||".."===t)throw new st(28);var i=ht(n,t);if(i)throw new st(i);if(!n.Ct.Rt)throw new st(63);return n.Ct.Rt(n,t,e,r)}function xt(t){Pt(t,16895,0)}function bt(t,e,r){void 0===r&&(r=e,e=438),Pt(t,8192|e,r)}function wt(t,e){if(!V(t))throw new st(44);var r=at(e,{parent:!0}).node;if(!r)throw new st(44);var n=ht(r,e=Y(e));if(n)throw new st(n);if(!r.Ct.Ut)throw new st(63);r.Ct.Ut(r,e,t)}function Et(t){if(!(t=at(t).node))throw new st(44);if(!t.Ct.Qt)throw new st(28);return V(ct(t.parent),t.Ct.Qt(t))}function kt(t,r,n,i){if(""===t)throw new st(44);if("string"==typeof r){var s=ft[r];if(void 0===s)throw Error("Unknown file open mode: "+r);r=s}if(n=64&r?4095&(void 0===n?438:n)|32768:0,"object"==typeof t)var o=t;else{t=H(t);try{o=at(t,{bu:!(131072&r)}).node}catch(t){}}if(s=!1,64&r)if(o){if(128&r)throw new st(20)}else o=Pt(t,n,0),s=!0;if(!o)throw new st(44);if(8192==(61440&o.mode)&&(r&=-513),65536&r&&16384!=(61440&o.mode))throw new st(54);if(!s&&(n=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==dt(r)||512&r)?31:pt(o,dt(r)):44))throw new st(n);if(512&r){var a;if(!(a="string"==typeof(n=o)?at(n,{bu:!0}).node:n).Ct.It)throw new st(63);if(16384==(61440&a.mode))throw new st(31);if(32768!=(61440&a.mode))throw new st(28);if(n=pt(a,"w"))throw new st(n);a.Ct.It(a,{size:0,timestamp:Date.now()})}r&=-641,(i=function(t,e){St||((St=function(){}).prototype={},Object.defineProperties(St.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}}}));var r,n=new St;for(r in t)n[r]=t[r];return t=n,e=function(t){for(t=t||0;t<=4096;t++)if(!tt[t])return t;throw new st(33)}(e),t.Kt=e,tt[e]=t}({node:o,path:ct(o),flags:r,seekable:!0,position:0,Dt:o.Dt,su:[],error:!1},i)).Dt.open&&i.Dt.open(i),!e.logReadFiles||1&r||(Ft||(Ft={}),t in Ft||(Ft[t]=1,console.log("FS.trackingDelegate error on read file: "+t)));try{it.onOpenFile&&(o=0,1!=(2097155&r)&&(o|=1),0!=(2097155&r)&&(o|=2),it.onOpenFile(t,o))}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return i}function It(t,e,r){if(null===t.Kt)throw new st(8);if(!t.seekable||!t.Dt.Nt)throw new st(70);if(0!=r&&1!=r&&2!=r)throw new st(28);t.position=t.Dt.Nt(t,e,r),t.su=[]}function Nt(){st||((st=function(t,e){this.node=e,this.ru=function(t){this.Mt=t},this.ru(t),this.message="FS error"}).prototype=Error(),st.prototype.constructor=st,[44].forEach((function(t){ot[t]=new st(t),ot[t].stack="<generic error, no stack>"})))}function At(t,e,r){t=H("/dev/"+t);var n=function(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r}(!!e,!!r);Ct||(Ct=64);var i=Ct++<<8|0;mt(i,{open:function(t){t.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(t,r,n,i){for(var s=0,o=0;o<i;o++){try{var a=e()}catch(t){throw new st(29)}if(void 0===a&&0===s)throw new st(6);if(null==a)break;s++,r[n+o]=a}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,n,i){for(var s=0;s<i;s++)try{r(e[n+s])}catch(t){throw new st(29)}return i&&(t.node.timestamp=Date.now()),s}}),bt(t,n,i)}var Ct,Tt,St,Ft,Kt={},Rt=0;function Lt(){return p[(Rt+=4)-4>>2]}function Bt(t){if(void 0===t&&(t=Lt()),!(t=tt[t]))throw new st(8);return t}Nt(),rt=Array(4096),gt(J,"/"),xt("/tmp"),xt("/home"),xt("/home/web_user"),function(){if(xt("/dev"),mt(259,{read:function(){return 0},write:function(t,e,r,n){return n}}),bt("/dev/null",259),G(1280,X),G(1536,$),bt("/dev/tty",1280),bt("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var t=new Uint8Array(1),e=function(){return crypto.getRandomValues(t),t[0]};e||(e=function(){R("random_device")}),At("random",e),At("urandom",e),xt("/dev/shm"),xt("/dev/shm/tmp")}(),xt("/proc"),xt("/proc/self"),xt("/proc/self/fd"),gt({Jt:function(){var t=_t("/proc/self","fd",16895,73);return t.Ct={Pt:function(t,e){var r=tt[+e];if(!r)throw new st(8);return(t={parent:null,Jt:{fu:"fake"},Ct:{Qt:function(){return r.path}}}).parent=t}},t}},"/proc/self/fd");var Ot={h:function(){},c:function(t,r){Rt=r;try{var n=Bt();switch(Lt()){case 0:var i=Lt();return 0>i?-28:kt(n.path,n.flags,0,i).Kt;case 1:case 2:return 0;case 3:return n.flags;case 4:return i=Lt(),n.flags|=i,0;case 12:return i=Lt(),d[i+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return e.___errno_location&&(p[e.___errno_location()>>2]=28),-1;default:return-28}}catch(t){return void 0!==Kt&&t instanceof st||R(t),-t.Mt}},g:function(t,e){Rt=e;try{var r=Lt();return kt(r?m(f,r,void 0):"",Lt(),Lt()).Kt}catch(t){return void 0!==Kt&&t instanceof st||R(t),-t.Mt}},l:function(t,e){Rt=e;try{var r=Bt(),n=Lt();switch(n){case 21509:case 21505:return r.Ft?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.Ft?0:-59;case 21519:if(!r.Ft)return-59;var i=Lt();return p[i>>2]=0;case 21520:return r.Ft?-28:-59;case 21531:if(t=i=Lt(),!r.Dt.nu)throw new st(59);return r.Dt.nu(r,n,t);case 21523:case 21524:return r.Ft?0:-59;default:R("bad ioctl syscall "+n)}}catch(t){return void 0!==Kt&&t instanceof st||R(t),-t.Mt}},b:function(){},a:function(){R()},m:function(t,e,r){f.set(f.subarray(e,e+r),t)},n:function(t){if(2147418112<t)return!1;for(var e=Math.max(_.length,16777216);e<t;)e=536870912>=e?g(2*e):Math.min(g((3*e+2147483648)/4),2147418112);t:{try{u.grow(e-l.byteLength+65535>>16),P(u.buffer);var r=1;break t}catch(t){}r=void 0}return!!r},e:function(t){try{var e=Bt(t);if(null===e.Kt)throw new st(8);e.Wt&&(e.Wt=null);try{e.Dt.close&&e.Dt.close(e)}catch(t){throw t}finally{tt[e.Kt]=null}return e.Kt=null,0}catch(t){return void 0!==Kt&&t instanceof st||R(t),t.Mt}},k:function(t,e,r,n){try{t:{for(var i=Bt(t),s=t=0;s<r;s++){var o=p[e+(8*s+4)>>2],a=i,c=p[e+8*s>>2],u=o,l=void 0,f=_;if(0>u||0>l)throw new st(28);if(null===a.Kt)throw new st(8);if(1==(2097155&a.flags))throw new st(8);if(16384==(61440&a.node.mode))throw new st(31);if(!a.Dt.read)throw new st(28);var d=void 0!==l;if(d){if(!a.seekable)throw new st(70)}else l=a.position;var h=a.Dt.read(a,f,c,u,l);d||(a.position+=h);var y=h;if(0>y){var v=-1;break t}if(t+=y,y<o)break}v=t}return p[n>>2]=v,0}catch(t){return void 0!==Kt&&t instanceof st||R(t),t.Mt}},j:function(t,e,r,n,i){try{var s=Bt(t);return-9007199254740992>=(t=4294967296*r+(e>>>0))||9007199254740992<=t?-61:(It(s,t,n),O=[s.position>>>0,(B=s.position,1<=+A(B)?0<B?(0|S(+T(B/4294967296),4294967295))>>>0:~~+C((B-+(~~B>>>0))/4294967296)>>>0:0)],p[i>>2]=O[0],p[i+4>>2]=O[1],s.Wt&&0===t&&0===n&&(s.Wt=null),0)}catch(t){return void 0!==Kt&&t instanceof st||R(t),t.Mt}},i:function(t,e,r,n){try{t:{for(var i=Bt(t),s=t=0;s<r;s++){var o=i,a=p[e+8*s>>2],c=p[e+(8*s+4)>>2],u=void 0,l=_;if(0>c||0>u)throw new st(28);if(null===o.Kt)throw new st(8);if(0==(2097155&o.flags))throw new st(8);if(16384==(61440&o.node.mode))throw new st(31);if(!o.Dt.write)throw new st(28);1024&o.flags&&It(o,0,2);var f=void 0!==u;if(f){if(!o.seekable)throw new st(70)}else u=o.position;var d=o.Dt.write(o,l,a,c,u,void 0);f||(o.position+=d);try{o.path&&it.onWriteToFile&&it.onWriteToFile(o.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+o.path+"') threw an exception: "+t.message)}var h=d;if(0>h){var y=-1;break t}t+=h}y=t}return p[n>>2]=y,0}catch(t){return void 0!==Kt&&t instanceof st||R(t),t.Mt}},d:function(t){var e=Date.now();return p[t>>2]=e/1e3|0,p[t+4>>2]=e%1e3*1e3|0,0},memory:u,f:function(){},table:h},Dt=function(){function t(t){e.asm=t.exports,F--,e.monitorRunDependencies&&e.monitorRunDependencies(F),0==F&&K&&(t=K,K=null,t())}function r(e){t(e.instance)}function n(t){return(o||"function"!=typeof fetch?new Promise((function(t){t(U())})):fetch(D,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+D+"'";return t.arrayBuffer()})).catch((function(){return U()}))).then((function(t){return WebAssembly.instantiate(t,i)})).then(t,(function(t){c("failed to asynchronously prepare wasm: "+t),R(t)}))}var i={env:Ot,wasi_unstable:Ot};if(F++,e.monitorRunDependencies&&e.monitorRunDependencies(F),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return c("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(o||"function"!=typeof WebAssembly.instantiateStreaming||L()||"function"!=typeof fetch)return n(r);fetch(D,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(r,(function(t){c("wasm streaming compile failed: "+t),c("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}();e.asm=Dt;var Mt=e.___wasm_call_ctors=function(){return e.asm.o.apply(null,arguments)};e._vscf_impl_api=function(){return e.asm.p.apply(null,arguments)},e._vscf_impl_tag=function(){return e.asm.q.apply(null,arguments)},e._vscf_impl_shallow_copy=function(){return e.asm.r.apply(null,arguments)},e._vscf_aes256_cbc_alg_id=function(){return e.asm.s.apply(null,arguments)},e._vscf_aes256_cbc_produce_alg_info=function(){return e.asm.t.apply(null,arguments)},e._vscf_aes256_cbc_restore_alg_info=function(){return e.asm.u.apply(null,arguments)},e._vscf_aes256_cbc_set_nonce=function(){return e.asm.v.apply(null,arguments)},e._vscf_aes256_cbc_encrypt=function(){return e.asm.w.apply(null,arguments)},e._vscf_aes256_cbc_start_encryption=function(){return e.asm.x.apply(null,arguments)},e._vscf_aes256_cbc_update=function(){return e.asm.y.apply(null,arguments)},e._vscf_aes256_cbc_finish=function(){return e.asm.z.apply(null,arguments)},e._vscf_aes256_cbc_encrypted_len=function(){return e.asm.A.apply(null,arguments)},e._vscf_aes256_cbc_precise_encrypted_len=function(){return e.asm.B.apply(null,arguments)},e._vscf_aes256_cbc_decrypt=function(){return e.asm.C.apply(null,arguments)},e._vscf_aes256_cbc_start_decryption=function(){return e.asm.D.apply(null,arguments)},e._vscf_aes256_cbc_decrypted_len=function(){return e.asm.E.apply(null,arguments)},e._vscf_aes256_cbc_set_key=function(){return e.asm.F.apply(null,arguments)},e._vscf_aes256_cbc_state=function(){return e.asm.G.apply(null,arguments)},e._vscf_aes256_cbc_out_len=function(){return e.asm.H.apply(null,arguments)},e._vscf_aes256_cbc_decrypted_out_len=function(){return e.asm.I.apply(null,arguments)},e._vscf_aes256_cbc_encrypted_out_len=function(){return e.asm.J.apply(null,arguments)},e._vscf_aes256_cbc_new=function(){return e.asm.K.apply(null,arguments)},e._vscf_aes256_cbc_delete=function(){return e.asm.L.apply(null,arguments)},e._vscf_aes256_cbc_shallow_copy=function(){return e.asm.M.apply(null,arguments)},e._vscf_aes256_gcm_out_len=function(){return e.asm.N.apply(null,arguments)},e._vscf_aes256_gcm_alg_id=function(){return e.asm.O.apply(null,arguments)},e._vscf_aes256_gcm_produce_alg_info=function(){return e.asm.P.apply(null,arguments)},e._vscf_aes256_gcm_restore_alg_info=function(){return e.asm.Q.apply(null,arguments)},e._vscf_aes256_gcm_set_nonce=function(){return e.asm.R.apply(null,arguments)},e._vscf_aes256_gcm_encrypt=function(){return e.asm.S.apply(null,arguments)},e._vscf_aes256_gcm_start_encryption=function(){return e.asm.T.apply(null,arguments)},e._vscf_aes256_gcm_update=function(){return e.asm.U.apply(null,arguments)},e._vscf_aes256_gcm_finish=function(){return e.asm.V.apply(null,arguments)},e._vscf_aes256_gcm_encrypted_len=function(){return e.asm.W.apply(null,arguments)},e._vscf_aes256_gcm_finish_auth_decryption=function(){return e.asm.X.apply(null,arguments)},e._vscf_aes256_gcm_finish_auth_encryption=function(){return e.asm.Y.apply(null,arguments)},e._vscf_aes256_gcm_precise_encrypted_len=function(){return e.asm.Z.apply(null,arguments)},e._vscf_aes256_gcm_decrypt=function(){return e.asm._.apply(null,arguments)},e._vscf_aes256_gcm_start_decryption=function(){return e.asm.$.apply(null,arguments)},e._vscf_aes256_gcm_decrypted_len=function(){return e.asm.aa.apply(null,arguments)},e._vscf_aes256_gcm_set_key=function(){return e.asm.ba.apply(null,arguments)},e._vscf_aes256_gcm_state=function(){return e.asm.ca.apply(null,arguments)},e._vscf_aes256_gcm_decrypted_out_len=function(){return e.asm.da.apply(null,arguments)},e._vscf_aes256_gcm_encrypted_out_len=function(){return e.asm.ea.apply(null,arguments)},e._vscf_aes256_gcm_auth_encrypt=function(){return e.asm.fa.apply(null,arguments)},e._vscf_aes256_gcm_auth_encrypted_len=function(){return e.asm.ga.apply(null,arguments)},e._vscf_aes256_gcm_set_auth_data=function(){return e.asm.ha.apply(null,arguments)},e._vscf_aes256_gcm_auth_decrypt=function(){return e.asm.ia.apply(null,arguments)},e._vscf_aes256_gcm_auth_decrypted_len=function(){return e.asm.ja.apply(null,arguments)},e._vscf_aes256_gcm_new=function(){return e.asm.ka.apply(null,arguments)},e._vscf_aes256_gcm_delete=function(){return e.asm.la.apply(null,arguments)},e._vscf_aes256_gcm_shallow_copy=function(){return e.asm.ma.apply(null,arguments)},e._vscf_alg_info_der_deserializer_setup_defaults=function(){return e.asm.na.apply(null,arguments)},e._vscf_alg_info_der_deserializer_deserialize_inplace=function(){return e.asm.oa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_deserialize=function(){return e.asm.pa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_release_asn1_reader=function(){return e.asm.qa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_new=function(){return e.asm.ra.apply(null,arguments)},e._vscf_alg_info_der_deserializer_delete=function(){return e.asm.sa.apply(null,arguments)},e._vscf_alg_info_der_deserializer_shallow_copy=function(){return e.asm.ta.apply(null,arguments)},e._vscf_alg_info_der_deserializer_use_asn1_reader=function(){return e.asm.ua.apply(null,arguments)},e._vscf_alg_info_der_serializer_setup_defaults=function(){return e.asm.va.apply(null,arguments)},e._vscf_alg_info_der_serializer_serialize_inplace=function(){return e.asm.wa.apply(null,arguments)},e._vscf_alg_info_der_serializer_serialized_len=function(){return e.asm.xa.apply(null,arguments)},e._vscf_alg_info_der_serializer_serialize=function(){return e.asm.ya.apply(null,arguments)},e._vscf_alg_info_der_serializer_release_asn1_writer=function(){return e.asm.za.apply(null,arguments)},e._vscf_alg_info_der_serializer_new=function(){return e.asm.Aa.apply(null,arguments)},e._vscf_alg_info_der_serializer_delete=function(){return e.asm.Ba.apply(null,arguments)},e._vscf_alg_info_der_serializer_shallow_copy=function(){return e.asm.Ca.apply(null,arguments)},e._vscf_alg_info_der_serializer_use_asn1_writer=function(){return e.asm.Da.apply(null,arguments)},e._vscf_asn1rd_reset=function(){return e.asm.Ea.apply(null,arguments)},e._vscf_asn1rd_left_len=function(){return e.asm.Fa.apply(null,arguments)},e._vscf_asn1rd_has_error=function(){return e.asm.Ga.apply(null,arguments)},e._vscf_asn1rd_status=function(){return e.asm.Ha.apply(null,arguments)},e._vscf_asn1rd_get_tag=function(){return e.asm.Ia.apply(null,arguments)},e._vscf_asn1rd_get_len=function(){return e.asm.Ja.apply(null,arguments)},e._vscf_asn1rd_get_data_len=function(){return e.asm.Ka.apply(null,arguments)},e._vscf_asn1rd_read_tag=function(){return e.asm.La.apply(null,arguments)},e._vscf_asn1rd_read_context_tag=function(){return e.asm.Ma.apply(null,arguments)},e._vscf_asn1rd_read_int=function(){return e.asm.Na.apply(null,arguments)},e._vscf_asn1rd_read_int64=function(){return e.asm.Oa.apply(null,arguments)},e._vscf_asn1rd_read_int8=function(){return e.asm.Pa.apply(null,arguments)},e._vscf_asn1rd_read_int16=function(){return e.asm.Qa.apply(null,arguments)},e._vscf_asn1rd_read_int32=function(){return e.asm.Ra.apply(null,arguments)},e._vscf_asn1rd_read_uint=function(){return e.asm.Sa.apply(null,arguments)},e._vscf_asn1rd_read_uint64=function(){return e.asm.Ta.apply(null,arguments)},e._vscf_asn1rd_read_uint8=function(){return e.asm.Ua.apply(null,arguments)},e._vscf_asn1rd_read_uint16=function(){return e.asm.Va.apply(null,arguments)},e._vscf_asn1rd_read_uint32=function(){return e.asm.Wa.apply(null,arguments)},e._vscf_asn1rd_read_bool=function(){return e.asm.Xa.apply(null,arguments)},e._vscf_asn1rd_read_null=function(){return e.asm.Ya.apply(null,arguments)},e._vscf_asn1rd_read_null_optional=function(){return e.asm.Za.apply(null,arguments)},e._vscf_asn1rd_read_octet_str=function(){return e.asm._a.apply(null,arguments)},e._vscf_asn1rd_read_bitstring_as_octet_str=function(){return e.asm.$a.apply(null,arguments)},e._vscf_asn1rd_read_utf8_str=function(){return e.asm.ab.apply(null,arguments)},e._vscf_asn1rd_read_oid=function(){return e.asm.bb.apply(null,arguments)},e._vscf_asn1rd_read_data=function(){return e.asm.cb.apply(null,arguments)},e._vscf_asn1rd_read_sequence=function(){return e.asm.db.apply(null,arguments)},e._vscf_asn1rd_read_set=function(){return e.asm.eb.apply(null,arguments)},e._vscf_asn1rd_new=function(){return e.asm.fb.apply(null,arguments)},e._vscf_asn1rd_delete=function(){return e.asm.gb.apply(null,arguments)},e._vscf_asn1rd_shallow_copy=function(){return e.asm.hb.apply(null,arguments)},e._vscf_asn1wr_reset=function(){return e.asm.ib.apply(null,arguments)},e._vscf_asn1wr_finish=function(){return e.asm.jb.apply(null,arguments)},e._vscf_asn1wr_bytes=function(){return e.asm.kb.apply(null,arguments)},e._vscf_asn1wr_len=function(){return e.asm.lb.apply(null,arguments)},e._vscf_asn1wr_written_len=function(){return e.asm.mb.apply(null,arguments)},e._vscf_asn1wr_unwritten_len=function(){return e.asm.nb.apply(null,arguments)},e._vscf_asn1wr_has_error=function(){return e.asm.ob.apply(null,arguments)},e._vscf_asn1wr_status=function(){return e.asm.pb.apply(null,arguments)},e._vscf_asn1wr_reserve=function(){return e.asm.qb.apply(null,arguments)},e._vscf_asn1wr_write_tag=function(){return e.asm.rb.apply(null,arguments)},e._vscf_asn1wr_write_context_tag=function(){return e.asm.sb.apply(null,arguments)},e._vscf_asn1wr_write_len=function(){return e.asm.tb.apply(null,arguments)},e._vscf_asn1wr_write_int=function(){return e.asm.ub.apply(null,arguments)},e._vscf_asn1wr_write_int64=function(){return e.asm.vb.apply(null,arguments)},e._vscf_asn1wr_write_int8=function(){return e.asm.wb.apply(null,arguments)},e._vscf_asn1wr_write_int16=function(){return e.asm.xb.apply(null,arguments)},e._vscf_asn1wr_write_int32=function(){return e.asm.yb.apply(null,arguments)},e._vscf_asn1wr_write_uint=function(){return e.asm.zb.apply(null,arguments)},e._vscf_asn1wr_write_uint64=function(){return e.asm.Ab.apply(null,arguments)},e._vscf_asn1wr_write_uint8=function(){return e.asm.Bb.apply(null,arguments)},e._vscf_asn1wr_write_uint16=function(){return e.asm.Cb.apply(null,arguments)},e._vscf_asn1wr_write_uint32=function(){return e.asm.Db.apply(null,arguments)},e._vscf_asn1wr_write_bool=function(){return e.asm.Eb.apply(null,arguments)},e._vscf_asn1wr_write_null=function(){return e.asm.Fb.apply(null,arguments)},e._vscf_asn1wr_write_octet_str=function(){return e.asm.Gb.apply(null,arguments)},e._vscf_asn1wr_write_octet_str_as_bitstring=function(){return e.asm.Hb.apply(null,arguments)},e._vscf_asn1wr_write_data=function(){return e.asm.Ib.apply(null,arguments)},e._vscf_asn1wr_write_utf8_str=function(){return e.asm.Jb.apply(null,arguments)},e._vscf_asn1wr_write_oid=function(){return e.asm.Kb.apply(null,arguments)},e._vscf_asn1wr_write_sequence=function(){return e.asm.Lb.apply(null,arguments)},e._vscf_asn1wr_write_set=function(){return e.asm.Mb.apply(null,arguments)},e._vscf_asn1wr_new=function(){return e.asm.Nb.apply(null,arguments)},e._vscf_asn1wr_delete=function(){return e.asm.Ob.apply(null,arguments)},e._vscf_asn1wr_shallow_copy=function(){return e.asm.Pb.apply(null,arguments)},e._vscf_cipher_alg_info_nonce=function(){return e.asm.Qb.apply(null,arguments)},e._vscf_cipher_alg_info_alg_id=function(){return e.asm.Rb.apply(null,arguments)},e._vscf_cipher_alg_info_new=function(){return e.asm.Sb.apply(null,arguments)},e._vscf_cipher_alg_info_delete=function(){return e.asm.Tb.apply(null,arguments)},e._vscf_cipher_alg_info_shallow_copy=function(){return e.asm.Ub.apply(null,arguments)},e._vscf_cipher_alg_info_new_with_members=function(){return e.asm.Vb.apply(null,arguments)},e._vscf_compound_key_alg_setup_defaults=function(){return e.asm.Wb.apply(null,arguments)},e._vscf_compound_key_alg_make_key=function(){return e.asm.Xb.apply(null,arguments)},e._vscf_compound_key_alg_alg_id=function(){return e.asm.Yb.apply(null,arguments)},e._vscf_compound_key_alg_produce_alg_info=function(){return e.asm.Zb.apply(null,arguments)},e._vscf_compound_key_alg_restore_alg_info=function(){return e.asm._b.apply(null,arguments)},e._vscf_compound_key_alg_generate_ephemeral_key=function(){return e.asm.$b.apply(null,arguments)},e._vscf_compound_key_alg_import_public_key=function(){return e.asm.ac.apply(null,arguments)},e._vscf_compound_key_alg_import_public_key_data=function(){return e.asm.bc.apply(null,arguments)},e._vscf_compound_key_alg_export_public_key=function(){return e.asm.cc.apply(null,arguments)},e._vscf_compound_key_alg_exported_public_key_data_len=function(){return e.asm.dc.apply(null,arguments)},e._vscf_compound_key_alg_export_public_key_data=function(){return e.asm.ec.apply(null,arguments)},e._vscf_compound_key_alg_import_private_key=function(){return e.asm.fc.apply(null,arguments)},e._vscf_compound_key_alg_import_private_key_data=function(){return e.asm.gc.apply(null,arguments)},e._vscf_compound_key_alg_export_private_key=function(){return e.asm.hc.apply(null,arguments)},e._vscf_compound_key_alg_exported_private_key_data_len=function(){return e.asm.ic.apply(null,arguments)},e._vscf_compound_key_alg_export_private_key_data=function(){return e.asm.jc.apply(null,arguments)},e._vscf_compound_key_alg_can_encrypt=function(){return e.asm.kc.apply(null,arguments)},e._vscf_compound_key_alg_encrypted_len=function(){return e.asm.lc.apply(null,arguments)},e._vscf_compound_key_alg_encrypt=function(){return e.asm.mc.apply(null,arguments)},e._vscf_compound_key_alg_can_decrypt=function(){return e.asm.nc.apply(null,arguments)},e._vscf_compound_key_alg_decrypted_len=function(){return e.asm.oc.apply(null,arguments)},e._vscf_compound_key_alg_decrypt=function(){return e.asm.pc.apply(null,arguments)},e._vscf_compound_key_alg_can_sign=function(){return e.asm.qc.apply(null,arguments)},e._vscf_compound_key_alg_signature_len=function(){return e.asm.rc.apply(null,arguments)},e._vscf_compound_key_alg_sign_hash=function(){return e.asm.sc.apply(null,arguments)},e._vscf_compound_key_alg_can_verify=function(){return e.asm.tc.apply(null,arguments)},e._vscf_compound_key_alg_verify_hash=function(){return e.asm.uc.apply(null,arguments)},e._vscf_compound_key_alg_release_random=function(){return e.asm.vc.apply(null,arguments)},e._vscf_compound_key_alg_new=function(){return e.asm.wc.apply(null,arguments)},e._vscf_compound_key_alg_delete=function(){return e.asm.xc.apply(null,arguments)},e._vscf_compound_key_alg_shallow_copy=function(){return e.asm.yc.apply(null,arguments)},e._vscf_compound_key_alg_use_random=function(){return e.asm.zc.apply(null,arguments)},e._vscf_compound_key_alg_info_cipher_alg_info=function(){return e.asm.Ac.apply(null,arguments)},e._vscf_compound_key_alg_info_signer_alg_info=function(){return e.asm.Bc.apply(null,arguments)},e._vscf_compound_key_alg_info_alg_id=function(){return e.asm.Cc.apply(null,arguments)},e._vscf_compound_key_alg_info_new=function(){return e.asm.Dc.apply(null,arguments)},e._vscf_compound_key_alg_info_delete=function(){return e.asm.Ec.apply(null,arguments)},e._vscf_compound_key_alg_info_shallow_copy=function(){return e.asm.Fc.apply(null,arguments)},e._vscf_compound_private_key_cipher_key=function(){return e.asm.Gc.apply(null,arguments)},e._vscf_compound_private_key_signer_key=function(){return e.asm.Hc.apply(null,arguments)},e._vscf_compound_private_key_alg_id=function(){return e.asm.Ic.apply(null,arguments)},e._vscf_compound_private_key_alg_info=function(){return e.asm.Jc.apply(null,arguments)},e._vscf_compound_private_key_len=function(){return e.asm.Kc.apply(null,arguments)},e._vscf_compound_private_key_bitlen=function(){return e.asm.Lc.apply(null,arguments)},e._vscf_compound_private_key_impl_tag=function(){return e.asm.Mc.apply(null,arguments)},e._vscf_compound_private_key_is_valid=function(){return e.asm.Nc.apply(null,arguments)},e._vscf_compound_private_key_extract_public_key=function(){return e.asm.Oc.apply(null,arguments)},e._vscf_compound_private_key_new=function(){return e.asm.Pc.apply(null,arguments)},e._vscf_compound_private_key_delete=function(){return e.asm.Qc.apply(null,arguments)},e._vscf_compound_private_key_shallow_copy=function(){return e.asm.Rc.apply(null,arguments)},e._vscf_compound_public_key_cipher_key=function(){return e.asm.Sc.apply(null,arguments)},e._vscf_compound_public_key_signer_key=function(){return e.asm.Tc.apply(null,arguments)},e._vscf_compound_public_key_alg_id=function(){return e.asm.Uc.apply(null,arguments)},e._vscf_compound_public_key_alg_info=function(){return e.asm.Vc.apply(null,arguments)},e._vscf_compound_public_key_len=function(){return e.asm.Wc.apply(null,arguments)},e._vscf_compound_public_key_bitlen=function(){return e.asm.Xc.apply(null,arguments)},e._vscf_compound_public_key_impl_tag=function(){return e.asm.Yc.apply(null,arguments)},e._vscf_compound_public_key_is_valid=function(){return e.asm.Zc.apply(null,arguments)},e._vscf_compound_public_key_new=function(){return e.asm._c.apply(null,arguments)},e._vscf_compound_public_key_delete=function(){return e.asm.$c.apply(null,arguments)},e._vscf_compound_public_key_shallow_copy=function(){return e.asm.ad.apply(null,arguments)},e._vscf_ctr_drbg_setup_defaults=function(){return e.asm.bd.apply(null,arguments)},e._vscf_ctr_drbg_enable_prediction_resistance=function(){return e.asm.cd.apply(null,arguments)},e._vscf_ctr_drbg_set_reseed_interval=function(){return e.asm.dd.apply(null,arguments)},e._vscf_ctr_drbg_set_entropy_len=function(){return e.asm.ed.apply(null,arguments)},e._vscf_ctr_drbg_random=function(){return e.asm.fd.apply(null,arguments)},e._vscf_ctr_drbg_reseed=function(){return e.asm.gd.apply(null,arguments)},e._vscf_ctr_drbg_release_entropy_source=function(){return e.asm.hd.apply(null,arguments)},e._vscf_ctr_drbg_new=function(){return e.asm.id.apply(null,arguments)},e._vscf_ctr_drbg_delete=function(){return e.asm.jd.apply(null,arguments)},e._vscf_ctr_drbg_shallow_copy=function(){return e.asm.kd.apply(null,arguments)},e._vscf_ctr_drbg_use_entropy_source=function(){return e.asm.ld.apply(null,arguments)},e._vscf_curve25519_setup_defaults=function(){return e.asm.md.apply(null,arguments)},e._vscf_curve25519_generate_key=function(){return e.asm.nd.apply(null,arguments)},e._vscf_curve25519_generate_ephemeral_key=function(){return e.asm.od.apply(null,arguments)},e._vscf_curve25519_import_public_key=function(){return e.asm.pd.apply(null,arguments)},e._vscf_curve25519_import_public_key_data=function(){return e.asm.qd.apply(null,arguments)},e._vscf_curve25519_export_public_key=function(){return e.asm.rd.apply(null,arguments)},e._vscf_curve25519_exported_public_key_data_len=function(){return e.asm.sd.apply(null,arguments)},e._vscf_curve25519_export_public_key_data=function(){return e.asm.td.apply(null,arguments)},e._vscf_curve25519_import_private_key=function(){return e.asm.ud.apply(null,arguments)},e._vscf_curve25519_import_private_key_data=function(){return e.asm.vd.apply(null,arguments)},e._vscf_curve25519_export_private_key=function(){return e.asm.wd.apply(null,arguments)},e._vscf_curve25519_exported_private_key_data_len=function(){return e.asm.xd.apply(null,arguments)},e._vscf_curve25519_export_private_key_data=function(){return e.asm.yd.apply(null,arguments)},e._vscf_curve25519_can_encrypt=function(){return e.asm.zd.apply(null,arguments)},e._vscf_curve25519_encrypted_len=function(){return e.asm.Ad.apply(null,arguments)},e._vscf_curve25519_encrypt=function(){return e.asm.Bd.apply(null,arguments)},e._vscf_curve25519_can_decrypt=function(){return e.asm.Cd.apply(null,arguments)},e._vscf_curve25519_decrypted_len=function(){return e.asm.Dd.apply(null,arguments)},e._vscf_curve25519_decrypt=function(){return e.asm.Ed.apply(null,arguments)},e._vscf_curve25519_compute_shared_key=function(){return e.asm.Fd.apply(null,arguments)},e._vscf_curve25519_shared_key_len=function(){return e.asm.Gd.apply(null,arguments)},e._vscf_curve25519_kem_shared_key_len=function(){return e.asm.Hd.apply(null,arguments)},e._vscf_curve25519_kem_encapsulated_key_len=function(){return e.asm.Id.apply(null,arguments)},e._vscf_curve25519_kem_encapsulate=function(){return e.asm.Jd.apply(null,arguments)},e._vscf_curve25519_kem_decapsulate=function(){return e.asm.Kd.apply(null,arguments)},e._vscf_curve25519_release_random=function(){return e.asm.Ld.apply(null,arguments)},e._vscf_curve25519_release_ecies=function(){return e.asm.Md.apply(null,arguments)},e._vscf_curve25519_new=function(){return e.asm.Nd.apply(null,arguments)},e._vscf_curve25519_delete=function(){return e.asm.Od.apply(null,arguments)},e._vscf_curve25519_shallow_copy=function(){return e.asm.Pd.apply(null,arguments)},e._vscf_curve25519_use_random=function(){return e.asm.Qd.apply(null,arguments)},e._vscf_curve25519_use_ecies=function(){return e.asm.Rd.apply(null,arguments)},e._vscf_ecc_setup_defaults=function(){return e.asm.Sd.apply(null,arguments)},e._vscf_ecc_generate_key=function(){return e.asm.Td.apply(null,arguments)},e._vscf_ecc_generate_ephemeral_key=function(){return e.asm.Ud.apply(null,arguments)},e._vscf_ecc_import_public_key=function(){return e.asm.Vd.apply(null,arguments)},e._vscf_ecc_import_public_key_data=function(){return e.asm.Wd.apply(null,arguments)},e._vscf_ecc_export_public_key=function(){return e.asm.Xd.apply(null,arguments)},e._vscf_ecc_exported_public_key_data_len=function(){return e.asm.Yd.apply(null,arguments)},e._vscf_ecc_export_public_key_data=function(){return e.asm.Zd.apply(null,arguments)},e._vscf_ecc_import_private_key=function(){return e.asm._d.apply(null,arguments)},e._vscf_ecc_import_private_key_data=function(){return e.asm.$d.apply(null,arguments)},e._vscf_ecc_export_private_key=function(){return e.asm.ae.apply(null,arguments)},e._vscf_ecc_exported_private_key_data_len=function(){return e.asm.be.apply(null,arguments)},e._vscf_ecc_export_private_key_data=function(){return e.asm.ce.apply(null,arguments)},e._vscf_ecc_can_encrypt=function(){return e.asm.de.apply(null,arguments)},e._vscf_ecc_encrypted_len=function(){return e.asm.ee.apply(null,arguments)},e._vscf_ecc_encrypt=function(){return e.asm.fe.apply(null,arguments)},e._vscf_ecc_can_decrypt=function(){return e.asm.ge.apply(null,arguments)},e._vscf_ecc_decrypted_len=function(){return e.asm.he.apply(null,arguments)},e._vscf_ecc_decrypt=function(){return e.asm.ie.apply(null,arguments)},e._vscf_ecc_can_sign=function(){return e.asm.je.apply(null,arguments)},e._vscf_ecc_signature_len=function(){return e.asm.ke.apply(null,arguments)},e._vscf_ecc_sign_hash=function(){return e.asm.le.apply(null,arguments)},e._vscf_ecc_can_verify=function(){return e.asm.me.apply(null,arguments)},e._vscf_ecc_verify_hash=function(){return e.asm.ne.apply(null,arguments)},e._vscf_ecc_compute_shared_key=function(){return e.asm.oe.apply(null,arguments)},e._vscf_ecc_shared_key_len=function(){return e.asm.pe.apply(null,arguments)},e._vscf_ecc_kem_shared_key_len=function(){return e.asm.qe.apply(null,arguments)},e._vscf_ecc_kem_encapsulated_key_len=function(){return e.asm.re.apply(null,arguments)},e._vscf_ecc_kem_encapsulate=function(){return e.asm.se.apply(null,arguments)},e._vscf_ecc_kem_decapsulate=function(){return e.asm.te.apply(null,arguments)},e._vscf_ecc_release_random=function(){return e.asm.ue.apply(null,arguments)},e._vscf_ecc_release_ecies=function(){return e.asm.ve.apply(null,arguments)},e._vscf_ecc_new=function(){return e.asm.we.apply(null,arguments)},e._vscf_ecc_delete=function(){return e.asm.xe.apply(null,arguments)},e._vscf_ecc_shallow_copy=function(){return e.asm.ye.apply(null,arguments)},e._vscf_ecc_use_random=function(){return e.asm.ze.apply(null,arguments)},e._vscf_ecc_use_ecies=function(){return e.asm.Ae.apply(null,arguments)},e._vscf_ecc_alg_info_key_id=function(){return e.asm.Be.apply(null,arguments)},e._vscf_ecc_alg_info_domain_id=function(){return e.asm.Ce.apply(null,arguments)},e._vscf_ecc_alg_info_alg_id=function(){return e.asm.De.apply(null,arguments)},e._vscf_ecc_alg_info_new=function(){return e.asm.Ee.apply(null,arguments)},e._vscf_ecc_alg_info_delete=function(){return e.asm.Fe.apply(null,arguments)},e._vscf_ecc_alg_info_shallow_copy=function(){return e.asm.Ge.apply(null,arguments)},e._vscf_ecc_alg_info_new_with_members=function(){return e.asm.He.apply(null,arguments)},e._vscf_ecc_private_key_alg_id=function(){return e.asm.Ie.apply(null,arguments)},e._vscf_ecc_private_key_alg_info=function(){return e.asm.Je.apply(null,arguments)},e._vscf_ecc_private_key_len=function(){return e.asm.Ke.apply(null,arguments)},e._vscf_ecc_private_key_bitlen=function(){return e.asm.Le.apply(null,arguments)},e._vscf_ecc_private_key_impl_tag=function(){return e.asm.Me.apply(null,arguments)},e._vscf_ecc_private_key_is_valid=function(){return e.asm.Ne.apply(null,arguments)},e._vscf_ecc_private_key_extract_public_key=function(){return e.asm.Oe.apply(null,arguments)},e._vscf_ecc_private_key_new=function(){return e.asm.Pe.apply(null,arguments)},e._vscf_ecc_private_key_delete=function(){return e.asm.Qe.apply(null,arguments)},e._vscf_ecc_private_key_shallow_copy=function(){return e.asm.Re.apply(null,arguments)},e._vscf_ecc_public_key_alg_id=function(){return e.asm.Se.apply(null,arguments)},e._vscf_ecc_public_key_alg_info=function(){return e.asm.Te.apply(null,arguments)},e._vscf_ecc_public_key_len=function(){return e.asm.Ue.apply(null,arguments)},e._vscf_ecc_public_key_bitlen=function(){return e.asm.Ve.apply(null,arguments)},e._vscf_ecc_public_key_impl_tag=function(){return e.asm.We.apply(null,arguments)},e._vscf_ecc_public_key_is_valid=function(){return e.asm.Xe.apply(null,arguments)},e._vscf_ecc_public_key_new=function(){return e.asm.Ye.apply(null,arguments)},e._vscf_ecc_public_key_delete=function(){return e.asm.Ze.apply(null,arguments)},e._vscf_ecc_public_key_shallow_copy=function(){return e.asm._e.apply(null,arguments)},e._vscf_ed25519_setup_defaults=function(){return e.asm.$e.apply(null,arguments)},e._vscf_ed25519_generate_key=function(){return e.asm.af.apply(null,arguments)},e._vscf_ed25519_generate_ephemeral_key=function(){return e.asm.bf.apply(null,arguments)},e._vscf_ed25519_import_public_key=function(){return e.asm.cf.apply(null,arguments)},e._vscf_ed25519_import_public_key_data=function(){return e.asm.df.apply(null,arguments)},e._vscf_ed25519_export_public_key=function(){return e.asm.ef.apply(null,arguments)},e._vscf_ed25519_exported_public_key_data_len=function(){return e.asm.ff.apply(null,arguments)},e._vscf_ed25519_export_public_key_data=function(){return e.asm.gf.apply(null,arguments)},e._vscf_ed25519_import_private_key=function(){return e.asm.hf.apply(null,arguments)},e._vscf_ed25519_import_private_key_data=function(){return e.asm.jf.apply(null,arguments)},e._vscf_ed25519_export_private_key=function(){return e.asm.kf.apply(null,arguments)},e._vscf_ed25519_exported_private_key_data_len=function(){return e.asm.lf.apply(null,arguments)},e._vscf_ed25519_export_private_key_data=function(){return e.asm.mf.apply(null,arguments)},e._vscf_ed25519_can_encrypt=function(){return e.asm.nf.apply(null,arguments)},e._vscf_ed25519_encrypted_len=function(){return e.asm.of.apply(null,arguments)},e._vscf_ed25519_encrypt=function(){return e.asm.pf.apply(null,arguments)},e._vscf_ed25519_can_decrypt=function(){return e.asm.qf.apply(null,arguments)},e._vscf_ed25519_decrypted_len=function(){return e.asm.rf.apply(null,arguments)},e._vscf_ed25519_decrypt=function(){return e.asm.sf.apply(null,arguments)},e._vscf_ed25519_can_sign=function(){return e.asm.tf.apply(null,arguments)},e._vscf_ed25519_signature_len=function(){return e.asm.uf.apply(null,arguments)},e._vscf_ed25519_sign_hash=function(){return e.asm.vf.apply(null,arguments)},e._vscf_ed25519_can_verify=function(){return e.asm.wf.apply(null,arguments)},e._vscf_ed25519_verify_hash=function(){return e.asm.xf.apply(null,arguments)},e._vscf_ed25519_compute_shared_key=function(){return e.asm.yf.apply(null,arguments)},e._vscf_ed25519_shared_key_len=function(){return e.asm.zf.apply(null,arguments)},e._vscf_ed25519_kem_shared_key_len=function(){return e.asm.Af.apply(null,arguments)},e._vscf_ed25519_kem_encapsulated_key_len=function(){return e.asm.Bf.apply(null,arguments)},e._vscf_ed25519_kem_encapsulate=function(){return e.asm.Cf.apply(null,arguments)},e._vscf_ed25519_kem_decapsulate=function(){return e.asm.Df.apply(null,arguments)},e._vscf_ed25519_release_random=function(){return e.asm.Ef.apply(null,arguments)},e._vscf_ed25519_release_ecies=function(){return e.asm.Ff.apply(null,arguments)},e._vscf_ed25519_new=function(){return e.asm.Gf.apply(null,arguments)},e._vscf_ed25519_delete=function(){return e.asm.Hf.apply(null,arguments)},e._vscf_ed25519_shallow_copy=function(){return e.asm.If.apply(null,arguments)},e._vscf_ed25519_use_random=function(){return e.asm.Jf.apply(null,arguments)},e._vscf_ed25519_use_ecies=function(){return e.asm.Kf.apply(null,arguments)},e._vscf_entropy_accumulator_setup_defaults=function(){return e.asm.Lf.apply(null,arguments)},e._vscf_entropy_accumulator_add_source=function(){return e.asm.Mf.apply(null,arguments)},e._vscf_entropy_accumulator_is_strong=function(){return e.asm.Nf.apply(null,arguments)},e._vscf_entropy_accumulator_gather=function(){return e.asm.Of.apply(null,arguments)},e._vscf_entropy_accumulator_new=function(){return e.asm.Pf.apply(null,arguments)},e._vscf_entropy_accumulator_delete=function(){return e.asm.Qf.apply(null,arguments)},e._vscf_entropy_accumulator_shallow_copy=function(){return e.asm.Rf.apply(null,arguments)},e._vscf_fake_random_setup_source_byte=function(){return e.asm.Sf.apply(null,arguments)},e._vscf_fake_random_setup_source_data=function(){return e.asm.Tf.apply(null,arguments)},e._vscf_fake_random_random=function(){return e.asm.Uf.apply(null,arguments)},e._vscf_fake_random_reseed=function(){return e.asm.Vf.apply(null,arguments)},e._vscf_fake_random_is_strong=function(){return e.asm.Wf.apply(null,arguments)},e._vscf_fake_random_gather=function(){return e.asm.Xf.apply(null,arguments)},e._vscf_fake_random_new=function(){return e.asm.Yf.apply(null,arguments)},e._vscf_fake_random_delete=function(){return e.asm.Zf.apply(null,arguments)},e._vscf_fake_random_shallow_copy=function(){return e.asm._f.apply(null,arguments)},e._vscf_falcon_setup_defaults=function(){return e.asm.$f.apply(null,arguments)},e._vscf_falcon_generate_key=function(){return e.asm.ag.apply(null,arguments)},e._vscf_falcon_produce_alg_info=function(){return e.asm.bg.apply(null,arguments)},e._vscf_falcon_alg_id=function(){return e.asm.cg.apply(null,arguments)},e._vscf_falcon_restore_alg_info=function(){return e.asm.dg.apply(null,arguments)},e._vscf_falcon_generate_ephemeral_key=function(){return e.asm.eg.apply(null,arguments)},e._vscf_falcon_import_public_key=function(){return e.asm.fg.apply(null,arguments)},e._vscf_falcon_import_public_key_data=function(){return e.asm.gg.apply(null,arguments)},e._vscf_falcon_export_public_key=function(){return e.asm.hg.apply(null,arguments)},e._vscf_falcon_exported_public_key_data_len=function(){return e.asm.ig.apply(null,arguments)},e._vscf_falcon_export_public_key_data=function(){return e.asm.jg.apply(null,arguments)},e._vscf_falcon_import_private_key=function(){return e.asm.kg.apply(null,arguments)},e._vscf_falcon_import_private_key_data=function(){return e.asm.lg.apply(null,arguments)},e._vscf_falcon_export_private_key=function(){return e.asm.mg.apply(null,arguments)},e._vscf_falcon_exported_private_key_data_len=function(){return e.asm.ng.apply(null,arguments)},e._vscf_falcon_export_private_key_data=function(){return e.asm.og.apply(null,arguments)},e._vscf_falcon_can_sign=function(){return e.asm.pg.apply(null,arguments)},e._vscf_falcon_signature_len=function(){return e.asm.qg.apply(null,arguments)},e._vscf_falcon_sign_hash=function(){return e.asm.rg.apply(null,arguments)},e._vscf_falcon_can_verify=function(){return e.asm.sg.apply(null,arguments)},e._vscf_falcon_verify_hash=function(){return e.asm.tg.apply(null,arguments)},e._vscf_falcon_release_random=function(){return e.asm.ug.apply(null,arguments)},e._vscf_falcon_new=function(){return e.asm.vg.apply(null,arguments)},e._vscf_falcon_delete=function(){return e.asm.wg.apply(null,arguments)},e._vscf_falcon_shallow_copy=function(){return e.asm.xg.apply(null,arguments)},e._vscf_falcon_use_random=function(){return e.asm.yg.apply(null,arguments)},e._vscf_hash_based_alg_info_hash_alg_info=function(){return e.asm.zg.apply(null,arguments)},e._vscf_hash_based_alg_info_alg_id=function(){return e.asm.Ag.apply(null,arguments)},e._vscf_hash_based_alg_info_new=function(){return e.asm.Bg.apply(null,arguments)},e._vscf_hash_based_alg_info_delete=function(){return e.asm.Cg.apply(null,arguments)},e._vscf_hash_based_alg_info_shallow_copy=function(){return e.asm.Dg.apply(null,arguments)},e._vscf_hkdf_alg_id=function(){return e.asm.Eg.apply(null,arguments)},e._vscf_hkdf_produce_alg_info=function(){return e.asm.Fg.apply(null,arguments)},e._vscf_hkdf_restore_alg_info=function(){return e.asm.Gg.apply(null,arguments)},e._vscf_hkdf_derive=function(){return e.asm.Hg.apply(null,arguments)},e._vscf_hkdf_reset=function(){return e.asm.Ig.apply(null,arguments)},e._vscf_hkdf_set_info=function(){return e.asm.Jg.apply(null,arguments)},e._vscf_hkdf_release_hash=function(){return e.asm.Kg.apply(null,arguments)},e._vscf_hkdf_new=function(){return e.asm.Lg.apply(null,arguments)},e._vscf_hkdf_delete=function(){return e.asm.Mg.apply(null,arguments)},e._vscf_hkdf_shallow_copy=function(){return e.asm.Ng.apply(null,arguments)},e._vscf_hkdf_use_hash=function(){return e.asm.Og.apply(null,arguments)},e._vscf_hmac_alg_id=function(){return e.asm.Pg.apply(null,arguments)},e._vscf_hmac_produce_alg_info=function(){return e.asm.Qg.apply(null,arguments)},e._vscf_hmac_restore_alg_info=function(){return e.asm.Rg.apply(null,arguments)},e._vscf_hmac_digest_len=function(){return e.asm.Sg.apply(null,arguments)},e._vscf_hmac_mac=function(){return e.asm.Tg.apply(null,arguments)},e._vscf_hmac_start=function(){return e.asm.Ug.apply(null,arguments)},e._vscf_hmac_finish=function(){return e.asm.Vg.apply(null,arguments)},e._vscf_hmac_update=function(){return e.asm.Wg.apply(null,arguments)},e._vscf_hmac_reset=function(){return e.asm.Xg.apply(null,arguments)},e._vscf_hmac_release_hash=function(){return e.asm.Yg.apply(null,arguments)},e._vscf_hmac_new=function(){return e.asm.Zg.apply(null,arguments)},e._vscf_hmac_delete=function(){return e.asm._g.apply(null,arguments)},e._vscf_hmac_shallow_copy=function(){return e.asm.$g.apply(null,arguments)},e._vscf_hmac_use_hash=function(){return e.asm.ah.apply(null,arguments)},e._vscf_hybrid_key_alg_setup_defaults=function(){return e.asm.bh.apply(null,arguments)},e._vscf_hybrid_key_alg_make_key=function(){return e.asm.ch.apply(null,arguments)},e._vscf_hybrid_key_alg_generate_ephemeral_key=function(){return e.asm.dh.apply(null,arguments)},e._vscf_hybrid_key_alg_import_public_key=function(){return e.asm.eh.apply(null,arguments)},e._vscf_hybrid_key_alg_import_public_key_data=function(){return e.asm.fh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_public_key=function(){return e.asm.gh.apply(null,arguments)},e._vscf_hybrid_key_alg_exported_public_key_data_len=function(){return e.asm.hh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_public_key_data=function(){return e.asm.ih.apply(null,arguments)},e._vscf_hybrid_key_alg_import_private_key=function(){return e.asm.jh.apply(null,arguments)},e._vscf_hybrid_key_alg_import_private_key_data=function(){return e.asm.kh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_private_key=function(){return e.asm.lh.apply(null,arguments)},e._vscf_hybrid_key_alg_exported_private_key_data_len=function(){return e.asm.mh.apply(null,arguments)},e._vscf_hybrid_key_alg_export_private_key_data=function(){return e.asm.nh.apply(null,arguments)},e._vscf_hybrid_key_alg_can_encrypt=function(){return e.asm.oh.apply(null,arguments)},e._vscf_hybrid_key_alg_encrypted_len=function(){return e.asm.ph.apply(null,arguments)},e._vscf_hybrid_key_alg_encrypt=function(){return e.asm.qh.apply(null,arguments)},e._vscf_hybrid_key_alg_can_decrypt=function(){return e.asm.rh.apply(null,arguments)},e._vscf_hybrid_key_alg_decrypted_len=function(){return e.asm.sh.apply(null,arguments)},e._vscf_hybrid_key_alg_decrypt=function(){return e.asm.th.apply(null,arguments)},e._vscf_hybrid_key_alg_can_sign=function(){return e.asm.uh.apply(null,arguments)},e._vscf_hybrid_key_alg_signature_len=function(){return e.asm.vh.apply(null,arguments)},e._vscf_hybrid_key_alg_sign_hash=function(){return e.asm.wh.apply(null,arguments)},e._vscf_hybrid_key_alg_can_verify=function(){return e.asm.xh.apply(null,arguments)},e._vscf_hybrid_key_alg_verify_hash=function(){return e.asm.yh.apply(null,arguments)},e._vscf_hybrid_key_alg_release_random=function(){return e.asm.zh.apply(null,arguments)},e._vscf_hybrid_key_alg_release_cipher=function(){return e.asm.Ah.apply(null,arguments)},e._vscf_hybrid_key_alg_release_hash=function(){return e.asm.Bh.apply(null,arguments)},e._vscf_hybrid_key_alg_new=function(){return e.asm.Ch.apply(null,arguments)},e._vscf_hybrid_key_alg_delete=function(){return e.asm.Dh.apply(null,arguments)},e._vscf_hybrid_key_alg_shallow_copy=function(){return e.asm.Eh.apply(null,arguments)},e._vscf_hybrid_key_alg_use_random=function(){return e.asm.Fh.apply(null,arguments)},e._vscf_hybrid_key_alg_use_cipher=function(){return e.asm.Gh.apply(null,arguments)},e._vscf_hybrid_key_alg_use_hash=function(){return e.asm.Hh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_first_key_alg_info=function(){return e.asm.Ih.apply(null,arguments)},e._vscf_hybrid_key_alg_info_second_key_alg_info=function(){return e.asm.Jh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_alg_id=function(){return e.asm.Kh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_new=function(){return e.asm.Lh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_delete=function(){return e.asm.Mh.apply(null,arguments)},e._vscf_hybrid_key_alg_info_shallow_copy=function(){return e.asm.Nh.apply(null,arguments)},e._vscf_hybrid_private_key_first_key=function(){return e.asm.Oh.apply(null,arguments)},e._vscf_hybrid_private_key_second_key=function(){return e.asm.Ph.apply(null,arguments)},e._vscf_hybrid_private_key_alg_id=function(){return e.asm.Qh.apply(null,arguments)},e._vscf_hybrid_private_key_alg_info=function(){return e.asm.Rh.apply(null,arguments)},e._vscf_hybrid_private_key_len=function(){return e.asm.Sh.apply(null,arguments)},e._vscf_hybrid_private_key_bitlen=function(){return e.asm.Th.apply(null,arguments)},e._vscf_hybrid_private_key_impl_tag=function(){return e.asm.Uh.apply(null,arguments)},e._vscf_hybrid_private_key_is_valid=function(){return e.asm.Vh.apply(null,arguments)},e._vscf_hybrid_private_key_extract_public_key=function(){return e.asm.Wh.apply(null,arguments)},e._vscf_hybrid_private_key_new=function(){return e.asm.Xh.apply(null,arguments)},e._vscf_hybrid_private_key_delete=function(){return e.asm.Yh.apply(null,arguments)},e._vscf_hybrid_private_key_shallow_copy=function(){return e.asm.Zh.apply(null,arguments)},e._vscf_hybrid_public_key_first_key=function(){return e.asm._h.apply(null,arguments)},e._vscf_hybrid_public_key_second_key=function(){return e.asm.$h.apply(null,arguments)},e._vscf_hybrid_public_key_alg_id=function(){return e.asm.ai.apply(null,arguments)},e._vscf_hybrid_public_key_alg_info=function(){return e.asm.bi.apply(null,arguments)},e._vscf_hybrid_public_key_len=function(){return e.asm.ci.apply(null,arguments)},e._vscf_hybrid_public_key_bitlen=function(){return e.asm.di.apply(null,arguments)},e._vscf_hybrid_public_key_impl_tag=function(){return e.asm.ei.apply(null,arguments)},e._vscf_hybrid_public_key_is_valid=function(){return e.asm.fi.apply(null,arguments)},e._vscf_hybrid_public_key_new=function(){return e.asm.gi.apply(null,arguments)},e._vscf_hybrid_public_key_delete=function(){return e.asm.hi.apply(null,arguments)},e._vscf_hybrid_public_key_shallow_copy=function(){return e.asm.ii.apply(null,arguments)},e._vscf_kdf1_alg_id=function(){return e.asm.ji.apply(null,arguments)},e._vscf_kdf1_produce_alg_info=function(){return e.asm.ki.apply(null,arguments)},e._vscf_kdf1_restore_alg_info=function(){return e.asm.li.apply(null,arguments)},e._vscf_kdf1_derive=function(){return e.asm.mi.apply(null,arguments)},e._vscf_kdf1_release_hash=function(){return e.asm.ni.apply(null,arguments)},e._vscf_kdf1_new=function(){return e.asm.oi.apply(null,arguments)},e._vscf_kdf1_delete=function(){return e.asm.pi.apply(null,arguments)},e._vscf_kdf1_shallow_copy=function(){return e.asm.qi.apply(null,arguments)},e._vscf_kdf1_use_hash=function(){return e.asm.ri.apply(null,arguments)},e._vscf_kdf2_alg_id=function(){return e.asm.si.apply(null,arguments)},e._vscf_kdf2_produce_alg_info=function(){return e.asm.ti.apply(null,arguments)},e._vscf_kdf2_restore_alg_info=function(){return e.asm.ui.apply(null,arguments)},e._vscf_kdf2_derive=function(){return e.asm.vi.apply(null,arguments)},e._vscf_kdf2_release_hash=function(){return e.asm.wi.apply(null,arguments)},e._vscf_kdf2_new=function(){return e.asm.xi.apply(null,arguments)},e._vscf_kdf2_delete=function(){return e.asm.yi.apply(null,arguments)},e._vscf_kdf2_shallow_copy=function(){return e.asm.zi.apply(null,arguments)},e._vscf_kdf2_use_hash=function(){return e.asm.Ai.apply(null,arguments)},e._vscf_key_asn1_deserializer_setup_defaults=function(){return e.asm.Bi.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_public_key_inplace=function(){return e.asm.Ci.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_private_key_inplace=function(){return e.asm.Di.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_public_key=function(){return e.asm.Ei.apply(null,arguments)},e._vscf_key_asn1_deserializer_deserialize_private_key=function(){return e.asm.Fi.apply(null,arguments)},e._vscf_key_asn1_deserializer_release_asn1_reader=function(){return e.asm.Gi.apply(null,arguments)},e._vscf_key_asn1_deserializer_new=function(){return e.asm.Hi.apply(null,arguments)},e._vscf_key_asn1_deserializer_delete=function(){return e.asm.Ii.apply(null,arguments)},e._vscf_key_asn1_deserializer_shallow_copy=function(){return e.asm.Ji.apply(null,arguments)},e._vscf_key_asn1_deserializer_use_asn1_reader=function(){return e.asm.Ki.apply(null,arguments)},e._vscf_key_asn1_serializer_setup_defaults=function(){return e.asm.Li.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_public_key_inplace=function(){return e.asm.Mi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialized_public_key_len=function(){return e.asm.Ni.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_private_key_inplace=function(){return e.asm.Oi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialized_private_key_len=function(){return e.asm.Pi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_public_key=function(){return e.asm.Qi.apply(null,arguments)},e._vscf_key_asn1_serializer_serialize_private_key=function(){return e.asm.Ri.apply(null,arguments)},e._vscf_key_asn1_serializer_release_asn1_writer=function(){return e.asm.Si.apply(null,arguments)},e._vscf_key_asn1_serializer_new=function(){return e.asm.Ti.apply(null,arguments)},e._vscf_key_asn1_serializer_delete=function(){return e.asm.Ui.apply(null,arguments)},e._vscf_key_asn1_serializer_shallow_copy=function(){return e.asm.Vi.apply(null,arguments)},e._vscf_key_asn1_serializer_use_asn1_writer=function(){return e.asm.Wi.apply(null,arguments)},e._vscf_key_material_rng_reset_key_material=function(){return e.asm.Xi.apply(null,arguments)},e._vscf_key_material_rng_random=function(){return e.asm.Yi.apply(null,arguments)},e._vscf_key_material_rng_reseed=function(){return e.asm.Zi.apply(null,arguments)},e._vscf_key_material_rng_new=function(){return e.asm._i.apply(null,arguments)},e._vscf_key_material_rng_delete=function(){return e.asm.$i.apply(null,arguments)},e._vscf_key_material_rng_shallow_copy=function(){return e.asm.aj.apply(null,arguments)},e._vscf_message_info_der_serializer_setup_defaults=function(){return e.asm.bj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialized_len=function(){return e.asm.cj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialize=function(){return e.asm.dj.apply(null,arguments)},e._vscf_message_info_der_serializer_read_prefix=function(){return e.asm.ej.apply(null,arguments)},e._vscf_message_info_der_serializer_deserialize=function(){return e.asm.fj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialized_footer_len=function(){return e.asm.gj.apply(null,arguments)},e._vscf_message_info_der_serializer_serialize_footer=function(){return e.asm.hj.apply(null,arguments)},e._vscf_message_info_der_serializer_deserialize_footer=function(){return e.asm.ij.apply(null,arguments)},e._vscf_message_info_der_serializer_release_asn1_reader=function(){return e.asm.jj.apply(null,arguments)},e._vscf_message_info_der_serializer_release_asn1_writer=function(){return e.asm.kj.apply(null,arguments)},e._vscf_message_info_der_serializer_new=function(){return e.asm.lj.apply(null,arguments)},e._vscf_message_info_der_serializer_delete=function(){return e.asm.mj.apply(null,arguments)},e._vscf_message_info_der_serializer_shallow_copy=function(){return e.asm.nj.apply(null,arguments)},e._vscf_message_info_der_serializer_use_asn1_reader=function(){return e.asm.oj.apply(null,arguments)},e._vscf_message_info_der_serializer_use_asn1_writer=function(){return e.asm.pj.apply(null,arguments)},e._vscf_pbe_alg_info_kdf_alg_info=function(){return e.asm.qj.apply(null,arguments)},e._vscf_pbe_alg_info_cipher_alg_info=function(){return e.asm.rj.apply(null,arguments)},e._vscf_pbe_alg_info_alg_id=function(){return e.asm.sj.apply(null,arguments)},e._vscf_pbe_alg_info_new=function(){return e.asm.tj.apply(null,arguments)},e._vscf_pbe_alg_info_delete=function(){return e.asm.uj.apply(null,arguments)},e._vscf_pbe_alg_info_shallow_copy=function(){return e.asm.vj.apply(null,arguments)},e._vscf_pkcs5_pbes2_reset=function(){return e.asm.wj.apply(null,arguments)},e._vscf_pkcs5_pbes2_alg_id=function(){return e.asm.xj.apply(null,arguments)},e._vscf_pkcs5_pbes2_produce_alg_info=function(){return e.asm.yj.apply(null,arguments)},e._vscf_pkcs5_pbes2_restore_alg_info=function(){return e.asm.zj.apply(null,arguments)},e._vscf_pkcs5_pbes2_encrypt=function(){return e.asm.Aj.apply(null,arguments)},e._vscf_pkcs5_pbes2_encrypted_len=function(){return e.asm.Bj.apply(null,arguments)},e._vscf_pkcs5_pbes2_precise_encrypted_len=function(){return e.asm.Cj.apply(null,arguments)},e._vscf_pkcs5_pbes2_decrypt=function(){return e.asm.Dj.apply(null,arguments)},e._vscf_pkcs5_pbes2_decrypted_len=function(){return e.asm.Ej.apply(null,arguments)},e._vscf_pkcs5_pbes2_release_kdf=function(){return e.asm.Fj.apply(null,arguments)},e._vscf_pkcs5_pbes2_release_cipher=function(){return e.asm.Gj.apply(null,arguments)},e._vscf_pkcs5_pbes2_new=function(){return e.asm.Hj.apply(null,arguments)},e._vscf_pkcs5_pbes2_delete=function(){return e.asm.Ij.apply(null,arguments)},e._vscf_pkcs5_pbes2_shallow_copy=function(){return e.asm.Jj.apply(null,arguments)},e._vscf_pkcs5_pbes2_use_kdf=function(){return e.asm.Kj.apply(null,arguments)},e._vscf_pkcs5_pbes2_use_cipher=function(){return e.asm.Lj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_setup_defaults=function(){return e.asm.Mj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_alg_id=function(){return e.asm.Nj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_produce_alg_info=function(){return e.asm.Oj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_restore_alg_info=function(){return e.asm.Pj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_reset=function(){return e.asm.Qj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_derive=function(){return e.asm.Rj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_set_info=function(){return e.asm.Sj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_release_hmac=function(){return e.asm.Tj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_new=function(){return e.asm.Uj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_delete=function(){return e.asm.Vj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_shallow_copy=function(){return e.asm.Wj.apply(null,arguments)},e._vscf_pkcs5_pbkdf2_use_hmac=function(){return e.asm.Xj.apply(null,arguments)},e._vscf_pkcs8_serializer_setup_defaults=function(){return e.asm.Yj.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_public_key_inplace=function(){return e.asm.Zj.apply(null,arguments)},e._vscf_pkcs8_serializer_serialized_public_key_len=function(){return e.asm._j.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_private_key_inplace=function(){return e.asm.$j.apply(null,arguments)},e._vscf_pkcs8_serializer_serialized_private_key_len=function(){return e.asm.ak.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_public_key=function(){return e.asm.bk.apply(null,arguments)},e._vscf_pkcs8_serializer_serialize_private_key=function(){return e.asm.ck.apply(null,arguments)},e._vscf_pkcs8_serializer_release_asn1_writer=function(){return e.asm.dk.apply(null,arguments)},e._vscf_pkcs8_serializer_new=function(){return e.asm.ek.apply(null,arguments)},e._vscf_pkcs8_serializer_delete=function(){return e.asm.fk.apply(null,arguments)},e._vscf_pkcs8_serializer_shallow_copy=function(){return e.asm.gk.apply(null,arguments)},e._vscf_pkcs8_serializer_use_asn1_writer=function(){return e.asm.hk.apply(null,arguments)},e._vscf_random_padding_alg_id=function(){return e.asm.ik.apply(null,arguments)},e._vscf_random_padding_produce_alg_info=function(){return e.asm.jk.apply(null,arguments)},e._vscf_random_padding_restore_alg_info=function(){return e.asm.kk.apply(null,arguments)},e._vscf_random_padding_configure=function(){return e.asm.lk.apply(null,arguments)},e._vscf_random_padding_padded_data_len=function(){return e.asm.mk.apply(null,arguments)},e._vscf_random_padding_len=function(){return e.asm.nk.apply(null,arguments)},e._vscf_random_padding_len_max=function(){return e.asm.ok.apply(null,arguments)},e._vscf_random_padding_start_data_processing=function(){return e.asm.pk.apply(null,arguments)},e._vscf_random_padding_process_data=function(){return e.asm.qk.apply(null,arguments)},e._vscf_random_padding_finish_data_processing=function(){return e.asm.rk.apply(null,arguments)},e._vscf_random_padding_start_padded_data_processing=function(){return e.asm.sk.apply(null,arguments)},e._vscf_random_padding_process_padded_data=function(){return e.asm.tk.apply(null,arguments)},e._vscf_random_padding_finish_padded_data_processing_out_len=function(){return e.asm.uk.apply(null,arguments)},e._vscf_random_padding_finish_padded_data_processing=function(){return e.asm.vk.apply(null,arguments)},e._vscf_random_padding_release_random=function(){return e.asm.wk.apply(null,arguments)},e._vscf_random_padding_new=function(){return e.asm.xk.apply(null,arguments)},e._vscf_random_padding_delete=function(){return e.asm.yk.apply(null,arguments)},e._vscf_random_padding_shallow_copy=function(){return e.asm.zk.apply(null,arguments)},e._vscf_random_padding_use_random=function(){return e.asm.Ak.apply(null,arguments)},e._vscf_raw_private_key_data=function(){return e.asm.Bk.apply(null,arguments)},e._vscf_raw_private_key_has_public_key=function(){return e.asm.Ck.apply(null,arguments)},e._vscf_raw_private_key_set_public_key=function(){return e.asm.Dk.apply(null,arguments)},e._vscf_raw_private_key_get_public_key=function(){return e.asm.Ek.apply(null,arguments)},e._vscf_raw_private_key_alg_id=function(){return e.asm.Fk.apply(null,arguments)},e._vscf_raw_private_key_alg_info=function(){return e.asm.Gk.apply(null,arguments)},e._vscf_raw_private_key_len=function(){return e.asm.Hk.apply(null,arguments)},e._vscf_raw_private_key_bitlen=function(){return e.asm.Ik.apply(null,arguments)},e._vscf_raw_private_key_impl_tag=function(){return e.asm.Jk.apply(null,arguments)},e._vscf_raw_private_key_is_valid=function(){return e.asm.Kk.apply(null,arguments)},e._vscf_raw_private_key_extract_public_key=function(){return e.asm.Lk.apply(null,arguments)},e._vscf_raw_private_key_new=function(){return e.asm.Mk.apply(null,arguments)},e._vscf_raw_private_key_delete=function(){return e.asm.Nk.apply(null,arguments)},e._vscf_raw_private_key_shallow_copy=function(){return e.asm.Ok.apply(null,arguments)},e._vscf_raw_public_key_data=function(){return e.asm.Pk.apply(null,arguments)},e._vscf_raw_public_key_alg_id=function(){return e.asm.Qk.apply(null,arguments)},e._vscf_raw_public_key_alg_info=function(){return e.asm.Rk.apply(null,arguments)},e._vscf_raw_public_key_len=function(){return e.asm.Sk.apply(null,arguments)},e._vscf_raw_public_key_bitlen=function(){return e.asm.Tk.apply(null,arguments)},e._vscf_raw_public_key_impl_tag=function(){return e.asm.Uk.apply(null,arguments)},e._vscf_raw_public_key_is_valid=function(){return e.asm.Vk.apply(null,arguments)},e._vscf_raw_public_key_new=function(){return e.asm.Wk.apply(null,arguments)},e._vscf_raw_public_key_delete=function(){return e.asm.Xk.apply(null,arguments)},e._vscf_raw_public_key_shallow_copy=function(){return e.asm.Yk.apply(null,arguments)},e._vscf_round5_setup_defaults=function(){return e.asm.Zk.apply(null,arguments)},e._vscf_round5_generate_key=function(){return e.asm._k.apply(null,arguments)},e._vscf_round5_generate_ephemeral_key=function(){return e.asm.$k.apply(null,arguments)},e._vscf_round5_import_public_key=function(){return e.asm.al.apply(null,arguments)},e._vscf_round5_import_public_key_data=function(){return e.asm.bl.apply(null,arguments)},e._vscf_round5_export_public_key=function(){return e.asm.cl.apply(null,arguments)},e._vscf_round5_exported_public_key_data_len=function(){return e.asm.dl.apply(null,arguments)},e._vscf_round5_export_public_key_data=function(){return e.asm.el.apply(null,arguments)},e._vscf_round5_import_private_key=function(){return e.asm.fl.apply(null,arguments)},e._vscf_round5_import_private_key_data=function(){return e.asm.gl.apply(null,arguments)},e._vscf_round5_export_private_key=function(){return e.asm.hl.apply(null,arguments)},e._vscf_round5_exported_private_key_data_len=function(){return e.asm.il.apply(null,arguments)},e._vscf_round5_export_private_key_data=function(){return e.asm.jl.apply(null,arguments)},e._vscf_round5_kem_shared_key_len=function(){return e.asm.kl.apply(null,arguments)},e._vscf_round5_kem_encapsulated_key_len=function(){return e.asm.ll.apply(null,arguments)},e._vscf_round5_kem_encapsulate=function(){return e.asm.ml.apply(null,arguments)},e._vscf_round5_kem_decapsulate=function(){return e.asm.nl.apply(null,arguments)},e._vscf_round5_release_random=function(){return e.asm.ol.apply(null,arguments)},e._vscf_round5_new=function(){return e.asm.pl.apply(null,arguments)},e._vscf_round5_delete=function(){return e.asm.ql.apply(null,arguments)},e._vscf_round5_shallow_copy=function(){return e.asm.rl.apply(null,arguments)},e._vscf_round5_use_random=function(){return e.asm.sl.apply(null,arguments)},e._vscf_rsa_setup_defaults=function(){return e.asm.tl.apply(null,arguments)},e._vscf_rsa_generate_key=function(){return e.asm.ul.apply(null,arguments)},e._vscf_rsa_generate_ephemeral_key=function(){return e.asm.vl.apply(null,arguments)},e._vscf_rsa_import_public_key=function(){return e.asm.wl.apply(null,arguments)},e._vscf_rsa_import_public_key_data=function(){return e.asm.xl.apply(null,arguments)},e._vscf_rsa_export_public_key=function(){return e.asm.yl.apply(null,arguments)},e._vscf_rsa_exported_public_key_data_len=function(){return e.asm.zl.apply(null,arguments)},e._vscf_rsa_export_public_key_data=function(){return e.asm.Al.apply(null,arguments)},e._vscf_rsa_import_private_key=function(){return e.asm.Bl.apply(null,arguments)},e._vscf_rsa_import_private_key_data=function(){return e.asm.Cl.apply(null,arguments)},e._vscf_rsa_export_private_key=function(){return e.asm.Dl.apply(null,arguments)},e._vscf_rsa_exported_private_key_data_len=function(){return e.asm.El.apply(null,arguments)},e._vscf_rsa_export_private_key_data=function(){return e.asm.Fl.apply(null,arguments)},e._vscf_rsa_can_encrypt=function(){return e.asm.Gl.apply(null,arguments)},e._vscf_rsa_encrypted_len=function(){return e.asm.Hl.apply(null,arguments)},e._vscf_rsa_encrypt=function(){return e.asm.Il.apply(null,arguments)},e._vscf_rsa_can_decrypt=function(){return e.asm.Jl.apply(null,arguments)},e._vscf_rsa_decrypted_len=function(){return e.asm.Kl.apply(null,arguments)},e._vscf_rsa_decrypt=function(){return e.asm.Ll.apply(null,arguments)},e._vscf_rsa_can_sign=function(){return e.asm.Ml.apply(null,arguments)},e._vscf_rsa_signature_len=function(){return e.asm.Nl.apply(null,arguments)},e._vscf_rsa_sign_hash=function(){return e.asm.Ol.apply(null,arguments)},e._vscf_rsa_can_verify=function(){return e.asm.Pl.apply(null,arguments)},e._vscf_rsa_verify_hash=function(){return e.asm.Ql.apply(null,arguments)},e._vscf_rsa_release_random=function(){return e.asm.Rl.apply(null,arguments)},e._vscf_rsa_new=function(){return e.asm.Sl.apply(null,arguments)},e._vscf_rsa_delete=function(){return e.asm.Tl.apply(null,arguments)},e._vscf_rsa_shallow_copy=function(){return e.asm.Ul.apply(null,arguments)},e._vscf_rsa_use_random=function(){return e.asm.Vl.apply(null,arguments)},e._vscf_rsa_private_key_is_valid=function(){return e.asm.Wl.apply(null,arguments)},e._vscf_rsa_private_key_len=function(){return e.asm.Xl.apply(null,arguments)},e._vscf_rsa_private_key_alg_id=function(){return e.asm.Yl.apply(null,arguments)},e._vscf_rsa_private_key_alg_info=function(){return e.asm.Zl.apply(null,arguments)},e._vscf_rsa_private_key_bitlen=function(){return e.asm._l.apply(null,arguments)},e._vscf_rsa_private_key_impl_tag=function(){return e.asm.$l.apply(null,arguments)},e._vscf_rsa_private_key_extract_public_key=function(){return e.asm.am.apply(null,arguments)},e._vscf_rsa_private_key_new=function(){return e.asm.bm.apply(null,arguments)},e._vscf_rsa_private_key_delete=function(){return e.asm.cm.apply(null,arguments)},e._vscf_rsa_private_key_shallow_copy=function(){return e.asm.dm.apply(null,arguments)},e._vscf_rsa_public_key_key_exponent=function(){return e.asm.em.apply(null,arguments)},e._vscf_rsa_public_key_is_valid=function(){return e.asm.fm.apply(null,arguments)},e._vscf_rsa_public_key_len=function(){return e.asm.gm.apply(null,arguments)},e._vscf_rsa_public_key_alg_id=function(){return e.asm.hm.apply(null,arguments)},e._vscf_rsa_public_key_alg_info=function(){return e.asm.im.apply(null,arguments)},e._vscf_rsa_public_key_bitlen=function(){return e.asm.jm.apply(null,arguments)},e._vscf_rsa_public_key_impl_tag=function(){return e.asm.km.apply(null,arguments)},e._vscf_rsa_public_key_new=function(){return e.asm.lm.apply(null,arguments)},e._vscf_rsa_public_key_delete=function(){return e.asm.mm.apply(null,arguments)},e._vscf_rsa_public_key_shallow_copy=function(){return e.asm.nm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_hash_alg_info=function(){return e.asm.om.apply(null,arguments)},e._vscf_salted_kdf_alg_info_salt=function(){return e.asm.pm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_iteration_count=function(){return e.asm.qm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_alg_id=function(){return e.asm.rm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_new=function(){return e.asm.sm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_delete=function(){return e.asm.tm.apply(null,arguments)},e._vscf_salted_kdf_alg_info_shallow_copy=function(){return e.asm.um.apply(null,arguments)},e._vscf_sec1_serializer_setup_defaults=function(){return e.asm.vm.apply(null,arguments)},e._vscf_sec1_serializer_serialize_public_key_inplace=function(){return e.asm.wm.apply(null,arguments)},e._vscf_sec1_serializer_serialized_public_key_len=function(){return e.asm.xm.apply(null,arguments)},e._vscf_sec1_serializer_serialize_private_key_inplace=function(){return e.asm.ym.apply(null,arguments)},e._vscf_sec1_serializer_serialized_private_key_len=function(){return e.asm.zm.apply(null,arguments)},e._vscf_sec1_serializer_serialize_public_key=function(){return e.asm.Am.apply(null,arguments)},e._vscf_sec1_serializer_serialize_private_key=function(){return e.asm.Bm.apply(null,arguments)},e._vscf_sec1_serializer_release_asn1_writer=function(){return e.asm.Cm.apply(null,arguments)},e._vscf_sec1_serializer_new=function(){return e.asm.Dm.apply(null,arguments)},e._vscf_sec1_serializer_delete=function(){return e.asm.Em.apply(null,arguments)},e._vscf_sec1_serializer_shallow_copy=function(){return e.asm.Fm.apply(null,arguments)},e._vscf_sec1_serializer_use_asn1_writer=function(){return e.asm.Gm.apply(null,arguments)},e._vscf_seed_entropy_source_reset_seed=function(){return e.asm.Hm.apply(null,arguments)},e._vscf_seed_entropy_source_is_strong=function(){return e.asm.Im.apply(null,arguments)},e._vscf_seed_entropy_source_gather=function(){return e.asm.Jm.apply(null,arguments)},e._vscf_seed_entropy_source_new=function(){return e.asm.Km.apply(null,arguments)},e._vscf_seed_entropy_source_delete=function(){return e.asm.Lm.apply(null,arguments)},e._vscf_seed_entropy_source_shallow_copy=function(){return e.asm.Mm.apply(null,arguments)},e._vscf_sha224_alg_id=function(){return e.asm.Nm.apply(null,arguments)},e._vscf_sha224_produce_alg_info=function(){return e.asm.Om.apply(null,arguments)},e._vscf_sha224_restore_alg_info=function(){return e.asm.Pm.apply(null,arguments)},e._vscf_sha224_hash=function(){return e.asm.Qm.apply(null,arguments)},e._vscf_sha224_finish=function(){return e.asm.Rm.apply(null,arguments)},e._vscf_sha224_start=function(){return e.asm.Sm.apply(null,arguments)},e._vscf_sha224_update=function(){return e.asm.Tm.apply(null,arguments)},e._vscf_sha224_new=function(){return e.asm.Um.apply(null,arguments)},e._vscf_sha224_delete=function(){return e.asm.Vm.apply(null,arguments)},e._vscf_sha224_shallow_copy=function(){return e.asm.Wm.apply(null,arguments)},e._vscf_sha256_alg_id=function(){return e.asm.Xm.apply(null,arguments)},e._vscf_sha256_produce_alg_info=function(){return e.asm.Ym.apply(null,arguments)},e._vscf_sha256_restore_alg_info=function(){return e.asm.Zm.apply(null,arguments)},e._vscf_sha256_hash=function(){return e.asm._m.apply(null,arguments)},e._vscf_sha256_finish=function(){return e.asm.$m.apply(null,arguments)},e._vscf_sha256_start=function(){return e.asm.an.apply(null,arguments)},e._vscf_sha256_update=function(){return e.asm.bn.apply(null,arguments)},e._vscf_sha256_new=function(){return e.asm.cn.apply(null,arguments)},e._vscf_sha256_delete=function(){return e.asm.dn.apply(null,arguments)},e._vscf_sha256_shallow_copy=function(){return e.asm.en.apply(null,arguments)},e._vscf_sha384_alg_id=function(){return e.asm.fn.apply(null,arguments)},e._vscf_sha384_produce_alg_info=function(){return e.asm.gn.apply(null,arguments)},e._vscf_sha384_restore_alg_info=function(){return e.asm.hn.apply(null,arguments)},e._vscf_sha384_hash=function(){return e.asm.jn.apply(null,arguments)},e._vscf_sha384_finish=function(){return e.asm.kn.apply(null,arguments)},e._vscf_sha384_start=function(){return e.asm.ln.apply(null,arguments)},e._vscf_sha384_update=function(){return e.asm.mn.apply(null,arguments)},e._vscf_sha384_new=function(){return e.asm.nn.apply(null,arguments)},e._vscf_sha384_delete=function(){return e.asm.on.apply(null,arguments)},e._vscf_sha384_shallow_copy=function(){return e.asm.pn.apply(null,arguments)},e._vscf_sha512_alg_id=function(){return e.asm.qn.apply(null,arguments)},e._vscf_sha512_produce_alg_info=function(){return e.asm.rn.apply(null,arguments)},e._vscf_sha512_restore_alg_info=function(){return e.asm.sn.apply(null,arguments)},e._vscf_sha512_hash=function(){return e.asm.tn.apply(null,arguments)},e._vscf_sha512_finish=function(){return e.asm.un.apply(null,arguments)},e._vscf_sha512_start=function(){return e.asm.vn.apply(null,arguments)},e._vscf_sha512_update=function(){return e.asm.wn.apply(null,arguments)},e._vscf_sha512_new=function(){return e.asm.xn.apply(null,arguments)},e._vscf_sha512_delete=function(){return e.asm.yn.apply(null,arguments)},e._vscf_sha512_shallow_copy=function(){return e.asm.zn.apply(null,arguments)},e._vscf_simple_alg_info_alg_id=function(){return e.asm.An.apply(null,arguments)},e._vscf_simple_alg_info_new=function(){return e.asm.Bn.apply(null,arguments)},e._vscf_simple_alg_info_delete=function(){return e.asm.Cn.apply(null,arguments)},e._vscf_simple_alg_info_shallow_copy=function(){return e.asm.Dn.apply(null,arguments)},e._vscf_simple_alg_info_new_with_alg_id=function(){return e.asm.En.apply(null,arguments)},e._vscf_alg_factory_create_hash_from_info=function(){return e.asm.Fn.apply(null,arguments)},e._vscf_alg_factory_create_mac_from_info=function(){return e.asm.Gn.apply(null,arguments)},e._vscf_alg_factory_create_kdf_from_info=function(){return e.asm.Hn.apply(null,arguments)},e._vscf_alg_factory_create_salted_kdf_from_info=function(){return e.asm.In.apply(null,arguments)},e._vscf_alg_factory_create_cipher_from_info=function(){return e.asm.Jn.apply(null,arguments)},e._vscf_alg_factory_create_padding_from_info=function(){return e.asm.Kn.apply(null,arguments)},e._vscf_base64_encoded_len=function(){return e.asm.Ln.apply(null,arguments)},e._vscf_base64_encode=function(){return e.asm.Mn.apply(null,arguments)},e._vscf_base64_decoded_len=function(){return e.asm.Nn.apply(null,arguments)},e._vscf_base64_decode=function(){return e.asm.On.apply(null,arguments)},e._vscf_brainkey_client_release_random=function(){return e.asm.Pn.apply(null,arguments)},e._vscf_brainkey_client_release_operation_random=function(){return e.asm.Qn.apply(null,arguments)},e._vscf_brainkey_client_new=function(){return e.asm.Rn.apply(null,arguments)},e._vscf_brainkey_client_delete=function(){return e.asm.Sn.apply(null,arguments)},e._vscf_brainkey_client_shallow_copy=function(){return e.asm.Tn.apply(null,arguments)},e._vscf_brainkey_client_use_random=function(){return e.asm.Un.apply(null,arguments)},e._vscf_brainkey_client_use_operation_random=function(){return e.asm.Vn.apply(null,arguments)},e._vscf_brainkey_client_setup_defaults=function(){return e.asm.Wn.apply(null,arguments)},e._vscf_brainkey_client_blind=function(){return e.asm.Xn.apply(null,arguments)},e._vscf_brainkey_client_deblind=function(){return e.asm.Yn.apply(null,arguments)},e._vscf_brainkey_server_release_random=function(){return e.asm.Zn.apply(null,arguments)},e._vscf_brainkey_server_release_operation_random=function(){return e.asm._n.apply(null,arguments)},e._vscf_brainkey_server_new=function(){return e.asm.$n.apply(null,arguments)},e._vscf_brainkey_server_delete=function(){return e.asm.ao.apply(null,arguments)},e._vscf_brainkey_server_shallow_copy=function(){return e.asm.bo.apply(null,arguments)},e._vscf_brainkey_server_use_random=function(){return e.asm.co.apply(null,arguments)},e._vscf_brainkey_server_use_operation_random=function(){return e.asm.eo.apply(null,arguments)},e._vscf_brainkey_server_setup_defaults=function(){return e.asm.fo.apply(null,arguments)},e._vscf_brainkey_server_generate_identity_secret=function(){return e.asm.go.apply(null,arguments)},e._vscf_brainkey_server_harden=function(){return e.asm.ho.apply(null,arguments)};e._vscf_ecies_release_random=function(){return e.asm.io.apply(null,arguments)},e._vscf_ecies_release_cipher=function(){return e.asm.jo.apply(null,arguments)},e._vscf_ecies_release_mac=function(){return e.asm.ko.apply(null,arguments)},e._vscf_ecies_release_kdf=function(){return e.asm.lo.apply(null,arguments)},e._vscf_ecies_release_ephemeral_key=function(){return e.asm.mo.apply(null,arguments)},e._vscf_ecies_new=function(){return e.asm.no.apply(null,arguments)},e._vscf_ecies_delete=function(){return e.asm.oo.apply(null,arguments)},e._vscf_ecies_shallow_copy=function(){return e.asm.po.apply(null,arguments)},e._vscf_ecies_use_random=function(){return e.asm.qo.apply(null,arguments)},e._vscf_ecies_use_cipher=function(){return e.asm.ro.apply(null,arguments)},e._vscf_ecies_use_mac=function(){return e.asm.so.apply(null,arguments)},e._vscf_ecies_use_kdf=function(){return e.asm.to.apply(null,arguments)},e._vscf_ecies_use_ephemeral_key=function(){return e.asm.uo.apply(null,arguments)},e._vscf_ecies_set_key_alg=function(){return e.asm.vo.apply(null,arguments)},e._vscf_ecies_release_key_alg=function(){return e.asm.wo.apply(null,arguments)},e._vscf_ecies_setup_defaults=function(){return e.asm.xo.apply(null,arguments)},e._vscf_ecies_setup_defaults_no_random=function(){return e.asm.yo.apply(null,arguments)},e._vscf_ecies_encrypted_len=function(){return e.asm.zo.apply(null,arguments)},e._vscf_ecies_encrypt=function(){return e.asm.Ao.apply(null,arguments)},e._vscf_ecies_decrypted_len=function(){return e.asm.Bo.apply(null,arguments)},e._vscf_ecies_decrypt=function(){return e.asm.Co.apply(null,arguments)},e._vscf_error_ctx_size=function(){return e.asm.Do.apply(null,arguments)},e._vscf_error_reset=function(){return e.asm.Eo.apply(null,arguments)},e._vscf_error_status=function(){return e.asm.Fo.apply(null,arguments)},e._vscf_footer_info_new=function(){return e.asm.Go.apply(null,arguments)},e._vscf_footer_info_delete=function(){return e.asm.Ho.apply(null,arguments)},e._vscf_footer_info_shallow_copy=function(){return e.asm.Io.apply(null,arguments)},e._vscf_footer_info_has_signed_data_info=function(){return e.asm.Jo.apply(null,arguments)},e._vscf_footer_info_signed_data_info=function(){return e.asm.Ko.apply(null,arguments)},e._vscf_footer_info_set_data_size=function(){return e.asm.Lo.apply(null,arguments)},e._vscf_footer_info_data_size=function(){return e.asm.Mo.apply(null,arguments)},e._vscf_group_session_release_rng=function(){return e.asm.No.apply(null,arguments)},e._vscf_group_session_new=function(){return e.asm.Oo.apply(null,arguments)},e._vscf_group_session_delete=function(){return e.asm.Po.apply(null,arguments)},e._vscf_group_session_shallow_copy=function(){return e.asm.Qo.apply(null,arguments)},e._vscf_group_session_use_rng=function(){return e.asm.Ro.apply(null,arguments)},e._vscf_group_session_get_current_epoch=function(){return e.asm.So.apply(null,arguments)},e._vscf_group_session_setup_defaults=function(){return e.asm.To.apply(null,arguments)},e._vscf_group_session_get_session_id=function(){return e.asm.Uo.apply(null,arguments)},e._vscf_group_session_add_epoch=function(){return e.asm.Vo.apply(null,arguments)},e._vscf_group_session_encrypt=function(){return e.asm.Wo.apply(null,arguments)},e._vscf_group_session_decrypt_len=function(){return e.asm.Xo.apply(null,arguments)},e._vscf_group_session_decrypt=function(){return e.asm.Yo.apply(null,arguments)},e._vscf_group_session_create_group_ticket=function(){return e.asm.Zo.apply(null,arguments)},e._vscf_group_session_message_new=function(){return e.asm._o.apply(null,arguments)},e._vscf_group_session_message_delete=function(){return e.asm.$o.apply(null,arguments)},e._vscf_group_session_message_shallow_copy=function(){return e.asm.ap.apply(null,arguments)},e._vscf_group_session_message_get_type=function(){return e.asm.bp.apply(null,arguments)},e._vscf_group_session_message_get_session_id=function(){return e.asm.cp.apply(null,arguments)},e._vscf_group_session_message_get_epoch=function(){return e.asm.dp.apply(null,arguments)},e._vscf_group_session_message_serialize_len=function(){return e.asm.ep.apply(null,arguments)},e._vscf_group_session_message_serialize=function(){return e.asm.fp.apply(null,arguments)},e._vscf_group_session_message_deserialize=function(){return e.asm.gp.apply(null,arguments)},e._vscf_group_session_ticket_release_rng=function(){return e.asm.hp.apply(null,arguments)},e._vscf_group_session_ticket_new=function(){return e.asm.ip.apply(null,arguments)},e._vscf_group_session_ticket_delete=function(){return e.asm.jp.apply(null,arguments)},e._vscf_group_session_ticket_shallow_copy=function(){return e.asm.kp.apply(null,arguments)},e._vscf_group_session_ticket_use_rng=function(){return e.asm.lp.apply(null,arguments)},e._vscf_group_session_ticket_setup_defaults=function(){return e.asm.mp.apply(null,arguments)},e._vscf_group_session_ticket_setup_ticket_as_new=function(){return e.asm.np.apply(null,arguments)},e._vscf_group_session_ticket_get_ticket_message=function(){return e.asm.op.apply(null,arguments)},e._vscf_key_alg_factory_create_from_alg_id=function(){return e.asm.pp.apply(null,arguments)},e._vscf_key_alg_factory_create_from_key=function(){return e.asm.qp.apply(null,arguments)},e._vscf_key_alg_factory_create_from_raw_public_key=function(){return e.asm.rp.apply(null,arguments)},e._vscf_key_alg_factory_create_from_raw_private_key=function(){return e.asm.sp.apply(null,arguments)},e._vscf_key_info_new=function(){return e.asm.tp.apply(null,arguments)},e._vscf_key_info_new_with_alg_info=function(){return e.asm.up.apply(null,arguments)},e._vscf_key_info_delete=function(){return e.asm.vp.apply(null,arguments)},e._vscf_key_info_shallow_copy=function(){return e.asm.wp.apply(null,arguments)},e._vscf_key_info_is_compound=function(){return e.asm.xp.apply(null,arguments)},e._vscf_key_info_is_hybrid=function(){return e.asm.yp.apply(null,arguments)},e._vscf_key_info_is_compound_hybrid=function(){return e.asm.zp.apply(null,arguments)},e._vscf_key_info_is_compound_hybrid_cipher=function(){return e.asm.Ap.apply(null,arguments)},e._vscf_key_info_is_compound_hybrid_signer=function(){return e.asm.Bp.apply(null,arguments)},e._vscf_key_info_is_hybrid_post_quantum=function(){return e.asm.Cp.apply(null,arguments)},e._vscf_key_info_is_hybrid_post_quantum_cipher=function(){return e.asm.Dp.apply(null,arguments)},e._vscf_key_info_is_hybrid_post_quantum_signer=function(){return e.asm.Ep.apply(null,arguments)},e._vscf_key_info_alg_id=function(){return e.asm.Fp.apply(null,arguments)},e._vscf_key_info_compound_cipher_alg_id=function(){return e.asm.Gp.apply(null,arguments)},e._vscf_key_info_compound_signer_alg_id=function(){return e.asm.Hp.apply(null,arguments)},e._vscf_key_info_hybrid_first_key_alg_id=function(){return e.asm.Ip.apply(null,arguments)},e._vscf_key_info_hybrid_second_key_alg_id=function(){return e.asm.Jp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_cipher_first_key_alg_id=function(){return e.asm.Kp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_cipher_second_key_alg_id=function(){return e.asm.Lp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_signer_first_key_alg_id=function(){return e.asm.Mp.apply(null,arguments)},e._vscf_key_info_compound_hybrid_signer_second_key_alg_id=function(){return e.asm.Np.apply(null,arguments)},e._vscf_key_provider_release_random=function(){return e.asm.Op.apply(null,arguments)},e._vscf_key_provider_new=function(){return e.asm.Pp.apply(null,arguments)},e._vscf_key_provider_delete=function(){return e.asm.Qp.apply(null,arguments)},e._vscf_key_provider_shallow_copy=function(){return e.asm.Rp.apply(null,arguments)},e._vscf_key_provider_use_random=function(){return e.asm.Sp.apply(null,arguments)},e._vscf_key_provider_setup_defaults=function(){return e.asm.Tp.apply(null,arguments)},e._vscf_key_provider_set_rsa_params=function(){return e.asm.Up.apply(null,arguments)},e._vscf_key_provider_generate_private_key=function(){return e.asm.Vp.apply(null,arguments)},e._vscf_key_provider_generate_post_quantum_private_key=function(){return e.asm.Wp.apply(null,arguments)},e._vscf_key_provider_generate_compound_hybrid_private_key=function(){return e.asm.Xp.apply(null,arguments)},e._vscf_key_provider_generate_hybrid_private_key=function(){return e.asm.Yp.apply(null,arguments)},e._vscf_key_provider_generate_compound_private_key=function(){return e.asm.Zp.apply(null,arguments)},e._vscf_key_provider_import_private_key=function(){return e.asm._p.apply(null,arguments)},e._vscf_key_provider_import_public_key=function(){return e.asm.$p.apply(null,arguments)},e._vscf_key_provider_exported_public_key_len=function(){return e.asm.aq.apply(null,arguments)},e._vscf_key_provider_export_public_key=function(){return e.asm.bq.apply(null,arguments)},e._vscf_key_provider_exported_private_key_len=function(){return e.asm.cq.apply(null,arguments)},e._vscf_key_provider_export_private_key=function(){return e.asm.dq.apply(null,arguments)},e._vscf_key_recipient_info_new=function(){return e.asm.eq.apply(null,arguments)},e._vscf_key_recipient_info_new_with_data=function(){return e.asm.fq.apply(null,arguments)},e._vscf_key_recipient_info_delete=function(){return e.asm.gq.apply(null,arguments)},e._vscf_key_recipient_info_shallow_copy=function(){return e.asm.hq.apply(null,arguments)},e._vscf_key_recipient_info_recipient_id=function(){return e.asm.iq.apply(null,arguments)},e._vscf_key_recipient_info_key_encryption_algorithm=function(){return e.asm.jq.apply(null,arguments)},e._vscf_key_recipient_info_encrypted_key=function(){return e.asm.kq.apply(null,arguments)},e._vscf_key_recipient_info_list_new=function(){return e.asm.lq.apply(null,arguments)},e._vscf_key_recipient_info_list_delete=function(){return e.asm.mq.apply(null,arguments)},e._vscf_key_recipient_info_list_shallow_copy=function(){return e.asm.nq.apply(null,arguments)},e._vscf_key_recipient_info_list_has_item=function(){return e.asm.oq.apply(null,arguments)},e._vscf_key_recipient_info_list_item=function(){return e.asm.pq.apply(null,arguments)},e._vscf_key_recipient_info_list_has_next=function(){return e.asm.qq.apply(null,arguments)},e._vscf_key_recipient_info_list_next=function(){return e.asm.rq.apply(null,arguments)},e._vscf_key_recipient_info_list_has_prev=function(){return e.asm.sq.apply(null,arguments)},e._vscf_key_recipient_info_list_prev=function(){return e.asm.tq.apply(null,arguments)},e._vscf_key_recipient_info_list_clear=function(){return e.asm.uq.apply(null,arguments)},e._vscf_message_info_new=function(){return e.asm.vq.apply(null,arguments)},e._vscf_message_info_delete=function(){return e.asm.wq.apply(null,arguments)},e._vscf_message_info_shallow_copy=function(){return e.asm.xq.apply(null,arguments)},e._vscf_message_info_data_encryption_alg_info=function(){return e.asm.yq.apply(null,arguments)},e._vscf_message_info_key_recipient_info_list=function(){return e.asm.zq.apply(null,arguments)},e._vscf_message_info_password_recipient_info_list=function(){return e.asm.Aq.apply(null,arguments)},e._vscf_message_info_has_custom_params=function(){return e.asm.Bq.apply(null,arguments)},e._vscf_message_info_custom_params=function(){return e.asm.Cq.apply(null,arguments)},e._vscf_message_info_has_cipher_kdf_alg_info=function(){return e.asm.Dq.apply(null,arguments)},e._vscf_message_info_cipher_kdf_alg_info=function(){return e.asm.Eq.apply(null,arguments)},e._vscf_message_info_has_cipher_padding_alg_info=function(){return e.asm.Fq.apply(null,arguments)},e._vscf_message_info_cipher_padding_alg_info=function(){return e.asm.Gq.apply(null,arguments)},e._vscf_message_info_has_footer_info=function(){return e.asm.Hq.apply(null,arguments)},e._vscf_message_info_footer_info=function(){return e.asm.Iq.apply(null,arguments)},e._vscf_message_info_clear=function(){return e.asm.Jq.apply(null,arguments)},e._vscf_message_info_custom_params_new=function(){return e.asm.Kq.apply(null,arguments)},e._vscf_message_info_custom_params_delete=function(){return e.asm.Lq.apply(null,arguments)},e._vscf_message_info_custom_params_shallow_copy=function(){return e.asm.Mq.apply(null,arguments)},e._vscf_message_info_custom_params_add_int=function(){return e.asm.Nq.apply(null,arguments)},e._vscf_message_info_custom_params_add_string=function(){return e.asm.Oq.apply(null,arguments)},e._vscf_message_info_custom_params_add_data=function(){return e.asm.Pq.apply(null,arguments)},e._vscf_message_info_custom_params_clear=function(){return e.asm.Qq.apply(null,arguments)},e._vscf_message_info_custom_params_find_int=function(){return e.asm.Rq.apply(null,arguments)},e._vscf_message_info_custom_params_find_string=function(){return e.asm.Sq.apply(null,arguments)},e._vscf_message_info_custom_params_find_data=function(){return e.asm.Tq.apply(null,arguments)},e._vscf_message_info_custom_params_has_params=function(){return e.asm.Uq.apply(null,arguments)},e._vscf_message_info_editor_release_random=function(){return e.asm.Vq.apply(null,arguments)},e._vscf_message_info_editor_new=function(){return e.asm.Wq.apply(null,arguments)},e._vscf_message_info_editor_delete=function(){return e.asm.Xq.apply(null,arguments)},e._vscf_message_info_editor_shallow_copy=function(){return e.asm.Yq.apply(null,arguments)},e._vscf_message_info_editor_use_random=function(){return e.asm.Zq.apply(null,arguments)},e._vscf_message_info_editor_setup_defaults=function(){return e.asm._q.apply(null,arguments)},e._vscf_message_info_editor_unpack=function(){return e.asm.$q.apply(null,arguments)},e._vscf_message_info_editor_unlock=function(){return e.asm.ar.apply(null,arguments)},e._vscf_message_info_editor_add_key_recipient=function(){return e.asm.br.apply(null,arguments)},e._vscf_message_info_editor_remove_key_recipient=function(){return e.asm.cr.apply(null,arguments)},e._vscf_message_info_editor_remove_all=function(){return e.asm.dr.apply(null,arguments)},e._vscf_message_info_editor_packed_len=function(){return e.asm.er.apply(null,arguments)},e._vscf_message_info_editor_pack=function(){return e.asm.fr.apply(null,arguments)},e._vscf_message_info_footer_new=function(){return e.asm.gr.apply(null,arguments)},e._vscf_message_info_footer_delete=function(){return e.asm.hr.apply(null,arguments)},e._vscf_message_info_footer_shallow_copy=function(){return e.asm.ir.apply(null,arguments)},e._vscf_message_info_footer_has_signer_infos=function(){return e.asm.jr.apply(null,arguments)},e._vscf_message_info_footer_signer_infos=function(){return e.asm.kr.apply(null,arguments)},e._vscf_message_info_footer_signer_hash_alg_info=function(){return e.asm.lr.apply(null,arguments)},e._vscf_message_info_footer_signer_digest=function(){return e.asm.mr.apply(null,arguments)},e._vscf_oid_from_alg_id=function(){return e.asm.nr.apply(null,arguments)},e._vscf_oid_to_alg_id=function(){return e.asm.or.apply(null,arguments)},e._vscf_oid_equal=function(){return e.asm.pr.apply(null,arguments)},e._vscf_oid_from_id=function(){return e.asm.qr.apply(null,arguments)},e._vscf_oid_to_id=function(){return e.asm.rr.apply(null,arguments)},e._vscf_oid_id_to_alg_id=function(){return e.asm.sr.apply(null,arguments)},e._vscf_padding_params_new=function(){return e.asm.tr.apply(null,arguments)},e._vscf_padding_params_new_with_constraints=function(){return e.asm.ur.apply(null,arguments)},e._vscf_padding_params_delete=function(){return e.asm.vr.apply(null,arguments)},e._vscf_padding_params_shallow_copy=function(){return e.asm.wr.apply(null,arguments)},e._vscf_padding_params_frame=function(){return e.asm.xr.apply(null,arguments)},e._vscf_padding_params_frame_max=function(){return e.asm.yr.apply(null,arguments)},e._vscf_password_recipient_info_new=function(){return e.asm.zr.apply(null,arguments)},e._vscf_password_recipient_info_new_with_members=function(){return e.asm.Ar.apply(null,arguments)},e._vscf_password_recipient_info_delete=function(){return e.asm.Br.apply(null,arguments)},e._vscf_password_recipient_info_shallow_copy=function(){return e.asm.Cr.apply(null,arguments)},e._vscf_password_recipient_info_key_encryption_algorithm=function(){return e.asm.Dr.apply(null,arguments)},e._vscf_password_recipient_info_encrypted_key=function(){return e.asm.Er.apply(null,arguments)},e._vscf_password_recipient_info_list_new=function(){return e.asm.Fr.apply(null,arguments)},e._vscf_password_recipient_info_list_delete=function(){return e.asm.Gr.apply(null,arguments)},e._vscf_password_recipient_info_list_shallow_copy=function(){return e.asm.Hr.apply(null,arguments)},e._vscf_password_recipient_info_list_has_item=function(){return e.asm.Ir.apply(null,arguments)},e._vscf_password_recipient_info_list_item=function(){return e.asm.Jr.apply(null,arguments)},e._vscf_password_recipient_info_list_has_next=function(){return e.asm.Kr.apply(null,arguments)},e._vscf_password_recipient_info_list_next=function(){return e.asm.Lr.apply(null,arguments)},e._vscf_password_recipient_info_list_has_prev=function(){return e.asm.Mr.apply(null,arguments)},e._vscf_password_recipient_info_list_prev=function(){return e.asm.Nr.apply(null,arguments)},e._vscf_password_recipient_info_list_clear=function(){return e.asm.Or.apply(null,arguments)},e._vscf_pem_wrapped_len=function(){return e.asm.Pr.apply(null,arguments)},e._vscf_pem_wrap=function(){return e.asm.Qr.apply(null,arguments)},e._vscf_pem_unwrapped_len=function(){return e.asm.Rr.apply(null,arguments)},e._vscf_pem_unwrap=function(){return e.asm.Sr.apply(null,arguments)},e._vscf_pem_title=function(){return e.asm.Tr.apply(null,arguments)},e._vscf_recipient_cipher_release_random=function(){return e.asm.Ur.apply(null,arguments)},e._vscf_recipient_cipher_release_encryption_cipher=function(){return e.asm.Vr.apply(null,arguments)},e._vscf_recipient_cipher_release_encryption_padding=function(){return e.asm.Wr.apply(null,arguments)},e._vscf_recipient_cipher_release_padding_params=function(){return e.asm.Xr.apply(null,arguments)},e._vscf_recipient_cipher_release_signer_hash=function(){return e.asm.Yr.apply(null,arguments)},e._vscf_recipient_cipher_new=function(){return e.asm.Zr.apply(null,arguments)},e._vscf_recipient_cipher_delete=function(){return e.asm._r.apply(null,arguments)},e._vscf_recipient_cipher_shallow_copy=function(){return e.asm.$r.apply(null,arguments)},e._vscf_recipient_cipher_use_random=function(){return e.asm.as.apply(null,arguments)},e._vscf_recipient_cipher_use_encryption_cipher=function(){return e.asm.bs.apply(null,arguments)},e._vscf_recipient_cipher_use_encryption_padding=function(){return e.asm.cs.apply(null,arguments)},e._vscf_recipient_cipher_use_padding_params=function(){return e.asm.ds.apply(null,arguments)},e._vscf_recipient_cipher_use_signer_hash=function(){return e.asm.es.apply(null,arguments)},e._vscf_recipient_cipher_has_key_recipient=function(){return e.asm.fs.apply(null,arguments)},e._vscf_recipient_cipher_add_key_recipient=function(){return e.asm.gs.apply(null,arguments)},e._vscf_recipient_cipher_clear_recipients=function(){return e.asm.hs.apply(null,arguments)},e._vscf_recipient_cipher_add_signer=function(){return e.asm.is.apply(null,arguments)},e._vscf_recipient_cipher_clear_signers=function(){return e.asm.js.apply(null,arguments)},e._vscf_recipient_cipher_custom_params=function(){return e.asm.ks.apply(null,arguments)},e._vscf_recipient_cipher_start_encryption=function(){return e.asm.ls.apply(null,arguments)},e._vscf_recipient_cipher_start_signed_encryption=function(){return e.asm.ms.apply(null,arguments)},e._vscf_recipient_cipher_message_info_len=function(){return e.asm.ns.apply(null,arguments)},e._vscf_recipient_cipher_pack_message_info=function(){return e.asm.os.apply(null,arguments)},e._vscf_recipient_cipher_encryption_out_len=function(){return e.asm.ps.apply(null,arguments)},e._vscf_recipient_cipher_message_info_footer_len=function(){return e.asm.qs.apply(null,arguments)},e._vscf_recipient_cipher_process_encryption=function(){return e.asm.rs.apply(null,arguments)},e._vscf_recipient_cipher_finish_encryption=function(){return e.asm.ss.apply(null,arguments)},e._vscf_recipient_cipher_start_decryption_with_key=function(){return e.asm.ts.apply(null,arguments)},e._vscf_recipient_cipher_start_verified_decryption_with_key=function(){return e.asm.us.apply(null,arguments)},e._vscf_recipient_cipher_decryption_out_len=function(){return e.asm.vs.apply(null,arguments)},e._vscf_recipient_cipher_process_decryption=function(){return e.asm.ws.apply(null,arguments)},e._vscf_recipient_cipher_finish_decryption=function(){return e.asm.xs.apply(null,arguments)},e._vscf_recipient_cipher_is_data_signed=function(){return e.asm.ys.apply(null,arguments)},e._vscf_recipient_cipher_signer_infos=function(){return e.asm.zs.apply(null,arguments)},e._vscf_recipient_cipher_verify_signer_info=function(){return e.asm.As.apply(null,arguments)},e._vscf_recipient_cipher_pack_message_info_footer=function(){return e.asm.Bs.apply(null,arguments)},e._vscf_signed_data_info_new=function(){return e.asm.Cs.apply(null,arguments)},e._vscf_signed_data_info_delete=function(){return e.asm.Ds.apply(null,arguments)},e._vscf_signed_data_info_shallow_copy=function(){return e.asm.Es.apply(null,arguments)},e._vscf_signed_data_info_hash_alg_info=function(){return e.asm.Fs.apply(null,arguments)},e._vscf_signer_release_hash=function(){return e.asm.Gs.apply(null,arguments)},e._vscf_signer_release_random=function(){return e.asm.Hs.apply(null,arguments)},e._vscf_signer_new=function(){return e.asm.Is.apply(null,arguments)},e._vscf_signer_delete=function(){return e.asm.Js.apply(null,arguments)},e._vscf_signer_shallow_copy=function(){return e.asm.Ks.apply(null,arguments)},e._vscf_signer_use_hash=function(){return e.asm.Ls.apply(null,arguments)},e._vscf_signer_use_random=function(){return e.asm.Ms.apply(null,arguments)},e._vscf_signer_reset=function(){return e.asm.Ns.apply(null,arguments)},e._vscf_signer_append_data=function(){return e.asm.Os.apply(null,arguments)},e._vscf_signer_signature_len=function(){return e.asm.Ps.apply(null,arguments)},e._vscf_signer_sign=function(){return e.asm.Qs.apply(null,arguments)},e._vscf_signer_info_new=function(){return e.asm.Rs.apply(null,arguments)},e._vscf_signer_info_delete=function(){return e.asm.Ss.apply(null,arguments)},e._vscf_signer_info_shallow_copy=function(){return e.asm.Ts.apply(null,arguments)},e._vscf_signer_info_signer_id=function(){return e.asm.Us.apply(null,arguments)},e._vscf_signer_info_signer_alg_info=function(){return e.asm.Vs.apply(null,arguments)},e._vscf_signer_info_signature=function(){return e.asm.Ws.apply(null,arguments)},e._vscf_signer_info_list_new=function(){return e.asm.Xs.apply(null,arguments)},e._vscf_signer_info_list_delete=function(){return e.asm.Ys.apply(null,arguments)},e._vscf_signer_info_list_shallow_copy=function(){return e.asm.Zs.apply(null,arguments)},e._vscf_signer_info_list_has_item=function(){return e.asm._s.apply(null,arguments)},e._vscf_signer_info_list_item=function(){return e.asm.$s.apply(null,arguments)},e._vscf_signer_info_list_has_next=function(){return e.asm.at.apply(null,arguments)},e._vscf_signer_info_list_next=function(){return e.asm.bt.apply(null,arguments)},e._vscf_signer_info_list_has_prev=function(){return e.asm.ct.apply(null,arguments)},e._vscf_signer_info_list_prev=function(){return e.asm.dt.apply(null,arguments)},e._vscf_signer_info_list_clear=function(){return e.asm.et.apply(null,arguments)},e._vscf_verifier_new=function(){return e.asm.ft.apply(null,arguments)},e._vscf_verifier_delete=function(){return e.asm.gt.apply(null,arguments)},e._vscf_verifier_shallow_copy=function(){return e.asm.ht.apply(null,arguments)},e._vscf_verifier_reset=function(){return e.asm.it.apply(null,arguments)},e._vscf_verifier_append_data=function(){return e.asm.jt.apply(null,arguments)},e._vscf_verifier_verify=function(){return e.asm.kt.apply(null,arguments)},e._vsc_buffer_new=function(){return e.asm.lt.apply(null,arguments)},e._vsc_buffer_new_with_capacity=function(){return e.asm.mt.apply(null,arguments)},e._vsc_buffer_delete=function(){return e.asm.nt.apply(null,arguments)},e._vsc_buffer_data=function(){return e.asm.ot.apply(null,arguments)},e._vsc_buffer_make_secure=function(){return e.asm.pt.apply(null,arguments)},e._vsc_buffer_bytes=function(){return e.asm.qt.apply(null,arguments)},e._vsc_buffer_len=function(){return e.asm.rt.apply(null,arguments)},e._vsc_data_ctx_size=function(){return e.asm.st.apply(null,arguments)},e._vsc_data=function(){return e.asm.tt.apply(null,arguments)},e._vsc_data_len=function(){return e.asm.ut.apply(null,arguments)},e._vsc_data_bytes=function(){return e.asm.vt.apply(null,arguments)},e.___errno_location=function(){return e.asm.wt.apply(null,arguments)};var Ut,zt=e._malloc=function(){return e.asm.xt.apply(null,arguments)};function Ht(){function t(){if(!Ut&&(Ut=!0,!y)){if(e.noFSInit||yt||(yt=!0,Nt(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?At("stdin",e.stdin):wt("/dev/tty","/dev/stdin"),e.stdout?At("stdout",null,e.stdout):wt("/dev/tty","/dev/stdout"),e.stderr?At("stderr",null,e.stderr):wt("/dev/tty1","/dev/stderr"),kt("/dev/stdin","r"),kt("/dev/stdout","w"),kt("/dev/stderr","w")),b(E),nt=!1,b(k),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();I.unshift(t)}b(I)}}if(!(0<F)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)N();b(w),0<F||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e._free=function(){return e.asm.yt.apply(null,arguments)},e.stackAlloc=function(){return e.asm.zt.apply(null,arguments)},e.dynCall_vi=function(){return e.asm.At.apply(null,arguments)},e.asm=Dt,e.then=function(t){if(Ut)t(e);else{var r=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){r&&r(),t(e)}}return e},K=function t(){Ut||Ht(),Ut||(K=t)},e.run=Ht,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Ht(),t});t.exports=n}(e={exports:{}}),e.exports}(),o=(t,e)=>{class r extends Error{constructor(t){super(t),this.name="FoundationError",this.message=t}static handleStatusCode(t){if(0!=t){if(-1==t)throw new r("This error should not be returned if assertions is enabled.");if(-2==t)throw new r("Can be used to define that not all context prerequisites are satisfied. Note, this error should not be returned if assertions is enabled.");if(-3==t)throw new r("Define that error code from one of third-party module was not handled. Note, this error should not be returned if assertions is enabled.");if(-101==t)throw new r("Buffer capacity is not enough to hold result.");if(-200==t)throw new r("Unsupported algorithm.");if(-201==t)throw new r("Authentication failed during decryption.");if(-202==t)throw new r("Attempt to read data out of buffer bounds.");if(-203==t)throw new r("ASN.1 encoded data is corrupted.");if(-204==t)throw new r("Attempt to read ASN.1 type that is bigger then requested C type.");if(-205==t)throw new r("ASN.1 representation of PKCS#1 public key is corrupted.");if(-206==t)throw new r("ASN.1 representation of PKCS#1 private key is corrupted.");if(-207==t)throw new r("ASN.1 representation of PKCS#8 public key is corrupted.");if(-208==t)throw new r("ASN.1 representation of PKCS#8 private key is corrupted.");if(-209==t)throw new r("Encrypted data is corrupted.");if(-210==t)throw new r("Underlying random operation returns error.");if(-211==t)throw new r("Generation of the private or secret key failed.");if(-212==t)throw new r("One of the entropy sources failed.");if(-213==t)throw new r("Requested data to be generated is too big.");if(-214==t)throw new r("Base64 encoded string contains invalid characters.");if(-215==t)throw new r("PEM data is corrupted.");if(-216==t)throw new r("Exchange key return zero.");if(-217==t)throw new r("Ed25519 public key is corrupted.");if(-218==t)throw new r("Ed25519 private key is corrupted.");if(-219==t)throw new r("CURVE25519 public key is corrupted.");if(-220==t)throw new r("CURVE25519 private key is corrupted.");if(-221==t)throw new r("Elliptic curve public key format is corrupted see RFC 5480.");if(-222==t)throw new r("Elliptic curve public key format is corrupted see RFC 5915.");if(-223==t)throw new r("ASN.1 representation of a public key is corrupted.");if(-224==t)throw new r("ASN.1 representation of a private key is corrupted.");if(-225==t)throw new r("Key algorithm does not accept given type of public key.");if(-226==t)throw new r("Key algorithm does not accept given type of private key.");if(-227==t)throw new r("Post-quantum Falcon-Sign public key is corrupted.");if(-228==t)throw new r("Post-quantum Falcon-Sign private key is corrupted.");if(-229==t)throw new r("Generic Round5 library error.");if(-230==t)throw new r("Post-quantum NIST Round5 public key is corrupted.");if(-231==t)throw new r("Post-quantum NIST Round5 private key is corrupted.");if(-232==t)throw new r("Compound public key is corrupted.");if(-233==t)throw new r("Compound private key is corrupted.");if(-234==t)throw new r("Compound public hybrid key is corrupted.");if(-235==t)throw new r("Compound private hybrid key is corrupted.");if(-236==t)throw new r("ASN.1 AlgorithmIdentifer is corrupted.");if(-237==t)throw new r("ASN.1 AlgorithmIdentifer with ECParameters is corrupted.");if(-238==t)throw new r("ASN.1 AlgorithmIdentifer with CompoundKeyParams is corrupted.");if(-239==t)throw new r("ASN.1 AlgorithmIdentifer with HybridKeyParams is corrupted.");if(-301==t)throw new r("Decryption failed, because message info was not given explicitly, and was not part of an encrypted message.");if(-302==t)throw new r("Message Info is corrupted.");if(-303==t)throw new r("Recipient defined with id is not found within message info during data decryption.");if(-304==t)throw new r("Content encryption key can not be decrypted with a given private key.");if(-305==t)throw new r("Content encryption key can not be decrypted with a given password.");if(-306==t)throw new r("Custom parameter with a given key is not found within message info.");if(-307==t)throw new r("A custom parameter with a given key is found, but the requested value type does not correspond to the actual type.");if(-308==t)throw new r("Signature format is corrupted.");if(-309==t)throw new r("Message Info footer is corrupted.");if(-401==t)throw new r("Brainkey password length is out of range.");if(-402==t)throw new r("Brainkey number length should be 32 byte.");if(-403==t)throw new r("Brainkey point length should be 65 bytes.");if(-404==t)throw new r("Brainkey name is out of range.");if(-405==t)throw new r("Brainkey internal error.");if(-406==t)throw new r("Brainkey point is invalid.");if(-407==t)throw new r("Brainkey number buffer length capacity should be >= 32 byte.");if(-408==t)throw new r("Brainkey point buffer length capacity should be >= 32 byte.");if(-409==t)throw new r("Brainkey seed buffer length capacity should be >= 32 byte.");if(-410==t)throw new r("Brainkey identity secret is invalid.");if(-411==t)throw new r("KEM encapsulated key is invalid or does not correspond to the private key.");if(-501==t)throw new r("Invalid padding.");if(-601==t)throw new r("Protobuf error.");if(-701==t)throw new r("Session id doesnt match.");if(-702==t)throw new r("Epoch not found.");if(-703==t)throw new r("Wrong key type.");if(-704==t)throw new r("Invalid signature.");if(-705==t)throw new r("Ed25519 error.");if(-706==t)throw new r("Duplicate epoch.");if(-707==t)throw new r("Plain text too long.");throw new r("Unexpected status code:"+t)}}}return r};function a(t,e){if(!("number"==typeof e||e instanceof Number))throw new TypeError(`'${t}' is not a number`);if(Number.isNaN(e))throw new TypeError(`'${t}' is NaN`);if(e===1/0)throw new TypeError(`'${t}' is Infinity`);if(e===-1/0)throw new TypeError(`'${t}' is -Infinity`)}function c(t,e){if(a(t,e),0==e)throw new TypeError(`'${t}' is NULL`)}var u,l,_={ensureNumber:a,ensureString:function(t,e){if(!("string"==typeof e||e instanceof String))throw new TypeError(`'${t}' is not a string`)},ensureBoolean:function(t,e){if("boolean"!=typeof e)throw new TypeError(`'${t}' is not a boolean`)},ensureByteArray:function(t,e){if(!(e instanceof Uint8Array))throw new TypeError(`'${t}' is not an Uint8Array`)},ensureClass:function(t,e,r){if(!(e instanceof r))throw new TypeError(`'${t}' is not an instance of the class ${r.name}`);c(t,e.ctxPtr)},ensureNotNull:c,ensureImplementInterface:function(t,e,r,n,i){if(c(t,e.ctxPtr),!i.isImplemented(e.ctxPtr,n))throw new TypeError(`'${t}' does not implement interface '${r}'`)}},f=(t,e)=>{class r{constructor(e){this.name="MessageInfo",this.ctxPtr=void 0===e?t._vscf_message_info_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_message_info_delete(this.ctxPtr),this.ctxPtr=null)}dataEncryptionAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_data_encryption_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}keyRecipientInfoList(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_key_recipient_info_list(this.ctxPtr),e.KeyRecipientInfoList.newAndUseCContext(r)}passwordRecipientInfoList(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_password_recipient_info_list(this.ctxPtr),e.PasswordRecipientInfoList.newAndUseCContext(r)}hasCustomParams(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_custom_params(this.ctxPtr),!!e}customParams(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_custom_params(this.ctxPtr),e.MessageInfoCustomParams.newAndUseCContext(r)}hasCipherKdfAlgInfo(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_cipher_kdf_alg_info(this.ctxPtr),!!e}cipherKdfAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_cipher_kdf_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}hasCipherPaddingAlgInfo(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_cipher_padding_alg_info(this.ctxPtr),!!e}cipherPaddingAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_cipher_padding_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}hasFooterInfo(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_has_footer_info(this.ctxPtr),!!e}footerInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_footer_info(this.ctxPtr),e.FooterInfo.newAndUseCContext(r)}clear(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_clear(this.ctxPtr)}}return r},d=(t,e)=>{class r{constructor(e){this.name="KeyRecipientInfo",this.ctxPtr=void 0===e?t._vscf_key_recipient_info_new():e}static newAndUseCContext(e){return new r(t._vscf_key_recipient_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_recipient_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithData(n,i,s){_.ensureByteArray("recipientId",n),_.ensureImplementInterface("keyEncryptionAlgorithm",i,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),_.ensureByteArray("encryptedKey",s);const o=n.length*n.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(n,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_key_recipient_info_new_with_data(u,i.ctxPtr,p),r.newAndTakeCContext(h)}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}recipientId(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_key_recipient_info_recipient_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}keyEncryptionAlgorithm(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_key_recipient_info_key_encryption_algorithm(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}encryptedKey(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_key_recipient_info_encrypted_key(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},p=(t,e)=>{class r{constructor(e){this.name="KeyRecipientInfoList",this.ctxPtr=void 0===e?t._vscf_key_recipient_info_list_new():e}static newAndUseCContext(e){return new r(t._vscf_key_recipient_info_list_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_recipient_info_list_delete(this.ctxPtr),this.ctxPtr=null)}hasItem(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_has_item(this.ctxPtr),!!e}item(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_key_recipient_info_list_item(this.ctxPtr),e.KeyRecipientInfo.newAndUseCContext(r)}hasNext(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_has_next(this.ctxPtr),!!e}next(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_next(this.ctxPtr),r.newAndUseCContext(e)}hasPrev(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_has_prev(this.ctxPtr),!!e}prev(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_recipient_info_list_prev(this.ctxPtr),r.newAndUseCContext(e)}clear(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_key_recipient_info_list_clear(this.ctxPtr)}}return r},h=(t,e)=>{class r{constructor(e){this.name="PasswordRecipientInfo",this.ctxPtr=void 0===e?t._vscf_password_recipient_info_new():e}static newAndUseCContext(e){return new r(t._vscf_password_recipient_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_password_recipient_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithMembers(n,i){_.ensureImplementInterface("keyEncryptionAlgorithm",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),_.ensureByteArray("encryptedKey",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);let u;t._vsc_data(c,o,s);try{return u=t._vscf_password_recipient_info_new_with_members(n.ctxPtr,c),r.newAndTakeCContext(u)}finally{t._free(o),t._free(c)}}keyEncryptionAlgorithm(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_password_recipient_info_key_encryption_algorithm(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}encryptedKey(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_password_recipient_info_encrypted_key(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},y=(t,e)=>{class r{constructor(e){this.name="PasswordRecipientInfoList",this.ctxPtr=void 0===e?t._vscf_password_recipient_info_list_new():e}static newAndUseCContext(e){return new r(t._vscf_password_recipient_info_list_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_password_recipient_info_list_delete(this.ctxPtr),this.ctxPtr=null)}hasItem(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_has_item(this.ctxPtr),!!e}item(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_password_recipient_info_list_item(this.ctxPtr),e.PasswordRecipientInfo.newAndUseCContext(r)}hasNext(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_has_next(this.ctxPtr),!!e}next(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_next(this.ctxPtr),r.newAndUseCContext(e)}hasPrev(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_has_prev(this.ctxPtr),!!e}prev(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_password_recipient_info_list_prev(this.ctxPtr),r.newAndUseCContext(e)}clear(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_password_recipient_info_list_clear(this.ctxPtr)}}return r},v=(t,e)=>{class r{constructor(e){this.name="Ecies",this.ctxPtr=void 0===e?t._vscf_ecies_new():e}static newAndUseCContext(e){return new r(t._vscf_ecies_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ecies_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_ecies_release_random(this.ctxPtr),t._vscf_ecies_use_random(this.ctxPtr,r.ctxPtr)}set cipher(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("cipher",r,"Foundation.Cipher",e.FoundationInterfaceTag.CIPHER,e.FoundationInterface),t._vscf_ecies_release_cipher(this.ctxPtr),t._vscf_ecies_use_cipher(this.ctxPtr,r.ctxPtr)}set mac(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("mac",r,"Foundation.Mac",e.FoundationInterfaceTag.MAC,e.FoundationInterface),t._vscf_ecies_release_mac(this.ctxPtr),t._vscf_ecies_use_mac(this.ctxPtr,r.ctxPtr)}set kdf(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("kdf",r,"Foundation.Kdf",e.FoundationInterfaceTag.KDF,e.FoundationInterface),t._vscf_ecies_release_kdf(this.ctxPtr),t._vscf_ecies_use_kdf(this.ctxPtr,r.ctxPtr)}set ephemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("ephemeralKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),t._vscf_ecies_release_ephemeral_key(this.ctxPtr),t._vscf_ecies_use_ephemeral_key(this.ctxPtr,r.ctxPtr)}setKeyAlg(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("keyAlg",r,"Foundation.KeyAlg",e.FoundationInterfaceTag.KEY_ALG,e.FoundationInterface),t._vscf_ecies_set_key_alg(this.ctxPtr,r.ctxPtr)}releaseKeyAlg(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ecies_release_key_alg(this.ctxPtr)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ecies_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupDefaultsNoRandom(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ecies_setup_defaults_no_random(this.ctxPtr)}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ecies_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_ecies_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ecies_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_ecies_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}}return r},m=(t,e)=>{class r{constructor(e){this.name="RecipientCipher",this.ctxPtr=void 0===e?t._vscf_recipient_cipher_new():e}static newAndUseCContext(e){return new r(t._vscf_recipient_cipher_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_recipient_cipher_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_recipient_cipher_release_random(this.ctxPtr),t._vscf_recipient_cipher_use_random(this.ctxPtr,r.ctxPtr)}set encryptionCipher(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("encryptionCipher",r,"Foundation.Cipher",e.FoundationInterfaceTag.CIPHER,e.FoundationInterface),t._vscf_recipient_cipher_release_encryption_cipher(this.ctxPtr),t._vscf_recipient_cipher_use_encryption_cipher(this.ctxPtr,r.ctxPtr)}set encryptionPadding(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("encryptionPadding",r,"Foundation.Padding",e.FoundationInterfaceTag.PADDING,e.FoundationInterface),t._vscf_recipient_cipher_release_encryption_padding(this.ctxPtr),t._vscf_recipient_cipher_use_encryption_padding(this.ctxPtr,r.ctxPtr)}set paddingParams(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("paddingParams",r,e.PaddingParams),t._vscf_recipient_cipher_release_padding_params(this.ctxPtr),t._vscf_recipient_cipher_use_padding_params(this.ctxPtr,r.ctxPtr)}set signerHash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("signerHash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_recipient_cipher_release_signer_hash(this.ctxPtr),t._vscf_recipient_cipher_use_signer_hash(this.ctxPtr,r.ctxPtr)}hasKeyRecipient(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("recipientId",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_recipient_cipher_has_key_recipient(this.ctxPtr,s),!!o}finally{t._free(n),t._free(s)}}addKeyRecipient(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("recipientId",r),_.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);try{t._vscf_recipient_cipher_add_key_recipient(this.ctxPtr,a,n.ctxPtr)}finally{t._free(s),t._free(a)}}clearRecipients(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_recipient_cipher_clear_recipients(this.ctxPtr)}addSigner(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("signerId",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);try{const r=t._vscf_recipient_cipher_add_signer(this.ctxPtr,a,n.ctxPtr);e.FoundationError.handleStatusCode(r)}finally{t._free(s),t._free(a)}}clearSigners(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_recipient_cipher_clear_signers(this.ctxPtr)}customParams(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_recipient_cipher_custom_params(this.ctxPtr),e.MessageInfoCustomParams.newAndUseCContext(r)}startEncryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_recipient_cipher_start_encryption(this.ctxPtr);e.FoundationError.handleStatusCode(r)}startSignedEncryption(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataSize",r);const n=t._vscf_recipient_cipher_start_signed_encryption(this.ctxPtr,r);e.FoundationError.handleStatusCode(n)}messageInfoLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_recipient_cipher_message_info_len(this.ctxPtr),e}packMessageInfo(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.messageInfoLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_recipient_cipher_pack_message_info(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}encryptionOutLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_recipient_cipher_encryption_out_len(this.ctxPtr,e),r}processEncryption(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.encryptionOutLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_recipient_cipher_process_encryption(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}finishEncryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.encryptionOutLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_recipient_cipher_finish_encryption(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}startDecryptionWithKey(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("recipientId",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("messageInfo",i);const s=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(r,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=i.length*i.BYTES_PER_ELEMENT,l=t._malloc(u);t.HEAP8.set(i,l);const f=t._vsc_data_ctx_size(),d=t._malloc(f);t._vsc_data(d,l,u);try{const r=t._vscf_recipient_cipher_start_decryption_with_key(this.ctxPtr,c,n.ctxPtr,d);e.FoundationError.handleStatusCode(r)}finally{t._free(o),t._free(c),t._free(l),t._free(d)}}startVerifiedDecryptionWithKey(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("recipientId",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("messageInfo",i),_.ensureByteArray("messageInfoFooter",s);const o=r.length*r.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(r,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=i.length*i.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(i,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,f,l);const h=s.length*s.BYTES_PER_ELEMENT,y=t._malloc(h);t.HEAP8.set(s,y);const v=t._vsc_data_ctx_size(),m=t._malloc(v);t._vsc_data(m,y,h);try{const r=t._vscf_recipient_cipher_start_verified_decryption_with_key(this.ctxPtr,u,n.ctxPtr,p,m);e.FoundationError.handleStatusCode(r)}finally{t._free(a),t._free(u),t._free(f),t._free(p),t._free(y),t._free(m)}}decryptionOutLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_recipient_cipher_decryption_out_len(this.ctxPtr,e),r}processDecryption(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.decryptionOutLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_recipient_cipher_process_decryption(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}finishDecryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.decryptionOutLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_recipient_cipher_finish_decryption(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}isDataSigned(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_recipient_cipher_is_data_signed(this.ctxPtr),!!e}signerInfos(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_recipient_cipher_signer_infos(this.ctxPtr),e.SignerInfoList.newAndUseCContext(r)}verifySignerInfo(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("signerInfo",r,e.SignerInfo),_.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),i=t._vscf_recipient_cipher_verify_signer_info(this.ctxPtr,r.ctxPtr,n.ctxPtr),!!i}messageInfoFooterLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_recipient_cipher_message_info_footer_len(this.ctxPtr),e}packMessageInfoFooter(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.messageInfoFooterLen(),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_recipient_cipher_pack_message_info_footer(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}}return r},g=(t,e)=>{class r{constructor(e){this.name="MessageInfoCustomParams",this.ctxPtr=void 0===e?t._vscf_message_info_custom_params_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_custom_params_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_message_info_custom_params_delete(this.ctxPtr),this.ctxPtr=null)}addInt(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e),_.ensureNumber("value",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);try{t._vscf_message_info_custom_params_add_int(this.ctxPtr,o,r)}finally{t._free(i),t._free(o)}}addString(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e),_.ensureByteArray("value",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(a);t.HEAP8.set(r,c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);t._vsc_data(l,c,a);try{t._vscf_message_info_custom_params_add_string(this.ctxPtr,o,l)}finally{t._free(i),t._free(o),t._free(c),t._free(l)}}addData(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e),_.ensureByteArray("value",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(a);t.HEAP8.set(r,c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);t._vsc_data(l,c,a);try{t._vscf_message_info_custom_params_add_data(this.ctxPtr,o,l)}finally{t._free(i),t._free(o),t._free(c),t._free(l)}}clear(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_custom_params_clear(this.ctxPtr)}findInt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_message_info_custom_params_find_int(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),u}finally{t._free(i),t._free(o),t._free(c)}}findString(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);t._vscf_error_reset(c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);try{t._vscf_message_info_custom_params_find_string(l,this.ctxPtr,o,c);const r=t._vscf_error_status(c);e.FoundationError.handleStatusCode(r);const n=t._vsc_data_len(l),s=t._vsc_data_bytes(l);return t.HEAPU8.slice(s,s+n)}finally{t._free(i),t._free(o),t._free(c),t._free(l)}}findData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);t._vscf_error_reset(c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);try{t._vscf_message_info_custom_params_find_data(l,this.ctxPtr,o,c);const r=t._vscf_error_status(c);e.FoundationError.handleStatusCode(r);const n=t._vsc_data_len(l),s=t._vsc_data_bytes(l);return t.HEAPU8.slice(s,s+n)}finally{t._free(i),t._free(o),t._free(c),t._free(l)}}hasParams(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_custom_params_has_params(this.ctxPtr),!!e}}return r},P=(t,e)=>{class r{constructor(e){this.name="KeyProvider",this.ctxPtr=void 0===e?t._vscf_key_provider_new():e}static newAndUseCContext(e){return new r(t._vscf_key_provider_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_provider_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_key_provider_release_random(this.ctxPtr),t._vscf_key_provider_use_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_key_provider_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setRsaParams(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("bitlen",e),t._vscf_key_provider_set_rsa_params(this.ctxPtr,e)}generatePrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("algId",r);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_key_provider_generate_private_key(this.ctxPtr,r,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}generatePostQuantumPrivateKey(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_key_provider_generate_post_quantum_private_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(i)}finally{t._free(n)}}generateCompoundPrivateKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("cipherAlgId",r),_.ensureNumber("signerAlgId",n);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_key_provider_generate_compound_private_key(this.ctxPtr,r,n,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}generateHybridPrivateKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("firstKeyAlgId",r),_.ensureNumber("secondKeyAlgId",n);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_key_provider_generate_hybrid_private_key(this.ctxPtr,r,n,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}generateCompoundHybridPrivateKey(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("cipherFirstKeyAlgId",r),_.ensureNumber("cipherSecondKeyAlgId",n),_.ensureNumber("signerFirstKeyAlgId",i),_.ensureNumber("signerSecondKeyAlgId",s);const o=t._vscf_error_ctx_size(),a=t._malloc(o);let c;t._vscf_error_reset(a);try{c=t._vscf_key_provider_generate_compound_hybrid_private_key(this.ctxPtr,r,n,i,s,a);const o=t._vscf_error_status(a);return e.FoundationError.handleStatusCode(o),e.FoundationInterface.newAndTakeCContext(c)}finally{t._free(a)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_key_provider_import_private_key(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_key_provider_import_public_key(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}exportedPublicKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_key_provider_exported_public_key_len(this.ctxPtr,r.ctxPtr),n}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_provider_export_public_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}exportedPrivateKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_key_provider_exported_private_key_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_provider_export_private_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}}return r},x=(t,e)=>{class r{constructor(e){this.name="Signer",this.ctxPtr=void 0===e?t._vscf_signer_new():e}static newAndUseCContext(e){return new r(t._vscf_signer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_signer_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_signer_release_hash(this.ctxPtr),t._vscf_signer_use_hash(this.ctxPtr,r.ctxPtr)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_signer_release_random(this.ctxPtr),t._vscf_signer_use_random(this.ctxPtr,r.ctxPtr)}reset(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_signer_reset(this.ctxPtr)}appendData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_signer_append_data(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_signer_signature_len(this.ctxPtr,r.ctxPtr),n}sign(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.signatureLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_signer_sign(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}}return r},b=(t,e)=>{class r{constructor(e){this.name="Verifier",this.ctxPtr=void 0===e?t._vscf_verifier_new():e}static newAndUseCContext(e){return new r(t._vscf_verifier_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_verifier_delete(this.ctxPtr),this.ctxPtr=null)}reset(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("signature",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);try{const r=t._vscf_verifier_reset(this.ctxPtr,o);e.FoundationError.handleStatusCode(r)}finally{t._free(i),t._free(o)}}appendData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_verifier_append_data(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}verify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_verifier_verify(this.ctxPtr,r.ctxPtr),!!n}}return r},w=(t,e)=>{class r{static get POINT_LEN(){return 65}get POINT_LEN(){return r.POINT_LEN}static get MPI_LEN(){return 32}get MPI_LEN(){return r.MPI_LEN}static get SEED_LEN(){return 32}get SEED_LEN(){return r.SEED_LEN}static get MAX_PASSWORD_LEN(){return 128}get MAX_PASSWORD_LEN(){return r.MAX_PASSWORD_LEN}static get MAX_KEY_NAME_LEN(){return 128}get MAX_KEY_NAME_LEN(){return r.MAX_KEY_NAME_LEN}constructor(e){this.name="BrainkeyClient",this.ctxPtr=void 0===e?t._vscf_brainkey_client_new():e}static newAndUseCContext(e){return new r(t._vscf_brainkey_client_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_brainkey_client_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_client_release_random(this.ctxPtr),t._vscf_brainkey_client_use_random(this.ctxPtr,r.ctxPtr)}set operationRandom(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("operationRandom",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_client_release_operation_random(this.ctxPtr),t._vscf_brainkey_client_use_operation_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_brainkey_client_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}blind(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("password",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vsc_buffer_new_with_capacity(e.BrainkeyClient.MPI_LEN),c=t._vsc_buffer_new_with_capacity(e.BrainkeyClient.POINT_LEN);try{const r=t._vscf_brainkey_client_blind(this.ctxPtr,o,a,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(a),s=t._vsc_buffer_len(a),u=t.HEAPU8.slice(n,n+s),l=t._vsc_buffer_bytes(c),_=t._vsc_buffer_len(c);return{deblindFactor:u,blindedPoint:t.HEAPU8.slice(l,l+_)}}finally{t._free(i),t._free(o),t._vsc_buffer_delete(a),t._vsc_buffer_delete(c)}}deblind(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("password",r),_.ensureByteArray("hardenedPoint",n),_.ensureByteArray("deblindFactor",i),_.ensureByteArray("keyName",s);const o=r.length*r.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(r,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=n.length*n.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(n,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,f,l);const h=i.length*i.BYTES_PER_ELEMENT,y=t._malloc(h);t.HEAP8.set(i,y);const v=t._vsc_data_ctx_size(),m=t._malloc(v);t._vsc_data(m,y,h);const g=s.length*s.BYTES_PER_ELEMENT,P=t._malloc(g);t.HEAP8.set(s,P);const x=t._vsc_data_ctx_size(),b=t._malloc(x);t._vsc_data(b,P,g);const w=t._vsc_buffer_new_with_capacity(e.BrainkeyClient.POINT_LEN);try{const r=t._vscf_brainkey_client_deblind(this.ctxPtr,u,p,m,b,w);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(w),i=t._vsc_buffer_len(w);return t.HEAPU8.slice(n,n+i)}finally{t._free(a),t._free(u),t._free(f),t._free(p),t._free(y),t._free(m),t._free(P),t._free(b),t._vsc_buffer_delete(w)}}}return r},E=(t,e)=>{class r{static get POINT_LEN(){return 65}get POINT_LEN(){return r.POINT_LEN}static get MPI_LEN(){return 32}get MPI_LEN(){return r.MPI_LEN}constructor(e){this.name="BrainkeyServer",this.ctxPtr=void 0===e?t._vscf_brainkey_server_new():e}static newAndUseCContext(e){return new r(t._vscf_brainkey_server_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_brainkey_server_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_server_release_random(this.ctxPtr),t._vscf_brainkey_server_use_random(this.ctxPtr,r.ctxPtr)}set operationRandom(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("operationRandom",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_brainkey_server_release_operation_random(this.ctxPtr),t._vscf_brainkey_server_use_operation_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_brainkey_server_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateIdentitySecret(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vsc_buffer_new_with_capacity(e.BrainkeyServer.MPI_LEN);try{const n=t._vscf_brainkey_server_generate_identity_secret(this.ctxPtr,r);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(r),s=t._vsc_buffer_len(r);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(r)}}harden(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("identitySecret",r),_.ensureByteArray("blindedPoint",n);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=n.length*n.BYTES_PER_ELEMENT,u=t._malloc(c);t.HEAP8.set(n,u);const l=t._vsc_data_ctx_size(),f=t._malloc(l);t._vsc_data(f,u,c);const d=t._vsc_buffer_new_with_capacity(e.BrainkeyServer.POINT_LEN);try{const r=t._vscf_brainkey_server_harden(this.ctxPtr,a,f,d);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(d),i=t._vsc_buffer_len(d);return t.HEAPU8.slice(n,n+i)}finally{t._free(s),t._free(a),t._free(u),t._free(f),t._vsc_buffer_delete(d)}}}return r},k=(t,e)=>{class r{static get MAX_MESSAGE_LEN(){return 30188}get MAX_MESSAGE_LEN(){return r.MAX_MESSAGE_LEN}static get MESSAGE_VERSION(){return 1}get MESSAGE_VERSION(){return r.MESSAGE_VERSION}constructor(e){this.name="GroupSessionMessage",this.ctxPtr=void 0===e?t._vscf_group_session_message_new():e}static newAndUseCContext(e){return new r(t._vscf_group_session_message_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_group_session_message_delete(this.ctxPtr),this.ctxPtr=null)}getType(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_message_get_type(this.ctxPtr),e}getSessionId(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_group_session_message_get_session_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}getEpoch(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_message_get_epoch(this.ctxPtr),e}serializeLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_message_serialize_len(this.ctxPtr),e}serialize(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.serializeLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_group_session_message_serialize(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}static deserialize(n){_.ensureByteArray("input",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_group_session_message_deserialize(a,u);const n=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(n),r.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}}return r},I=(t,e)=>{class r{constructor(e){this.name="GroupSessionTicket",this.ctxPtr=void 0===e?t._vscf_group_session_ticket_new():e}static newAndUseCContext(e){return new r(t._vscf_group_session_ticket_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_group_session_ticket_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_group_session_ticket_release_rng(this.ctxPtr),t._vscf_group_session_ticket_use_rng(this.ctxPtr,r.ctxPtr)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_group_session_ticket_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupTicketAsNew(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("sessionId",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);try{const r=t._vscf_group_session_ticket_setup_ticket_as_new(this.ctxPtr,o);e.FoundationError.handleStatusCode(r)}finally{t._free(i),t._free(o)}}getTicketMessage(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_group_session_ticket_get_ticket_message(this.ctxPtr),e.GroupSessionMessage.newAndUseCContext(r)}}return r},N=(t,e)=>{class r{static get SENDER_ID_LEN(){return 32}get SENDER_ID_LEN(){return r.SENDER_ID_LEN}static get MAX_PLAIN_TEXT_LEN(){return 3e4}get MAX_PLAIN_TEXT_LEN(){return r.MAX_PLAIN_TEXT_LEN}static get MAX_EPOCHS_COUNT(){return 50}get MAX_EPOCHS_COUNT(){return r.MAX_EPOCHS_COUNT}static get SALT_SIZE(){return 32}get SALT_SIZE(){return r.SALT_SIZE}constructor(e){this.name="GroupSession",this.ctxPtr=void 0===e?t._vscf_group_session_new():e}static newAndUseCContext(e){return new r(t._vscf_group_session_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_group_session_delete(this.ctxPtr),this.ctxPtr=null)}set rng(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("rng",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_group_session_release_rng(this.ctxPtr),t._vscf_group_session_use_rng(this.ctxPtr,r.ctxPtr)}getCurrentEpoch(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_group_session_get_current_epoch(this.ctxPtr),e}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_group_session_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}getSessionId(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_group_session_get_session_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}addEpoch(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("message",r,e.GroupSessionMessage);const n=t._vscf_group_session_add_epoch(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("plainText",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_group_session_encrypt(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.GroupSessionMessage.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}decryptLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("message",r,e.GroupSessionMessage),n=t._vscf_group_session_decrypt_len(this.ctxPtr,r.ctxPtr),n}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("message",r,e.GroupSessionMessage),_.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const i=this.decryptLen(r),s=t._vsc_buffer_new_with_capacity(i);try{const i=t._vscf_group_session_decrypt(this.ctxPtr,r.ctxPtr,n.ctxPtr,s);e.FoundationError.handleStatusCode(i);const o=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s);return t.HEAPU8.slice(o,o+a)}finally{t._vsc_buffer_delete(s)}}createGroupTicket(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_group_session_create_group_ticket(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.GroupSessionTicket.newAndTakeCContext(i)}finally{t._free(n)}}}return r},A=(t,e)=>{class r{constructor(e){this.name="MessageInfoEditor",this.ctxPtr=void 0===e?t._vscf_message_info_editor_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_editor_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_message_info_editor_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_message_info_editor_release_random(this.ctxPtr),t._vscf_message_info_editor_use_random(this.ctxPtr,r.ctxPtr)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_message_info_editor_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}unpack(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("messageInfoData",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);try{const r=t._vscf_message_info_editor_unpack(this.ctxPtr,o);e.FoundationError.handleStatusCode(r)}finally{t._free(i),t._free(o)}}unlock(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("ownerRecipientId",r),_.ensureImplementInterface("ownerPrivateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);try{const r=t._vscf_message_info_editor_unlock(this.ctxPtr,a,n.ctxPtr);e.FoundationError.handleStatusCode(r)}finally{t._free(s),t._free(a)}}addKeyRecipient(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("recipientId",r),_.ensureImplementInterface("publicKey",n,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);try{const r=t._vscf_message_info_editor_add_key_recipient(this.ctxPtr,a,n.ctxPtr);e.FoundationError.handleStatusCode(r)}finally{t._free(s),t._free(a)}}removeKeyRecipient(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("recipientId",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_message_info_editor_remove_key_recipient(this.ctxPtr,s),!!o}finally{t._free(n),t._free(s)}}removeAll(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_editor_remove_all(this.ctxPtr)}packedLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_editor_packed_len(this.ctxPtr),e}pack(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.packedLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_message_info_editor_pack(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}}return r},C=(t,e)=>{class r{constructor(e){this.name="SignerInfo",this.ctxPtr=void 0===e?t._vscf_signer_info_new():e}static newAndUseCContext(e){return new r(t._vscf_signer_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_signer_info_delete(this.ctxPtr),this.ctxPtr=null)}signerId(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_signer_info_signer_id(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}signerAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_signer_info_signer_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signature(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_signer_info_signature(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},T=(t,e)=>{class r{constructor(e){this.name="SignerInfoList",this.ctxPtr=void 0===e?t._vscf_signer_info_list_new():e}static newAndUseCContext(e){return new r(t._vscf_signer_info_list_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_signer_info_list_delete(this.ctxPtr),this.ctxPtr=null)}hasItem(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_has_item(this.ctxPtr),!!e}item(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_signer_info_list_item(this.ctxPtr),e.SignerInfo.newAndUseCContext(r)}hasNext(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_has_next(this.ctxPtr),!!e}next(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_next(this.ctxPtr),r.newAndTakeCContext(e)}hasPrev(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_has_prev(this.ctxPtr),!!e}prev(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_signer_info_list_prev(this.ctxPtr),r.newAndTakeCContext(e)}clear(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_signer_info_list_clear(this.ctxPtr)}}return r},S=(t,e)=>{class r{constructor(e){this.name="MessageInfoFooter",this.ctxPtr=void 0===e?t._vscf_message_info_footer_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_footer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_message_info_footer_delete(this.ctxPtr),this.ctxPtr=null)}hasSignerInfos(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_message_info_footer_has_signer_infos(this.ctxPtr),!!e}signerInfos(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_footer_signer_infos(this.ctxPtr),e.SignerInfoList.newAndUseCContext(r)}signerHashAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_message_info_footer_signer_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerDigest(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_message_info_footer_signer_digest(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},F=(t,e)=>{class r{constructor(e){this.name="SignedDataInfo",this.ctxPtr=void 0===e?t._vscf_signed_data_info_new():e}static newAndUseCContext(e){return new r(t._vscf_signed_data_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_signed_data_info_delete(this.ctxPtr),this.ctxPtr=null)}hashAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_signed_data_info_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},K=(t,e)=>{class r{constructor(e){this.name="FooterInfo",this.ctxPtr=void 0===e?t._vscf_footer_info_new():e}static newAndUseCContext(e){return new r(t._vscf_footer_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_footer_info_delete(this.ctxPtr),this.ctxPtr=null)}hasSignedDataInfo(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_footer_info_has_signed_data_info(this.ctxPtr),!!e}signedDataInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_footer_info_signed_data_info(this.ctxPtr),e.SignedDataInfo.newAndUseCContext(r)}setDataSize(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataSize",e),t._vscf_footer_info_set_data_size(this.ctxPtr,e)}dataSize(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_footer_info_data_size(this.ctxPtr),e}}return r},R=(t,e)=>{class r{constructor(e){this.name="KeyInfo",this.ctxPtr=void 0===e?t._vscf_key_info_new():e}static newAndUseCContext(e){return new r(t._vscf_key_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithAlgInfo(n){let i;return _.ensureImplementInterface("algInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),i=t._vscf_key_info_new_with_alg_info(n.ctxPtr),r.newAndTakeCContext(i)}isCompound(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound(this.ctxPtr),!!e}isHybrid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid(this.ctxPtr),!!e}isCompoundHybrid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound_hybrid(this.ctxPtr),!!e}isCompoundHybridCipher(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound_hybrid_cipher(this.ctxPtr),!!e}isCompoundHybridSigner(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_compound_hybrid_signer(this.ctxPtr),!!e}isHybridPostQuantum(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid_post_quantum(this.ctxPtr),!!e}isHybridPostQuantumCipher(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid_post_quantum_cipher(this.ctxPtr),!!e}isHybridPostQuantumSigner(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_is_hybrid_post_quantum_signer(this.ctxPtr),!!e}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_alg_id(this.ctxPtr),e}compoundCipherAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_cipher_alg_id(this.ctxPtr),e}compoundSignerAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_signer_alg_id(this.ctxPtr),e}hybridFirstKeyAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_hybrid_first_key_alg_id(this.ctxPtr),e}hybridSecondKeyAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_hybrid_second_key_alg_id(this.ctxPtr),e}compoundHybridCipherFirstKeyAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_cipher_first_key_alg_id(this.ctxPtr),e}compoundHybridCipherSecondKeyAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_cipher_second_key_alg_id(this.ctxPtr),e}compoundHybridSignerFirstKeyAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_signer_first_key_alg_id(this.ctxPtr),e}compoundHybridSignerSecondKeyAlgId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_key_info_compound_hybrid_signer_second_key_alg_id(this.ctxPtr),e}}return r},L=(t,e)=>{class r{static get DEFAULT_FRAME_MIN(){return 32}get DEFAULT_FRAME_MIN(){return r.DEFAULT_FRAME_MIN}static get DEFAULT_FRAME(){return 160}get DEFAULT_FRAME(){return r.DEFAULT_FRAME}static get DEFAULT_FRAME_MAX(){return 256}get DEFAULT_FRAME_MAX(){return r.DEFAULT_FRAME_MAX}constructor(e){this.name="PaddingParams",this.ctxPtr=void 0===e?t._vscf_padding_params_new():e}static newAndUseCContext(e){return new r(t._vscf_padding_params_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_padding_params_delete(this.ctxPtr),this.ctxPtr=null)}static newWithConstraints(e,n){let i;return _.ensureNumber("frame",e),_.ensureNumber("frameMax",n),i=t._vscf_padding_params_new_with_constraints(e,n),r.newAndTakeCContext(i)}frame(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_padding_params_frame(this.ctxPtr),e}frameMax(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_padding_params_frame_max(this.ctxPtr),e}}return r},B=(t,e)=>{class r{static get DIGEST_LEN(){return 28}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 64}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha224",this.ctxPtr=void 0===e?t._vscf_sha224_new():e}static newAndUseCContext(e){return new r(t._vscf_sha224_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_sha224_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha224_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha224_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha224_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha224_hash(s,o);const e=t._vsc_buffer_bytes(o),r=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(o)}}start(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha224_start(this.ctxPtr)}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_sha224_update(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha224_finish(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}}return r},O=(t,e)=>{class r{static get DIGEST_LEN(){return 32}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 64}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha256",this.ctxPtr=void 0===e?t._vscf_sha256_new():e}static newAndUseCContext(e){return new r(t._vscf_sha256_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_sha256_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha256_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha256_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha256_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha256_hash(s,o);const e=t._vsc_buffer_bytes(o),r=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(o)}}start(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha256_start(this.ctxPtr)}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_sha256_update(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha256_finish(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}}return r},D=(t,e)=>{class r{static get DIGEST_LEN(){return 48}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 128}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha384",this.ctxPtr=void 0===e?t._vscf_sha384_new():e}static newAndUseCContext(e){return new r(t._vscf_sha384_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_sha384_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha384_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha384_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha384_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha384_hash(s,o);const e=t._vsc_buffer_bytes(o),r=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(o)}}start(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha384_start(this.ctxPtr)}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_sha384_update(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha384_finish(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}}return r},M=(t,e)=>{class r{static get DIGEST_LEN(){return 64}get DIGEST_LEN(){return r.DIGEST_LEN}static get BLOCK_LEN(){return 128}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Sha512",this.ctxPtr=void 0===e?t._vscf_sha512_new():e}static newAndUseCContext(e){return new r(t._vscf_sha512_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_sha512_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_sha512_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_sha512_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_sha512_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}hash(e){_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha512_hash(s,o);const e=t._vsc_buffer_bytes(o),r=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(o)}}start(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sha512_start(this.ctxPtr)}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_sha512_update(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_buffer_new_with_capacity(this.DIGEST_LEN);try{t._vscf_sha512_finish(this.ctxPtr,e);const r=t._vsc_buffer_bytes(e),n=t._vsc_buffer_len(e);return t.HEAPU8.slice(r,r+n)}finally{t._vsc_buffer_delete(e)}}}return r},U=(t,e)=>{class r{static get NONCE_LEN(){return 12}get NONCE_LEN(){return r.NONCE_LEN}static get KEY_LEN(){return 32}get KEY_LEN(){return r.KEY_LEN}static get KEY_BITLEN(){return 256}get KEY_BITLEN(){return r.KEY_BITLEN}static get BLOCK_LEN(){return 16}get BLOCK_LEN(){return r.BLOCK_LEN}static get AUTH_TAG_LEN(){return 16}get AUTH_TAG_LEN(){return r.AUTH_TAG_LEN}constructor(e){this.name="Aes256Gcm",this.ctxPtr=void 0===e?t._vscf_aes256_gcm_new():e}static newAndUseCContext(e){return new r(t._vscf_aes256_gcm_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_aes256_gcm_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_gcm_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_aes256_gcm_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_aes256_gcm_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.encryptedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_aes256_gcm_encrypt(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}encryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_encrypted_len(this.ctxPtr,e),r}preciseEncryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_precise_encrypted_len(this.ctxPtr,e),r}decrypt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.decryptedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_aes256_gcm_decrypt(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}decryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_decrypted_len(this.ctxPtr,e),r}setNonce(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("nonce",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_aes256_gcm_set_nonce(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}setKey(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_aes256_gcm_set_key(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}state(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_gcm_state(this.ctxPtr),e}startEncryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_gcm_start_encryption(this.ctxPtr)}startDecryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_gcm_start_decryption(this.ctxPtr)}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=this.outLen(e.length),a=t._vsc_buffer_new_with_capacity(o);try{t._vscf_aes256_gcm_update(this.ctxPtr,s,a);const e=t._vsc_buffer_bytes(a),r=t._vsc_buffer_len(a);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(a)}}outLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_out_len(this.ctxPtr,e),r}encryptedOutLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_encrypted_out_len(this.ctxPtr,e),r}decryptedOutLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_decrypted_out_len(this.ctxPtr,e),r}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.outLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_aes256_gcm_finish(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}authEncrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r),_.ensureByteArray("authData",n);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=n.length*n.BYTES_PER_ELEMENT,u=t._malloc(c);t.HEAP8.set(n,u);const l=t._vsc_data_ctx_size(),f=t._malloc(l);t._vsc_data(f,u,c);const d=this.authEncryptedLen(r.length),p=t._vsc_buffer_new_with_capacity(d),h=t._vsc_buffer_new_with_capacity(this.AUTH_TAG_LEN);try{const r=t._vscf_aes256_gcm_auth_encrypt(this.ctxPtr,a,f,p,h);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(p),i=t._vsc_buffer_len(p),o=t.HEAPU8.slice(n,n+i),c=t._vsc_buffer_bytes(h),l=t._vsc_buffer_len(h);return{out:o,tag:t.HEAPU8.slice(c,c+l)}}finally{t._free(s),t._free(a),t._free(u),t._free(f),t._vsc_buffer_delete(p),t._vsc_buffer_delete(h)}}authEncryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_auth_encrypted_len(this.ctxPtr,e),r}authDecrypt(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r),_.ensureByteArray("authData",n),_.ensureByteArray("tag",i);const s=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(r,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=n.length*n.BYTES_PER_ELEMENT,l=t._malloc(u);t.HEAP8.set(n,l);const f=t._vsc_data_ctx_size(),d=t._malloc(f);t._vsc_data(d,l,u);const p=i.length*i.BYTES_PER_ELEMENT,h=t._malloc(p);t.HEAP8.set(i,h);const y=t._vsc_data_ctx_size(),v=t._malloc(y);t._vsc_data(v,h,p);const m=this.authDecryptedLen(r.length),g=t._vsc_buffer_new_with_capacity(m);try{const r=t._vscf_aes256_gcm_auth_decrypt(this.ctxPtr,c,d,v,g);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(g),i=t._vsc_buffer_len(g);return t.HEAPU8.slice(n,n+i)}finally{t._free(o),t._free(c),t._free(l),t._free(d),t._free(h),t._free(v),t._vsc_buffer_delete(g)}}authDecryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_gcm_auth_decrypted_len(this.ctxPtr,e),r}setAuthData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("authData",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_aes256_gcm_set_auth_data(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}finishAuthEncryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.outLen(0),n=t._vsc_buffer_new_with_capacity(r),i=t._vsc_buffer_new_with_capacity(this.AUTH_TAG_LEN);try{const r=t._vscf_aes256_gcm_finish_auth_encryption(this.ctxPtr,n,i);e.FoundationError.handleStatusCode(r);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n),a=t.HEAPU8.slice(s,s+o),c=t._vsc_buffer_bytes(i),u=t._vsc_buffer_len(i);return{out:a,tag:t.HEAPU8.slice(c,c+u)}}finally{t._vsc_buffer_delete(n),t._vsc_buffer_delete(i)}}finishAuthDecryption(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("tag",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.outLen(0),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_aes256_gcm_finish_auth_decryption(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}}return r},z=(t,e)=>{class r{static get NONCE_LEN(){return 16}get NONCE_LEN(){return r.NONCE_LEN}static get KEY_LEN(){return 32}get KEY_LEN(){return r.KEY_LEN}static get KEY_BITLEN(){return 256}get KEY_BITLEN(){return r.KEY_BITLEN}static get BLOCK_LEN(){return 16}get BLOCK_LEN(){return r.BLOCK_LEN}constructor(e){this.name="Aes256Cbc",this.ctxPtr=void 0===e?t._vscf_aes256_cbc_new():e}static newAndUseCContext(e){return new r(t._vscf_aes256_cbc_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_aes256_cbc_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_cbc_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_aes256_cbc_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_aes256_cbc_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.encryptedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_aes256_cbc_encrypt(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}encryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_encrypted_len(this.ctxPtr,e),r}preciseEncryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_precise_encrypted_len(this.ctxPtr,e),r}decrypt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.decryptedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_aes256_cbc_decrypt(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}decryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_decrypted_len(this.ctxPtr,e),r}setNonce(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("nonce",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_aes256_cbc_set_nonce(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}setKey(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_aes256_cbc_set_key(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}state(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_aes256_cbc_state(this.ctxPtr),e}startEncryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_cbc_start_encryption(this.ctxPtr)}startDecryption(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_aes256_cbc_start_decryption(this.ctxPtr)}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=this.outLen(e.length),a=t._vsc_buffer_new_with_capacity(o);try{t._vscf_aes256_cbc_update(this.ctxPtr,s,a);const e=t._vsc_buffer_bytes(a),r=t._vsc_buffer_len(a);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(a)}}outLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_out_len(this.ctxPtr,e),r}encryptedOutLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_encrypted_out_len(this.ctxPtr,e),r}decryptedOutLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_aes256_cbc_decrypted_out_len(this.ctxPtr,e),r}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.outLen(0),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_aes256_cbc_finish(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}}return r},H=(t,e)=>{class r{constructor(e){this.name="Asn1rd",this.ctxPtr=void 0===e?t._vscf_asn1rd_new():e}static newAndUseCContext(e){return new r(t._vscf_asn1rd_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_asn1rd_delete(this.ctxPtr),this.ctxPtr=null)}reset(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_asn1rd_reset(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}leftLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_left_len(this.ctxPtr),e}hasError(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_has_error(this.ctxPtr),!!e}status(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_asn1rd_status(this.ctxPtr);e.FoundationError.handleStatusCode(r)}getTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_get_tag(this.ctxPtr),e}getLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_get_len(this.ctxPtr),e}getDataLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_get_data_len(this.ctxPtr),e}readTag(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("tag",e),r=t._vscf_asn1rd_read_tag(this.ctxPtr,e),r}readContextTag(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("tag",e),r=t._vscf_asn1rd_read_context_tag(this.ctxPtr,e),r}readInt(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int(this.ctxPtr),e}readInt8(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int8(this.ctxPtr),e}readInt16(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int16(this.ctxPtr),e}readInt32(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int32(this.ctxPtr),e}readInt64(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_int64(this.ctxPtr),e}readUint(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint(this.ctxPtr),e}readUint8(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint8(this.ctxPtr),e}readUint16(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint16(this.ctxPtr),e}readUint32(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint32(this.ctxPtr),e}readUint64(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_uint64(this.ctxPtr),e}readBool(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_bool(this.ctxPtr),!!e}readNull(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_asn1rd_read_null(this.ctxPtr)}readNullOptional(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_asn1rd_read_null_optional(this.ctxPtr)}readOctetStr(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_octet_str(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readBitstringAsOctetStr(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_bitstring_as_octet_str(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readUtf8Str(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_utf8_str(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readOid(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_asn1rd_read_oid(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}readData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",e);const r=t._vsc_data_ctx_size(),n=t._malloc(r);try{t._vscf_asn1rd_read_data(n,this.ctxPtr,e);const r=t._vsc_data_len(n),i=t._vsc_data_bytes(n);return t.HEAPU8.slice(i,i+r)}finally{t._free(n)}}readSequence(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_sequence(this.ctxPtr),e}readSet(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1rd_read_set(this.ctxPtr),e}}return r},j=(t,e)=>{class r{constructor(e){this.name="Asn1wr",this.ctxPtr=void 0===e?t._vscf_asn1wr_new():e}static newAndUseCContext(e){return new r(t._vscf_asn1wr_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_asn1wr_delete(this.ctxPtr),this.ctxPtr=null)}reset(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("out",e),_.ensureNumber("outLen",r),t._vscf_asn1wr_reset(this.ctxPtr,e,r)}finish(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureBoolean("doNotAdjust",e),r=t._vscf_asn1wr_finish(this.ctxPtr,e),r}bytes(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_bytes(this.ctxPtr),e}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_len(this.ctxPtr),e}writtenLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_written_len(this.ctxPtr),e}unwrittenLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_unwritten_len(this.ctxPtr),e}hasError(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_has_error(this.ctxPtr),!!e}status(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_asn1wr_status(this.ctxPtr);e.FoundationError.handleStatusCode(r)}reserve(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",e),r=t._vscf_asn1wr_reserve(this.ctxPtr,e),r}writeTag(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("tag",e),r=t._vscf_asn1wr_write_tag(this.ctxPtr,e),r}writeContextTag(e,r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("tag",e),_.ensureNumber("len",r),n=t._vscf_asn1wr_write_context_tag(this.ctxPtr,e,r),n}writeLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",e),r=t._vscf_asn1wr_write_len(this.ctxPtr,e),r}writeInt(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_int(this.ctxPtr,e),r}writeInt8(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_int8(this.ctxPtr,e),r}writeInt16(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_int16(this.ctxPtr,e),r}writeInt32(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_int32(this.ctxPtr,e),r}writeInt64(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_int64(this.ctxPtr,e),r}writeUint(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint(this.ctxPtr,e),r}writeUint8(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint8(this.ctxPtr,e),r}writeUint16(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint16(this.ctxPtr,e),r}writeUint32(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint32(this.ctxPtr,e),r}writeUint64(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("value",e),r=t._vscf_asn1wr_write_uint64(this.ctxPtr,e),r}writeBool(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureBoolean("value",e),r=t._vscf_asn1wr_write_bool(this.ctxPtr,e),r}writeNull(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_asn1wr_write_null(this.ctxPtr),e}writeOctetStr(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_asn1wr_write_octet_str(this.ctxPtr,s),o}finally{t._free(n),t._free(s)}}writeOctetStrAsBitstring(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_asn1wr_write_octet_str_as_bitstring(this.ctxPtr,s),o}finally{t._free(n),t._free(s)}}writeData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_asn1wr_write_data(this.ctxPtr,s),o}finally{t._free(n),t._free(s)}}writeUtf8Str(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_asn1wr_write_utf8_str(this.ctxPtr,s),o}finally{t._free(n),t._free(s)}}writeOid(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("value",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_asn1wr_write_oid(this.ctxPtr,s),o}finally{t._free(n),t._free(s)}}writeSequence(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",e),r=t._vscf_asn1wr_write_sequence(this.ctxPtr,e),r}writeSet(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",e),r=t._vscf_asn1wr_write_set(this.ctxPtr,e),r}}return r},Y=(t,e)=>{class r{constructor(e){this.name="RsaPublicKey",this.ctxPtr=void 0===e?t._vscf_rsa_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_rsa_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_rsa_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_rsa_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_is_valid(this.ctxPtr),!!e}keyExponent(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_public_key_key_exponent(this.ctxPtr),e}}return r},V=(t,e)=>{class r{constructor(e){this.name="RsaPrivateKey",this.ctxPtr=void 0===e?t._vscf_rsa_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_rsa_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_rsa_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_rsa_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_rsa_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_rsa_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}}return r},q=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Rsa",this.ctxPtr=void 0===e?t._vscf_rsa_new():e}static newAndUseCContext(e){return new r(t._vscf_rsa_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_rsa_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_rsa_release_random(this.ctxPtr),t._vscf_rsa_use_random(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_rsa_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_rsa_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_rsa_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_rsa_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_rsa_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_rsa_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_rsa_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_rsa_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_rsa_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_rsa_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_rsa_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canEncrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_rsa_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!i}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_rsa_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_rsa_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canDecrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_rsa_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!i}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_rsa_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_rsa_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canSign(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_rsa_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_rsa_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=this.signatureLen(r),l=t._vsc_buffer_new_with_capacity(u);try{const i=t._vscf_rsa_sign_hash(this.ctxPtr,r.ctxPtr,n,c,l);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(l),a=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+a)}finally{t._free(o),t._free(c),t._vsc_buffer_delete(l)}}canVerify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_rsa_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i),_.ensureByteArray("signature",s);const o=i.length*i.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(i,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_rsa_verify_hash(this.ctxPtr,r.ctxPtr,n,u,p),!!h}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_rsa_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("bitlen",r);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_rsa_generate_key(this.ctxPtr,r,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}}return r},G=(t,e)=>{class r{constructor(e){this.name="EccPublicKey",this.ctxPtr=void 0===e?t._vscf_ecc_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ecc_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_ecc_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_public_key_is_valid(this.ctxPtr),!!e}}return r},W=(t,e)=>{class r{constructor(e){this.name="EccPrivateKey",this.ctxPtr=void 0===e?t._vscf_ecc_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ecc_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_ecc_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_ecc_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}}return r},X=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Ecc",this.ctxPtr=void 0===e?t._vscf_ecc_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ecc_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_ecc_release_random(this.ctxPtr),t._vscf_ecc_use_random(this.ctxPtr,r.ctxPtr)}set ecies(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("ecies",r,e.Ecies),t._vscf_ecc_release_ecies(this.ctxPtr),t._vscf_ecc_use_ecies(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ecc_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ecc_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_ecc_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ecc_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ecc_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ecc_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ecc_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_ecc_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ecc_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ecc_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ecc_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canEncrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ecc_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!i}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ecc_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_ecc_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canDecrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ecc_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!i}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ecc_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_ecc_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canSign(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ecc_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ecc_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=this.signatureLen(r),l=t._vsc_buffer_new_with_capacity(u);try{const i=t._vscf_ecc_sign_hash(this.ctxPtr,r.ctxPtr,n,c,l);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(l),a=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+a)}finally{t._free(o),t._free(c),t._vsc_buffer_delete(l)}}canVerify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ecc_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i),_.ensureByteArray("signature",s);const o=i.length*i.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(i,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_ecc_verify_hash(this.ctxPtr,r.ctxPtr,n,u,p),!!h}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}computeSharedKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=this.sharedKeyLen(n),s=t._vsc_buffer_new_with_capacity(i);try{const i=t._vscf_ecc_compute_shared_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,s);e.FoundationError.handleStatusCode(i);const o=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s);return t.HEAPU8.slice(o,o+a)}finally{t._vsc_buffer_delete(s)}}sharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ecc_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemSharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ecc_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ecc_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),i=t._vsc_buffer_new_with_capacity(n),s=this.kemEncapsulatedKeyLen(r),o=t._vsc_buffer_new_with_capacity(s);try{const n=t._vscf_ecc_kem_encapsulate(this.ctxPtr,r.ctxPtr,i,o);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),a=t._vsc_buffer_len(i),c=t.HEAPU8.slice(s,s+a),u=t._vsc_buffer_bytes(o),l=t._vsc_buffer_len(o);return{sharedKey:c,encapsulatedKey:t.HEAPU8.slice(u,u+l)}}finally{t._vsc_buffer_delete(i),t._vsc_buffer_delete(o)}}kemDecapsulate(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("encapsulatedKey",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.kemSharedKeyLen(n),u=t._vsc_buffer_new_with_capacity(c);try{const r=t._vscf_ecc_kem_decapsulate(this.ctxPtr,a,n.ctxPtr,u);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ecc_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("algId",r);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ecc_generate_key(this.ctxPtr,r,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}}return r},$=(t,e)=>{class r{static get SOURCES_MAX(){return 15}get SOURCES_MAX(){return r.SOURCES_MAX}constructor(e){this.name="EntropyAccumulator",this.ctxPtr=void 0===e?t._vscf_entropy_accumulator_new():e}static newAndUseCContext(e){return new r(t._vscf_entropy_accumulator_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_entropy_accumulator_delete(this.ctxPtr),this.ctxPtr=null)}isStrong(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_entropy_accumulator_is_strong(this.ctxPtr),!!e}gather(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",r);const n=t._vsc_buffer_new_with_capacity(r);try{const i=t._vscf_entropy_accumulator_gather(this.ctxPtr,r,n);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(n)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_entropy_accumulator_setup_defaults(this.ctxPtr)}addSource(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("source",r,"Foundation.EntropySource",e.FoundationInterfaceTag.ENTROPY_SOURCE,e.FoundationInterface),_.ensureNumber("threshold",n),t._vscf_entropy_accumulator_add_source(this.ctxPtr,r.ctxPtr,n)}}return r},J=(t,e)=>{class r{static get RESEED_INTERVAL(){return 1e4}get RESEED_INTERVAL(){return r.RESEED_INTERVAL}static get ENTROPY_LEN(){return 48}get ENTROPY_LEN(){return r.ENTROPY_LEN}constructor(e){this.name="CtrDrbg",this.ctxPtr=void 0===e?t._vscf_ctr_drbg_new():e}static newAndUseCContext(e){return new r(t._vscf_ctr_drbg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ctr_drbg_delete(this.ctxPtr),this.ctxPtr=null)}set entropySource(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("entropySource",r,"Foundation.EntropySource",e.FoundationInterfaceTag.ENTROPY_SOURCE,e.FoundationInterface),t._vscf_ctr_drbg_release_entropy_source(this.ctxPtr);const n=t._vscf_ctr_drbg_use_entropy_source(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",r);const n=t._vsc_buffer_new_with_capacity(r);try{const i=t._vscf_ctr_drbg_random(this.ctxPtr,r,n);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(n)}}reseed(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ctr_drbg_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ctr_drbg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}enablePredictionResistance(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_ctr_drbg_enable_prediction_resistance(this.ctxPtr)}setReseedInterval(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("interval",e),t._vscf_ctr_drbg_set_reseed_interval(this.ctxPtr,e)}setEntropyLen(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",e),t._vscf_ctr_drbg_set_entropy_len(this.ctxPtr,e)}}return r},Z=(t,e)=>{class r{constructor(e){this.name="Hmac",this.ctxPtr=void 0===e?t._vscf_hmac_new():e}static newAndUseCContext(e){return new r(t._vscf_hmac_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hmac_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hmac_release_hash(this.ctxPtr),t._vscf_hmac_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hmac_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hmac_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_hmac_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}digestLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hmac_digest_len(this.ctxPtr),e}mac(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e),_.ensureByteArray("data",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(a);t.HEAP8.set(r,c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);t._vsc_data(l,c,a);const f=this.digestLen(),d=t._vsc_buffer_new_with_capacity(f);try{t._vscf_hmac_mac(this.ctxPtr,o,l,d);const e=t._vsc_buffer_bytes(d),r=t._vsc_buffer_len(d);return t.HEAPU8.slice(e,e+r)}finally{t._free(i),t._free(o),t._free(c),t._free(l),t._vsc_buffer_delete(d)}}start(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("key",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_hmac_start(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}update(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_hmac_update(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}finish(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=this.digestLen(),r=t._vsc_buffer_new_with_capacity(e);try{t._vscf_hmac_finish(this.ctxPtr,r);const e=t._vsc_buffer_bytes(r),n=t._vsc_buffer_len(r);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(r)}}reset(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_hmac_reset(this.ctxPtr)}}return r},Q=(t,e)=>{class r{constructor(e){this.name="Hkdf",this.ctxPtr=void 0===e?t._vscf_hkdf_new():e}static newAndUseCContext(e){return new r(t._vscf_hkdf_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hkdf_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hkdf_release_hash(this.ctxPtr),t._vscf_hkdf_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hkdf_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hkdf_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_hkdf_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e),_.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vsc_buffer_new_with_capacity(r);try{t._vscf_hkdf_derive(this.ctxPtr,o,r,a);const e=t._vsc_buffer_bytes(a),n=t._vsc_buffer_len(a);return t.HEAPU8.slice(e,e+n)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(a)}}reset(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("salt",e),_.ensureNumber("iterationCount",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);try{t._vscf_hkdf_reset(this.ctxPtr,o,r)}finally{t._free(i),t._free(o)}}setInfo(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("info",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_hkdf_set_info(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}}return r},tt=(t,e)=>{class r{constructor(e){this.name="Kdf1",this.ctxPtr=void 0===e?t._vscf_kdf1_new():e}static newAndUseCContext(e){return new r(t._vscf_kdf1_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_kdf1_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_kdf1_release_hash(this.ctxPtr),t._vscf_kdf1_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_kdf1_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_kdf1_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_kdf1_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e),_.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vsc_buffer_new_with_capacity(r);try{t._vscf_kdf1_derive(this.ctxPtr,o,r,a);const e=t._vsc_buffer_bytes(a),n=t._vsc_buffer_len(a);return t.HEAPU8.slice(e,e+n)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(a)}}}return r},et=(t,e)=>{class r{constructor(e){this.name="Kdf2",this.ctxPtr=void 0===e?t._vscf_kdf2_new():e}static newAndUseCContext(e){return new r(t._vscf_kdf2_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_kdf2_delete(this.ctxPtr),this.ctxPtr=null)}set hash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_kdf2_release_hash(this.ctxPtr),t._vscf_kdf2_use_hash(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_kdf2_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_kdf2_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_kdf2_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e),_.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vsc_buffer_new_with_capacity(r);try{t._vscf_kdf2_derive(this.ctxPtr,o,r,a);const e=t._vsc_buffer_bytes(a),n=t._vsc_buffer_len(a);return t.HEAPU8.slice(e,e+n)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(a)}}}return r},rt=(t,e)=>{class r{constructor(e){this.name="FakeRandom",this.ctxPtr=void 0===e?t._vscf_fake_random_new():e}static newAndUseCContext(e){return new r(t._vscf_fake_random_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_fake_random_delete(this.ctxPtr),this.ctxPtr=null)}random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",r);const n=t._vsc_buffer_new_with_capacity(r);try{const i=t._vscf_fake_random_random(this.ctxPtr,r,n);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(n)}}reseed(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_fake_random_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}isStrong(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_fake_random_is_strong(this.ctxPtr),!!e}gather(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",r);const n=t._vsc_buffer_new_with_capacity(r);try{const i=t._vscf_fake_random_gather(this.ctxPtr,r,n);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(n)}}setupSourceByte(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("byteSource",e),t._vscf_fake_random_setup_source_byte(this.ctxPtr,e)}setupSourceData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("dataSource",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_fake_random_setup_source_data(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}}return r},nt=(t,e)=>{class r{constructor(e){this.name="Pkcs5Pbkdf2",this.ctxPtr=void 0===e?t._vscf_pkcs5_pbkdf2_new():e}static newAndUseCContext(e){return new r(t._vscf_pkcs5_pbkdf2_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_pkcs5_pbkdf2_delete(this.ctxPtr),this.ctxPtr=null)}set hmac(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hmac",r,"Foundation.Mac",e.FoundationInterfaceTag.MAC,e.FoundationInterface),t._vscf_pkcs5_pbkdf2_release_hmac(this.ctxPtr),t._vscf_pkcs5_pbkdf2_use_hmac(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_pkcs5_pbkdf2_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pkcs5_pbkdf2_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_pkcs5_pbkdf2_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}derive(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e),_.ensureNumber("keyLen",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vsc_buffer_new_with_capacity(r);try{t._vscf_pkcs5_pbkdf2_derive(this.ctxPtr,o,r,a);const e=t._vsc_buffer_bytes(a),n=t._vsc_buffer_len(a);return t.HEAPU8.slice(e,e+n)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(a)}}reset(e,r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("salt",e),_.ensureNumber("iterationCount",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);try{t._vscf_pkcs5_pbkdf2_reset(this.ctxPtr,o,r)}finally{t._free(i),t._free(o)}}setInfo(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("info",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_pkcs5_pbkdf2_set_info(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_pkcs5_pbkdf2_setup_defaults(this.ctxPtr)}}return r},it=(t,e)=>{class r{constructor(e){this.name="Pkcs5Pbes2",this.ctxPtr=void 0===e?t._vscf_pkcs5_pbes2_new():e}static newAndUseCContext(e){return new r(t._vscf_pkcs5_pbes2_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_pkcs5_pbes2_delete(this.ctxPtr),this.ctxPtr=null)}set kdf(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("kdf",r,"Foundation.SaltedKdf",e.FoundationInterfaceTag.SALTED_KDF,e.FoundationInterface),t._vscf_pkcs5_pbes2_release_kdf(this.ctxPtr),t._vscf_pkcs5_pbes2_use_kdf(this.ctxPtr,r.ctxPtr)}set cipher(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("cipher",r,"Foundation.Cipher",e.FoundationInterfaceTag.CIPHER,e.FoundationInterface),t._vscf_pkcs5_pbes2_release_cipher(this.ctxPtr),t._vscf_pkcs5_pbes2_use_cipher(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_pkcs5_pbes2_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pkcs5_pbes2_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_pkcs5_pbes2_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}encrypt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.encryptedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_pkcs5_pbes2_encrypt(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}encryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_pkcs5_pbes2_encrypted_len(this.ctxPtr,e),r}preciseEncryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_pkcs5_pbes2_precise_encrypted_len(this.ctxPtr,e),r}decrypt(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=this.decryptedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_pkcs5_pbes2_decrypt(this.ctxPtr,o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}decryptedLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_pkcs5_pbes2_decrypted_len(this.ctxPtr,e),r}reset(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("pwd",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_pkcs5_pbes2_reset(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}}return r},st=(t,e)=>{class r{constructor(e){this.name="SeedEntropySource",this.ctxPtr=void 0===e?t._vscf_seed_entropy_source_new():e}static newAndUseCContext(e){return new r(t._vscf_seed_entropy_source_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_seed_entropy_source_delete(this.ctxPtr),this.ctxPtr=null)}isStrong(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_seed_entropy_source_is_strong(this.ctxPtr),!!e}gather(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("len",r);const n=t._vsc_buffer_new_with_capacity(r);try{const i=t._vscf_seed_entropy_source_gather(this.ctxPtr,r,n);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(n)}}resetSeed(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("seed",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_seed_entropy_source_reset_seed(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}}return r},ot=(t,e)=>{class r{static get KEY_MATERIAL_LEN_MIN(){return 32}get KEY_MATERIAL_LEN_MIN(){return r.KEY_MATERIAL_LEN_MIN}static get KEY_MATERIAL_LEN_MAX(){return 512}get KEY_MATERIAL_LEN_MAX(){return r.KEY_MATERIAL_LEN_MAX}constructor(e){this.name="KeyMaterialRng",this.ctxPtr=void 0===e?t._vscf_key_material_rng_new():e}static newAndUseCContext(e){return new r(t._vscf_key_material_rng_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_material_rng_delete(this.ctxPtr),this.ctxPtr=null)}random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",r);const n=t._vsc_buffer_new_with_capacity(r);try{const i=t._vscf_key_material_rng_random(this.ctxPtr,r,n);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(n),o=t._vsc_buffer_len(n);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(n)}}reseed(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_key_material_rng_reseed(this.ctxPtr);e.FoundationError.handleStatusCode(r)}resetKeyMaterial(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyMaterial",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);try{t._vscf_key_material_rng_reset_key_material(this.ctxPtr,s)}finally{t._free(n),t._free(s)}}}return r},at=(t,e)=>{class r{constructor(e){this.name="RawPublicKey",this.ctxPtr=void 0===e?t._vscf_raw_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_raw_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_raw_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_public_key_is_valid(this.ctxPtr),!!e}data(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_raw_public_key_data(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},ct=(t,e)=>{class r{constructor(e){this.name="RawPrivateKey",this.ctxPtr=void 0===e?t._vscf_raw_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_raw_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_raw_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}data(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_raw_private_key_data(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}hasPublicKey(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_raw_private_key_has_public_key(this.ctxPtr),!!e}setPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawPublicKey",r,e.RawPublicKey),t._vscf_raw_private_key_set_public_key(this.ctxPtr,r.ctxPtr)}getPublicKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_raw_private_key_get_public_key(this.ctxPtr),e.RawPublicKey.newAndUseCContext(r)}}return r},ut=(t,e)=>{class r{constructor(e){this.name="Pkcs8Serializer",this.ctxPtr=void 0===e?t._vscf_pkcs8_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_pkcs8_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_pkcs8_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_pkcs8_serializer_release_asn1_writer(this.ctxPtr),t._vscf_pkcs8_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedPublicKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey),n=t._vscf_pkcs8_serializer_serialized_public_key_len(this.ctxPtr,r.ctxPtr),n}serializePublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey);const n=this.serializedPublicKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_pkcs8_serializer_serialize_public_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}serializedPrivateKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey),n=t._vscf_pkcs8_serializer_serialized_private_key_len(this.ctxPtr,r.ctxPtr),n}serializePrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey);const n=this.serializedPrivateKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_pkcs8_serializer_serialize_private_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_pkcs8_serializer_setup_defaults(this.ctxPtr)}serializePublicKeyInplace(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_pkcs8_serializer_serialize_public_key_inplace(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),s}finally{t._free(i)}}serializePrivateKeyInplace(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_pkcs8_serializer_serialize_private_key_inplace(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),s}finally{t._free(i)}}}return r},lt=(t,e)=>{class r{constructor(e){this.name="Sec1Serializer",this.ctxPtr=void 0===e?t._vscf_sec1_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_sec1_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_sec1_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_sec1_serializer_release_asn1_writer(this.ctxPtr),t._vscf_sec1_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedPublicKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey),n=t._vscf_sec1_serializer_serialized_public_key_len(this.ctxPtr,r.ctxPtr),n}serializePublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey);const n=this.serializedPublicKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_sec1_serializer_serialize_public_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}serializedPrivateKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey),n=t._vscf_sec1_serializer_serialized_private_key_len(this.ctxPtr,r.ctxPtr),n}serializePrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey);const n=this.serializedPrivateKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_sec1_serializer_serialize_private_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_sec1_serializer_setup_defaults(this.ctxPtr)}serializePublicKeyInplace(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_sec1_serializer_serialize_public_key_inplace(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),s}finally{t._free(i)}}serializePrivateKeyInplace(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_sec1_serializer_serialize_private_key_inplace(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),s}finally{t._free(i)}}}return r},_t=(t,e)=>{class r{constructor(e){this.name="KeyAsn1Serializer",this.ctxPtr=void 0===e?t._vscf_key_asn1_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_key_asn1_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_asn1_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_key_asn1_serializer_release_asn1_writer(this.ctxPtr),t._vscf_key_asn1_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedPublicKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey),n=t._vscf_key_asn1_serializer_serialized_public_key_len(this.ctxPtr,r.ctxPtr),n}serializePublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey);const n=this.serializedPublicKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_asn1_serializer_serialize_public_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}serializedPrivateKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey),n=t._vscf_key_asn1_serializer_serialized_private_key_len(this.ctxPtr,r.ctxPtr),n}serializePrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey);const n=this.serializedPrivateKeyLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_key_asn1_serializer_serialize_private_key(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_key_asn1_serializer_setup_defaults(this.ctxPtr)}serializePublicKeyInplace(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("publicKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_key_asn1_serializer_serialize_public_key_inplace(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),s}finally{t._free(i)}}serializePrivateKeyInplace(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("privateKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_key_asn1_serializer_serialize_private_key_inplace(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),s}finally{t._free(i)}}}return r},ft=(t,e)=>{class r{constructor(e){this.name="KeyAsn1Deserializer",this.ctxPtr=void 0===e?t._vscf_key_asn1_deserializer_new():e}static newAndUseCContext(e){return new r(t._vscf_key_asn1_deserializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_key_asn1_deserializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Reader(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Reader",r,"Foundation.Asn1Reader",e.FoundationInterfaceTag.ASN1_READER,e.FoundationInterface),t._vscf_key_asn1_deserializer_release_asn1_reader(this.ctxPtr),t._vscf_key_asn1_deserializer_use_asn1_reader(this.ctxPtr,r.ctxPtr)}deserializePublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("publicKeyData",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_key_asn1_deserializer_deserialize_public_key(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.RawPublicKey.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}deserializePrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("privateKeyData",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_key_asn1_deserializer_deserialize_private_key(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.RawPrivateKey.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_key_asn1_deserializer_setup_defaults(this.ctxPtr)}deserializePublicKeyInplace(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_key_asn1_deserializer_deserialize_public_key_inplace(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.RawPublicKey.newAndTakeCContext(i)}finally{t._free(n)}}deserializePrivateKeyInplace(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_key_asn1_deserializer_deserialize_private_key_inplace(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.RawPrivateKey.newAndTakeCContext(i)}finally{t._free(n)}}}return r},dt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Ed25519",this.ctxPtr=void 0===e?t._vscf_ed25519_new():e}static newAndUseCContext(e){return new r(t._vscf_ed25519_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ed25519_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_ed25519_release_random(this.ctxPtr),t._vscf_ed25519_use_random(this.ctxPtr,r.ctxPtr)}set ecies(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("ecies",r,e.Ecies),t._vscf_ed25519_release_ecies(this.ctxPtr),t._vscf_ed25519_use_ecies(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ed25519_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ed25519_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_ed25519_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ed25519_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ed25519_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ed25519_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ed25519_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_ed25519_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_ed25519_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ed25519_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_ed25519_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canEncrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ed25519_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!i}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ed25519_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_ed25519_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canDecrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ed25519_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!i}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_ed25519_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_ed25519_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canSign(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ed25519_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_ed25519_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=this.signatureLen(r),l=t._vsc_buffer_new_with_capacity(u);try{const i=t._vscf_ed25519_sign_hash(this.ctxPtr,r.ctxPtr,n,c,l);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(l),a=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+a)}finally{t._free(o),t._free(c),t._vsc_buffer_delete(l)}}canVerify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ed25519_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i),_.ensureByteArray("signature",s);const o=i.length*i.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(i,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_ed25519_verify_hash(this.ctxPtr,r.ctxPtr,n,u,p),!!h}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}computeSharedKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=this.sharedKeyLen(n),s=t._vsc_buffer_new_with_capacity(i);try{const i=t._vscf_ed25519_compute_shared_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,s);e.FoundationError.handleStatusCode(i);const o=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s);return t.HEAPU8.slice(o,o+a)}finally{t._vsc_buffer_delete(s)}}sharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ed25519_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemSharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_ed25519_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_ed25519_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),i=t._vsc_buffer_new_with_capacity(n),s=this.kemEncapsulatedKeyLen(r),o=t._vsc_buffer_new_with_capacity(s);try{const n=t._vscf_ed25519_kem_encapsulate(this.ctxPtr,r.ctxPtr,i,o);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),a=t._vsc_buffer_len(i),c=t.HEAPU8.slice(s,s+a),u=t._vsc_buffer_bytes(o),l=t._vsc_buffer_len(o);return{sharedKey:c,encapsulatedKey:t.HEAPU8.slice(u,u+l)}}finally{t._vsc_buffer_delete(i),t._vsc_buffer_delete(o)}}kemDecapsulate(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("encapsulatedKey",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.kemSharedKeyLen(n),u=t._vsc_buffer_new_with_capacity(c);try{const r=t._vscf_ed25519_kem_decapsulate(this.ctxPtr,a,n.ctxPtr,u);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_ed25519_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_ed25519_generate_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(i)}finally{t._free(n)}}}return r},pt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Curve25519",this.ctxPtr=void 0===e?t._vscf_curve25519_new():e}static newAndUseCContext(e){return new r(t._vscf_curve25519_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_curve25519_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_curve25519_release_random(this.ctxPtr),t._vscf_curve25519_use_random(this.ctxPtr,r.ctxPtr)}set ecies(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("ecies",r,e.Ecies),t._vscf_curve25519_release_ecies(this.ctxPtr),t._vscf_curve25519_use_ecies(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_curve25519_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_curve25519_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_curve25519_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_curve25519_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_curve25519_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_curve25519_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_curve25519_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_curve25519_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_curve25519_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_curve25519_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_curve25519_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canEncrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_curve25519_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!i}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_curve25519_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_curve25519_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canDecrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_curve25519_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!i}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_curve25519_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_curve25519_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}computeSharedKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=this.sharedKeyLen(n),s=t._vsc_buffer_new_with_capacity(i);try{const i=t._vscf_curve25519_compute_shared_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,s);e.FoundationError.handleStatusCode(i);const o=t._vsc_buffer_bytes(s),a=t._vsc_buffer_len(s);return t.HEAPU8.slice(o,o+a)}finally{t._vsc_buffer_delete(s)}}sharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_curve25519_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemSharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_curve25519_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_curve25519_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),i=t._vsc_buffer_new_with_capacity(n),s=this.kemEncapsulatedKeyLen(r),o=t._vsc_buffer_new_with_capacity(s);try{const n=t._vscf_curve25519_kem_encapsulate(this.ctxPtr,r.ctxPtr,i,o);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),a=t._vsc_buffer_len(i),c=t.HEAPU8.slice(s,s+a),u=t._vsc_buffer_bytes(o),l=t._vsc_buffer_len(o);return{sharedKey:c,encapsulatedKey:t.HEAPU8.slice(u,u+l)}}finally{t._vsc_buffer_delete(i),t._vsc_buffer_delete(o)}}kemDecapsulate(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("encapsulatedKey",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.kemSharedKeyLen(n),u=t._vsc_buffer_new_with_capacity(c);try{const r=t._vscf_curve25519_kem_decapsulate(this.ctxPtr,a,n.ctxPtr,u);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_curve25519_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_curve25519_generate_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(i)}finally{t._free(n)}}}return r},ht=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Falcon",this.ctxPtr=void 0===e?t._vscf_falcon_new():e}static newAndUseCContext(e){return new r(t._vscf_falcon_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_falcon_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_falcon_release_random(this.ctxPtr),t._vscf_falcon_use_random(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_falcon_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_falcon_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_falcon_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_falcon_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_falcon_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_falcon_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_falcon_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_falcon_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_falcon_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_falcon_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_falcon_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_falcon_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_falcon_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_falcon_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canSign(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_falcon_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_falcon_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=this.signatureLen(r),l=t._vsc_buffer_new_with_capacity(u);try{const i=t._vscf_falcon_sign_hash(this.ctxPtr,r.ctxPtr,n,c,l);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(l),a=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+a)}finally{t._free(o),t._free(c),t._vsc_buffer_delete(l)}}canVerify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_falcon_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i),_.ensureByteArray("signature",s);const o=i.length*i.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(i,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_falcon_verify_hash(this.ctxPtr,r.ctxPtr,n,u,p),!!h}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_falcon_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_falcon_generate_key(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(i)}finally{t._free(n)}}}return r},yt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="Round5",this.ctxPtr=void 0===e?t._vscf_round5_new():e}static newAndUseCContext(e){return new r(t._vscf_round5_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_round5_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_round5_release_random(this.ctxPtr),t._vscf_round5_use_random(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_round5_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_round5_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_round5_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_round5_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_round5_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_round5_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_round5_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_round5_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_round5_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_round5_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_round5_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}kemSharedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),n=t._vscf_round5_kem_shared_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulatedKeyLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_round5_kem_encapsulated_key_len(this.ctxPtr,r.ctxPtr),n}kemEncapsulate(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.kemSharedKeyLen(r),i=t._vsc_buffer_new_with_capacity(n),s=this.kemEncapsulatedKeyLen(r),o=t._vsc_buffer_new_with_capacity(s);try{const n=t._vscf_round5_kem_encapsulate(this.ctxPtr,r.ctxPtr,i,o);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),a=t._vsc_buffer_len(i),c=t.HEAPU8.slice(s,s+a),u=t._vsc_buffer_bytes(o),l=t._vsc_buffer_len(o);return{sharedKey:c,encapsulatedKey:t.HEAPU8.slice(u,u+l)}}finally{t._vsc_buffer_delete(i),t._vsc_buffer_delete(o)}}kemDecapsulate(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("encapsulatedKey",r),_.ensureImplementInterface("privateKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.kemSharedKeyLen(n),u=t._vsc_buffer_new_with_capacity(c);try{const r=t._vscf_round5_kem_decapsulate(this.ctxPtr,a,n.ctxPtr,u);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_round5_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}generateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("algId",r);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_round5_generate_key(this.ctxPtr,r,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}}return r},vt=(t,e)=>{class r{constructor(e){this.name="CompoundKeyAlgInfo",this.ctxPtr=void 0===e?t._vscf_compound_key_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_key_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_compound_key_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_key_alg_info_alg_id(this.ctxPtr),e}cipherAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_key_alg_info_cipher_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_key_alg_info_signer_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},mt=(t,e)=>{class r{constructor(e){this.name="CompoundPublicKey",this.ctxPtr=void 0===e?t._vscf_compound_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_compound_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_public_key_is_valid(this.ctxPtr),!!e}cipherKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_public_key_cipher_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_public_key_signer_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},gt=(t,e)=>{class r{constructor(e){this.name="CompoundPrivateKey",this.ctxPtr=void 0===e?t._vscf_compound_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_compound_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}cipherKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_cipher_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}signerKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_private_key_signer_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},Pt=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="CompoundKeyAlg",this.ctxPtr=void 0===e?t._vscf_compound_key_alg_new():e}static newAndUseCContext(e){return new r(t._vscf_compound_key_alg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_compound_key_alg_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_compound_key_alg_release_random(this.ctxPtr),t._vscf_compound_key_alg_use_random(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_compound_key_alg_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_compound_key_alg_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_compound_key_alg_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_compound_key_alg_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_compound_key_alg_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_compound_key_alg_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_compound_key_alg_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_compound_key_alg_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_compound_key_alg_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_compound_key_alg_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_compound_key_alg_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_compound_key_alg_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canEncrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_compound_key_alg_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!i}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_compound_key_alg_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_compound_key_alg_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canDecrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_compound_key_alg_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!i}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_compound_key_alg_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_compound_key_alg_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canSign(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=this.signatureLen(r),l=t._vsc_buffer_new_with_capacity(u);try{const i=t._vscf_compound_key_alg_sign_hash(this.ctxPtr,r.ctxPtr,n,c,l);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(l),a=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+a)}finally{t._free(o),t._free(c),t._vsc_buffer_delete(l)}}canVerify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_compound_key_alg_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i),_.ensureByteArray("signature",s);const o=i.length*i.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(i,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_compound_key_alg_verify_hash(this.ctxPtr,r.ctxPtr,n,u,p),!!h}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_compound_key_alg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}makeKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("cipherKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureImplementInterface("signerKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_compound_key_alg_make_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}}return r},xt=(t,e)=>{class r{constructor(e){this.name="HybridKeyAlgInfo",this.ctxPtr=void 0===e?t._vscf_hybrid_key_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_key_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hybrid_key_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_key_alg_info_alg_id(this.ctxPtr),e}firstKeyAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_key_alg_info_first_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}secondKeyAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_key_alg_info_second_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},bt=(t,e)=>{class r{constructor(e){this.name="HybridPublicKey",this.ctxPtr=void 0===e?t._vscf_hybrid_public_key_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_public_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hybrid_public_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_public_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_public_key_is_valid(this.ctxPtr),!!e}firstKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_public_key_first_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}secondKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_public_key_second_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},wt=(t,e)=>{class r{constructor(e){this.name="HybridPrivateKey",this.ctxPtr=void 0===e?t._vscf_hybrid_private_key_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_private_key_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hybrid_private_key_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_alg_id(this.ctxPtr),e}algInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_len(this.ctxPtr),e}bitlen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_bitlen(this.ctxPtr),e}implTag(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_impl_tag(this.ctxPtr),e}isValid(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hybrid_private_key_is_valid(this.ctxPtr),!!e}extractPublicKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_extract_public_key(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}firstKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_first_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}secondKey(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hybrid_private_key_second_key(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},Et=(t,e)=>{class r{static get CAN_IMPORT_PUBLIC_KEY(){return!0}get CAN_IMPORT_PUBLIC_KEY(){return r.CAN_IMPORT_PUBLIC_KEY}static get CAN_EXPORT_PUBLIC_KEY(){return!0}get CAN_EXPORT_PUBLIC_KEY(){return r.CAN_EXPORT_PUBLIC_KEY}static get CAN_IMPORT_PRIVATE_KEY(){return!0}get CAN_IMPORT_PRIVATE_KEY(){return r.CAN_IMPORT_PRIVATE_KEY}static get CAN_EXPORT_PRIVATE_KEY(){return!0}get CAN_EXPORT_PRIVATE_KEY(){return r.CAN_EXPORT_PRIVATE_KEY}constructor(e){this.name="HybridKeyAlg",this.ctxPtr=void 0===e?t._vscf_hybrid_key_alg_new():e}static newAndUseCContext(e){return new r(t._vscf_hybrid_key_alg_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hybrid_key_alg_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_hybrid_key_alg_release_random(this.ctxPtr),t._vscf_hybrid_key_alg_use_random(this.ctxPtr,r.ctxPtr)}set cipher(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("cipher",r,"Foundation.CipherAuth",e.FoundationInterfaceTag.CIPHER_AUTH,e.FoundationInterface),t._vscf_hybrid_key_alg_release_cipher(this.ctxPtr),t._vscf_hybrid_key_alg_use_cipher(this.ctxPtr,r.ctxPtr)}set hash(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("hash",r,"Foundation.Hash",e.FoundationInterfaceTag.HASH,e.FoundationInterface),t._vscf_hybrid_key_alg_release_hash(this.ctxPtr),t._vscf_hybrid_key_alg_use_hash(this.ctxPtr,r.ctxPtr)}generateEphemeralKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_hybrid_key_alg_generate_ephemeral_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPublicKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_hybrid_key_alg_import_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPublicKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_hybrid_key_alg_import_public_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPublicKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_hybrid_key_alg_export_public_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPublicKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPublicKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_exported_public_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPublicKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface);const n=this.exportedPublicKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_hybrid_key_alg_export_public_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}importPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("rawKey",r,e.RawPrivateKey);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_hybrid_key_alg_import_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.FoundationInterface.newAndTakeCContext(s)}finally{t._free(i)}}importPrivateKeyData(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("keyData",r),_.ensureImplementInterface("keyAlgInfo",n,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=t._vscf_error_ctx_size(),u=t._malloc(c);let l;t._vscf_error_reset(u);try{l=t._vscf_hybrid_key_alg_import_private_key_data(this.ctxPtr,a,n.ctxPtr,u);const r=t._vscf_error_status(u);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(l)}finally{t._free(s),t._free(a),t._free(u)}}exportPrivateKey(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=t._vscf_error_ctx_size(),i=t._malloc(n);let s;t._vscf_error_reset(i);try{s=t._vscf_hybrid_key_alg_export_private_key(this.ctxPtr,r.ctxPtr,i);const n=t._vscf_error_status(i);return e.FoundationError.handleStatusCode(n),e.RawPrivateKey.newAndTakeCContext(s)}finally{t._free(i)}}exportedPrivateKeyDataLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_exported_private_key_data_len(this.ctxPtr,r.ctxPtr),n}exportPrivateKeyData(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const n=this.exportedPrivateKeyDataLen(r),i=t._vsc_buffer_new_with_capacity(n);try{const n=t._vscf_hybrid_key_alg_export_private_key_data(this.ctxPtr,r.ctxPtr,i);e.FoundationError.handleStatusCode(n);const s=t._vsc_buffer_bytes(i),o=t._vsc_buffer_len(i);return t.HEAPU8.slice(s,s+o)}finally{t._vsc_buffer_delete(i)}}canEncrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_hybrid_key_alg_can_encrypt(this.ctxPtr,r.ctxPtr,n),!!i}encryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_hybrid_key_alg_encrypted_len(this.ctxPtr,r.ctxPtr,n),i}encrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.encryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_hybrid_key_alg_encrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canDecrypt(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_hybrid_key_alg_can_decrypt(this.ctxPtr,r.ctxPtr,n),!!i}decryptedLen(r,n){let i;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("dataLen",n),i=t._vscf_hybrid_key_alg_decrypted_len(this.ctxPtr,r.ctxPtr,n),i}decrypt(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=this.decryptedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{const n=t._vscf_hybrid_key_alg_decrypt(this.ctxPtr,r.ctxPtr,a,u);e.FoundationError.handleStatusCode(n);const i=t._vsc_buffer_bytes(u),o=t._vsc_buffer_len(u);return t.HEAPU8.slice(i,i+o)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}canSign(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_can_sign(this.ctxPtr,r.ctxPtr),!!n}signatureLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_signature_len(this.ctxPtr,r.ctxPtr),n}signHash(r,n,i){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("privateKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i);const s=i.length*i.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(i,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=this.signatureLen(r),l=t._vsc_buffer_new_with_capacity(u);try{const i=t._vscf_hybrid_key_alg_sign_hash(this.ctxPtr,r.ctxPtr,n,c,l);e.FoundationError.handleStatusCode(i);const s=t._vsc_buffer_bytes(l),a=t._vsc_buffer_len(l);return t.HEAPU8.slice(s,s+a)}finally{t._free(o),t._free(c),t._vsc_buffer_delete(l)}}canVerify(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),n=t._vscf_hybrid_key_alg_can_verify(this.ctxPtr,r.ctxPtr),!!n}verifyHash(r,n,i,s){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("publicKey",r,"Foundation.PublicKey",e.FoundationInterfaceTag.PUBLIC_KEY,e.FoundationInterface),_.ensureNumber("hashId",n),_.ensureByteArray("digest",i),_.ensureByteArray("signature",s);const o=i.length*i.BYTES_PER_ELEMENT,a=t._malloc(o);t.HEAP8.set(i,a);const c=t._vsc_data_ctx_size(),u=t._malloc(c);t._vsc_data(u,a,o);const l=s.length*s.BYTES_PER_ELEMENT,f=t._malloc(l);t.HEAP8.set(s,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);let h;t._vsc_data(p,f,l);try{return h=t._vscf_hybrid_key_alg_verify_hash(this.ctxPtr,r.ctxPtr,n,u,p),!!h}finally{t._free(a),t._free(u),t._free(f),t._free(p)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_hybrid_key_alg_setup_defaults(this.ctxPtr);e.FoundationError.handleStatusCode(r)}makeKey(r,n){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("firstKey",r,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface),_.ensureImplementInterface("secondKey",n,"Foundation.PrivateKey",e.FoundationInterfaceTag.PRIVATE_KEY,e.FoundationInterface);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_hybrid_key_alg_make_key(this.ctxPtr,r.ctxPtr,n.ctxPtr,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}}return r},kt=(t,e)=>{class r{constructor(e){this.name="SimpleAlgInfo",this.ctxPtr=void 0===e?t._vscf_simple_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_simple_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_simple_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithAlgId(e){let n;return _.ensureNumber("algId",e),n=t._vscf_simple_alg_info_new_with_alg_id(e),r.newAndTakeCContext(n)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_simple_alg_info_alg_id(this.ctxPtr),e}}return r},It=(t,e)=>{class r{constructor(e){this.name="HashBasedAlgInfo",this.ctxPtr=void 0===e?t._vscf_hash_based_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_hash_based_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_hash_based_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_hash_based_alg_info_alg_id(this.ctxPtr),e}hashAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_hash_based_alg_info_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},Nt=(t,e)=>{class r{constructor(e){this.name="CipherAlgInfo",this.ctxPtr=void 0===e?t._vscf_cipher_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_cipher_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_cipher_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithMembers(e,n){_.ensureNumber("algId",e),_.ensureByteArray("nonce",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);let c;t._vsc_data(a,s,i);try{return c=t._vscf_cipher_alg_info_new_with_members(e,a),r.newAndTakeCContext(c)}finally{t._free(s),t._free(a)}}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_cipher_alg_info_alg_id(this.ctxPtr),e}nonce(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_cipher_alg_info_nonce(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}}return r},At=(t,e)=>{class r{constructor(e){this.name="SaltedKdfAlgInfo",this.ctxPtr=void 0===e?t._vscf_salted_kdf_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_salted_kdf_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_salted_kdf_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_salted_kdf_alg_info_alg_id(this.ctxPtr),e}hashAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_salted_kdf_alg_info_hash_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}salt(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const e=t._vsc_data_ctx_size(),r=t._malloc(e);try{t._vscf_salted_kdf_alg_info_salt(r,this.ctxPtr);const e=t._vsc_data_len(r),n=t._vsc_data_bytes(r);return t.HEAPU8.slice(n,n+e)}finally{t._free(r)}}iterationCount(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_salted_kdf_alg_info_iteration_count(this.ctxPtr),e}}return r},Ct=(t,e)=>{class r{constructor(e){this.name="PbeAlgInfo",this.ctxPtr=void 0===e?t._vscf_pbe_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_pbe_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_pbe_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_pbe_alg_info_alg_id(this.ctxPtr),e}kdfAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pbe_alg_info_kdf_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}cipherAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_pbe_alg_info_cipher_alg_info(this.ctxPtr),e.FoundationInterface.newAndUseCContext(r)}}return r},Tt=(t,e)=>{class r{constructor(e){this.name="EccAlgInfo",this.ctxPtr=void 0===e?t._vscf_ecc_alg_info_new():e}static newAndUseCContext(e){return new r(t._vscf_ecc_alg_info_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_ecc_alg_info_delete(this.ctxPtr),this.ctxPtr=null)}static newWithMembers(e,n,i){let s;return _.ensureNumber("algId",e),_.ensureNumber("keyId",n),_.ensureNumber("domainId",i),s=t._vscf_ecc_alg_info_new_with_members(e,n,i),r.newAndTakeCContext(s)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_alg_info_alg_id(this.ctxPtr),e}keyId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_alg_info_key_id(this.ctxPtr),e}domainId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_ecc_alg_info_domain_id(this.ctxPtr),e}}return r},St=(t,e)=>{class r{constructor(e){this.name="AlgInfoDerSerializer",this.ctxPtr=void 0===e?t._vscf_alg_info_der_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_alg_info_der_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_alg_info_der_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Writer(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_alg_info_der_serializer_release_asn1_writer(this.ctxPtr),t._vscf_alg_info_der_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_info_der_serializer_serialized_len(this.ctxPtr,r.ctxPtr),n}serialize(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=this.serializedLen(r),i=t._vsc_buffer_new_with_capacity(n);try{t._vscf_alg_info_der_serializer_serialize(this.ctxPtr,r.ctxPtr,i);const e=t._vsc_buffer_bytes(i),n=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(i)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_alg_info_der_serializer_setup_defaults(this.ctxPtr)}serializeInplace(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_info_der_serializer_serialize_inplace(this.ctxPtr,r.ctxPtr),n}}return r},Ft=(t,e)=>{class r{constructor(e){this.name="AlgInfoDerDeserializer",this.ctxPtr=void 0===e?t._vscf_alg_info_der_deserializer_new():e}static newAndUseCContext(e){return new r(t._vscf_alg_info_der_deserializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_alg_info_der_deserializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Reader(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Reader",r,"Foundation.Asn1Reader",e.FoundationInterfaceTag.ASN1_READER,e.FoundationInterface),t._vscf_alg_info_der_deserializer_release_asn1_reader(this.ctxPtr),t._vscf_alg_info_der_deserializer_use_asn1_reader(this.ctxPtr,r.ctxPtr)}deserialize(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_alg_info_der_deserializer_deserialize(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_alg_info_der_deserializer_setup_defaults(this.ctxPtr)}deserializeInplace(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=t._vscf_error_ctx_size(),n=t._malloc(r);let i;t._vscf_error_reset(n);try{i=t._vscf_alg_info_der_deserializer_deserialize_inplace(this.ctxPtr,n);const r=t._vscf_error_status(n);return e.FoundationError.handleStatusCode(r),e.FoundationInterface.newAndTakeCContext(i)}finally{t._free(n)}}}return r},Kt=(t,e)=>{class r{static get PREFIX_LEN(){return 32}get PREFIX_LEN(){return r.PREFIX_LEN}constructor(e){this.name="MessageInfoDerSerializer",this.ctxPtr=void 0===e?t._vscf_message_info_der_serializer_new():e}static newAndUseCContext(e){return new r(t._vscf_message_info_der_serializer_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_message_info_der_serializer_delete(this.ctxPtr),this.ctxPtr=null)}set asn1Reader(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Reader",r,"Foundation.Asn1Reader",e.FoundationInterfaceTag.ASN1_READER,e.FoundationInterface),t._vscf_message_info_der_serializer_release_asn1_reader(this.ctxPtr),t._vscf_message_info_der_serializer_use_asn1_reader(this.ctxPtr,r.ctxPtr)}set asn1Writer(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("asn1Writer",r,"Foundation.Asn1Writer",e.FoundationInterfaceTag.ASN1_WRITER,e.FoundationInterface),t._vscf_message_info_der_serializer_release_asn1_writer(this.ctxPtr),t._vscf_message_info_der_serializer_use_asn1_writer(this.ctxPtr,r.ctxPtr)}serializedLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("messageInfo",r,e.MessageInfo),n=t._vscf_message_info_der_serializer_serialized_len(this.ctxPtr,r.ctxPtr),n}serialize(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("messageInfo",r,e.MessageInfo);const n=this.serializedLen(r),i=t._vsc_buffer_new_with_capacity(n);try{t._vscf_message_info_der_serializer_serialize(this.ctxPtr,r.ctxPtr,i);const e=t._vsc_buffer_bytes(i),n=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(i)}}readPrefix(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_message_info_der_serializer_read_prefix(this.ctxPtr,s),o}finally{t._free(n),t._free(s)}}deserialize(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_message_info_der_serializer_deserialize(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.MessageInfo.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}serializedFooterLen(r){let n;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("messageInfoFooter",r,e.MessageInfoFooter),n=t._vscf_message_info_der_serializer_serialized_footer_len(this.ctxPtr,r.ctxPtr),n}serializeFooter(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("messageInfoFooter",r,e.MessageInfoFooter);const n=this.serializedFooterLen(r),i=t._vsc_buffer_new_with_capacity(n);try{t._vscf_message_info_der_serializer_serialize_footer(this.ctxPtr,r.ctxPtr,i);const e=t._vsc_buffer_bytes(i),n=t._vsc_buffer_len(i);return t.HEAPU8.slice(e,e+n)}finally{t._vsc_buffer_delete(i)}}deserializeFooter(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=t._vscf_error_ctx_size(),c=t._malloc(a);let u;t._vscf_error_reset(c);try{u=t._vscf_message_info_der_serializer_deserialize_footer(this.ctxPtr,o,c);const r=t._vscf_error_status(c);return e.FoundationError.handleStatusCode(r),e.MessageInfoFooter.newAndTakeCContext(u)}finally{t._free(i),t._free(o),t._free(c)}}setupDefaults(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_message_info_der_serializer_setup_defaults(this.ctxPtr)}}return r},Rt=(t,e)=>{class r{constructor(e){this.name="RandomPadding",this.ctxPtr=void 0===e?t._vscf_random_padding_new():e}static newAndUseCContext(e){return new r(t._vscf_random_padding_shallow_copy(e))}static newAndTakeCContext(t){return new r(t)}delete(){null!=this.ctxPtr&&(t._vscf_random_padding_delete(this.ctxPtr),this.ctxPtr=null)}set random(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("random",r,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),t._vscf_random_padding_release_random(this.ctxPtr),t._vscf_random_padding_use_random(this.ctxPtr,r.ctxPtr)}algId(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_alg_id(this.ctxPtr),e}produceAlgInfo(){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),r=t._vscf_random_padding_produce_alg_info(this.ctxPtr),e.FoundationInterface.newAndTakeCContext(r)}restoreAlgInfo(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface);const n=t._vscf_random_padding_restore_alg_info(this.ctxPtr,r.ctxPtr);e.FoundationError.handleStatusCode(n)}configure(r){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureClass("params",r,e.PaddingParams),t._vscf_random_padding_configure(this.ctxPtr,r.ctxPtr)}paddedDataLen(e){let r;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureNumber("dataLen",e),r=t._vscf_random_padding_padded_data_len(this.ctxPtr,e),r}len(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_len(this.ctxPtr),e}lenMax(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_len_max(this.ctxPtr),e}startDataProcessing(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_random_padding_start_data_processing(this.ctxPtr)}processData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_data_ctx_size(),a=t._malloc(o);try{t._vscf_random_padding_process_data(a,this.ctxPtr,s);const e=t._vsc_data_len(a),r=t._vsc_data_bytes(a);return t.HEAPU8.slice(r,r+e)}finally{t._free(n),t._free(s),t._free(a)}}finishDataProcessing(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.len(),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_random_padding_finish_data_processing(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}startPaddedDataProcessing(){_.ensureNotNull("this.ctxPtr",this.ctxPtr),t._vscf_random_padding_start_padded_data_processing(this.ctxPtr)}processPaddedData(e){_.ensureNotNull("this.ctxPtr",this.ctxPtr),_.ensureByteArray("data",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_buffer_new_with_capacity(r);try{t._vscf_random_padding_process_padded_data(this.ctxPtr,s,o);const e=t._vsc_buffer_bytes(o),r=t._vsc_buffer_len(o);return t.HEAPU8.slice(e,e+r)}finally{t._free(n),t._free(s),t._vsc_buffer_delete(o)}}finishPaddedDataProcessingOutLen(){let e;return _.ensureNotNull("this.ctxPtr",this.ctxPtr),e=t._vscf_random_padding_finish_padded_data_processing_out_len(this.ctxPtr),e}finishPaddedDataProcessing(){_.ensureNotNull("this.ctxPtr",this.ctxPtr);const r=this.finishPaddedDataProcessingOutLen(),n=t._vsc_buffer_new_with_capacity(r);try{const r=t._vscf_random_padding_finish_padded_data_processing(this.ctxPtr,n);e.FoundationError.handleStatusCode(r);const i=t._vsc_buffer_bytes(n),s=t._vsc_buffer_len(n);return t.HEAPU8.slice(i,i+s)}finally{t._vsc_buffer_delete(n)}}}return r},Lt=function(t,e){return function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,s=new Array(i);n<i;n++)s[n]=e[n].fn;return s},a.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],_=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),_){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(u=1,c=new Array(_-1);u<_;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),_){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(f=1,c=new Array(_-1);f<_;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&o(this,e):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}(e={exports:{}}),e.exports}();class Bt extends Error{constructor(){super("Module already exists."),Object.setPrototypeOf(this,Bt.prototype),this.name="ModuleAlreadyExistsError"}}class Ot extends Error{constructor(){super("Module not found."),Object.setPrototypeOf(this,Ot.prototype),this.name="ModuleNotFoundError"}}let Dt,Mt;(l=u||(u={})).load="load",l.remove="remove",l.error="error";const Ut=()=>{if(!Dt||!Mt)throw new Error("Cannot use global instances if the 'resetGlobalInstances' function has been called or 'createGlobalInstances' function has not been called yet.")},zt=()=>(Ut(),Dt),Ht=()=>(Ut(),Mt),jt=()=>{(Dt||Mt)&&(Ut(),Dt.delete(),Mt.delete(),Dt=void 0,Mt=void 0)},Yt=new class extends Lt{constructor(){super(...arguments),this.initFns=new Map,this.initPromises=new Map,this.modules=new Map,this.addModule=(t,e)=>{if(this.initFns.has(t)){const r=new Bt;throw this.emit(u.error,r,t,e),r}this.loadModulesPromise=void 0,this.initFns.set(t,e)},this.getModule=t=>{if(!this.modules.has(t)){const e=new Ot;throw this.emit(u.error,e,t),e}return this.modules.get(t)},this.hasModule=t=>this.modules.has(t),this.setModule=(t,e)=>{this.modules.set(t,e),this.emit(u.load,t,e)},this.removeModule=t=>{if(this.initFns.delete(t),this.initPromises.delete(t),this.modules.has(t)){const e=this.modules.get(t);this.modules.delete(t),this.emit(u.remove,t,e)}},this.loadModule=(t,...e)=>{if(!this.initFns.has(t)){const r=new Ot;throw this.emit(u.error,r,t,...e),r}if(this.initPromises.has(t))return this.initPromises.get(t);const r=this.initFns.get(t)(...e).then(r=>(this.modules.set(t,r),this.emit(u.load,t,r,...e),Promise.resolve()));return this.initPromises.set(t,r),r},this.loadModules=t=>{if(this.loadModulesPromise)return this.loadModulesPromise;const e=t||{},r=Array.from(this.initFns.keys()).map(t=>e[t]?this.loadModule(t,...e[t]):this.loadModule(t));return this.loadModulesPromise=Promise.all(r).then(()=>Promise.resolve()),this.loadModulesPromise}}};Yt.addModule("foundation",t=>{const e=new s(t);return new Promise((t,r)=>{e.onRuntimeInitialized=()=>{const r={};r.FoundationInterfaceTag=Object.freeze({ALG:1,ALG_INFO:2,ALG_INFO_DESERIALIZER:3,ALG_INFO_SERIALIZER:4,ASN1_READER:5,ASN1_WRITER:6,AUTH_DECRYPT:7,AUTH_ENCRYPT:8,CIPHER:9,CIPHER_AUTH:10,CIPHER_AUTH_INFO:11,CIPHER_INFO:12,COMPUTE_SHARED_KEY:13,DECRYPT:14,ENCRYPT:15,ENTROPY_SOURCE:16,HASH:17,KDF:18,KEM:19,KEY:20,KEY_ALG:21,KEY_CIPHER:22,KEY_DESERIALIZER:23,KEY_SERIALIZER:24,KEY_SIGNER:25,MAC:26,MESSAGE_INFO_FOOTER_SERIALIZER:27,MESSAGE_INFO_SERIALIZER:28,PADDING:29,PRIVATE_KEY:30,PUBLIC_KEY:31,RANDOM:32,SALTED_KDF:33}),r.FoundationInterface=((t,e)=>class{static newAndTakeCContext(r){const n=t._vscf_impl_tag(r);switch(n){case e.FoundationImplTag.SHA224:return e.Sha224.newAndTakeCContext(r);case e.FoundationImplTag.SHA256:return e.Sha256.newAndTakeCContext(r);case e.FoundationImplTag.SHA384:return e.Sha384.newAndTakeCContext(r);case e.FoundationImplTag.SHA512:return e.Sha512.newAndTakeCContext(r);case e.FoundationImplTag.AES256_GCM:return e.Aes256Gcm.newAndTakeCContext(r);case e.FoundationImplTag.AES256_CBC:return e.Aes256Cbc.newAndTakeCContext(r);case e.FoundationImplTag.ASN1RD:return e.Asn1rd.newAndTakeCContext(r);case e.FoundationImplTag.ASN1WR:return e.Asn1wr.newAndTakeCContext(r);case e.FoundationImplTag.RSA_PUBLIC_KEY:return e.RsaPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.RSA_PRIVATE_KEY:return e.RsaPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.RSA:return e.Rsa.newAndTakeCContext(r);case e.FoundationImplTag.ECC_PUBLIC_KEY:return e.EccPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.ECC_PRIVATE_KEY:return e.EccPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.ECC:return e.Ecc.newAndTakeCContext(r);case e.FoundationImplTag.ENTROPY_ACCUMULATOR:return e.EntropyAccumulator.newAndTakeCContext(r);case e.FoundationImplTag.CTR_DRBG:return e.CtrDrbg.newAndTakeCContext(r);case e.FoundationImplTag.HMAC:return e.Hmac.newAndTakeCContext(r);case e.FoundationImplTag.HKDF:return e.Hkdf.newAndTakeCContext(r);case e.FoundationImplTag.KDF1:return e.Kdf1.newAndTakeCContext(r);case e.FoundationImplTag.KDF2:return e.Kdf2.newAndTakeCContext(r);case e.FoundationImplTag.FAKE_RANDOM:return e.FakeRandom.newAndTakeCContext(r);case e.FoundationImplTag.PKCS5_PBKDF2:return e.Pkcs5Pbkdf2.newAndTakeCContext(r);case e.FoundationImplTag.PKCS5_PBES2:return e.Pkcs5Pbes2.newAndTakeCContext(r);case e.FoundationImplTag.SEED_ENTROPY_SOURCE:return e.SeedEntropySource.newAndTakeCContext(r);case e.FoundationImplTag.KEY_MATERIAL_RNG:return e.KeyMaterialRng.newAndTakeCContext(r);case e.FoundationImplTag.RAW_PUBLIC_KEY:return e.RawPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.RAW_PRIVATE_KEY:return e.RawPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.PKCS8_SERIALIZER:return e.Pkcs8Serializer.newAndTakeCContext(r);case e.FoundationImplTag.SEC1_SERIALIZER:return e.Sec1Serializer.newAndTakeCContext(r);case e.FoundationImplTag.KEY_ASN1_SERIALIZER:return e.KeyAsn1Serializer.newAndTakeCContext(r);case e.FoundationImplTag.KEY_ASN1_DESERIALIZER:return e.KeyAsn1Deserializer.newAndTakeCContext(r);case e.FoundationImplTag.ED25519:return e.Ed25519.newAndTakeCContext(r);case e.FoundationImplTag.CURVE25519:return e.Curve25519.newAndTakeCContext(r);case e.FoundationImplTag.FALCON:return e.Falcon.newAndTakeCContext(r);case e.FoundationImplTag.ROUND5:return e.Round5.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_KEY_ALG_INFO:return e.CompoundKeyAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_PUBLIC_KEY:return e.CompoundPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_PRIVATE_KEY:return e.CompoundPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.COMPOUND_KEY_ALG:return e.CompoundKeyAlg.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_KEY_ALG_INFO:return e.HybridKeyAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_PUBLIC_KEY:return e.HybridPublicKey.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_PRIVATE_KEY:return e.HybridPrivateKey.newAndTakeCContext(r);case e.FoundationImplTag.HYBRID_KEY_ALG:return e.HybridKeyAlg.newAndTakeCContext(r);case e.FoundationImplTag.SIMPLE_ALG_INFO:return e.SimpleAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.HASH_BASED_ALG_INFO:return e.HashBasedAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.CIPHER_ALG_INFO:return e.CipherAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.SALTED_KDF_ALG_INFO:return e.SaltedKdfAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.PBE_ALG_INFO:return e.PbeAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.ECC_ALG_INFO:return e.EccAlgInfo.newAndTakeCContext(r);case e.FoundationImplTag.ALG_INFO_DER_SERIALIZER:return e.AlgInfoDerSerializer.newAndTakeCContext(r);case e.FoundationImplTag.ALG_INFO_DER_DESERIALIZER:return e.AlgInfoDerDeserializer.newAndTakeCContext(r);case e.FoundationImplTag.MESSAGE_INFO_DER_SERIALIZER:return e.MessageInfoDerSerializer.newAndTakeCContext(r);case e.FoundationImplTag.RANDOM_PADDING:return e.RandomPadding.newAndTakeCContext(r);default:throw new Error("Unexpected implementation tag found: "+n)}}static newAndUseCContext(r){return new e.FoundationInterface.newAndTakeCContext(t._vscf_impl_shallow_copy(r))}static isImplemented(e,r){return 0!=t._vscf_impl_api(e,r)}})(e,r),r.FoundationImplTag=Object.freeze({AES256_CBC:1,AES256_GCM:2,ALG_INFO_DER_DESERIALIZER:3,ALG_INFO_DER_SERIALIZER:4,ASN1RD:5,ASN1WR:6,CIPHER_ALG_INFO:7,COMPOUND_KEY_ALG:8,COMPOUND_KEY_ALG_INFO:9,COMPOUND_PRIVATE_KEY:10,COMPOUND_PUBLIC_KEY:11,CTR_DRBG:12,CURVE25519:13,ECC:14,ECC_ALG_INFO:15,ECC_PRIVATE_KEY:16,ECC_PUBLIC_KEY:17,ED25519:18,ENTROPY_ACCUMULATOR:19,FAKE_RANDOM:20,FALCON:21,HASH_BASED_ALG_INFO:22,HKDF:23,HMAC:24,HYBRID_KEY_ALG:25,HYBRID_KEY_ALG_INFO:26,HYBRID_PRIVATE_KEY:27,HYBRID_PUBLIC_KEY:28,KDF1:29,KDF2:30,KEY_ASN1_DESERIALIZER:31,KEY_ASN1_SERIALIZER:32,KEY_MATERIAL_RNG:33,MESSAGE_INFO_DER_SERIALIZER:34,PBE_ALG_INFO:35,PKCS5_PBES2:36,PKCS5_PBKDF2:37,PKCS8_SERIALIZER:38,RANDOM_PADDING:39,RAW_PRIVATE_KEY:40,RAW_PUBLIC_KEY:41,ROUND5:42,RSA:43,RSA_PRIVATE_KEY:44,RSA_PUBLIC_KEY:45,SALTED_KDF_ALG_INFO:46,SEC1_SERIALIZER:47,SEED_ENTROPY_SOURCE:48,SHA224:49,SHA256:50,SHA384:51,SHA512:52,SIMPLE_ALG_INFO:53}),r.FoundationError=o(),r.Asn1Tag=Object.freeze({BOOLEAN:0,INTEGER:1,BIT_STRING:2,OCTET_STRING:3,NULL:4,OID:5,UTF8_STRING:6,SEQUENCE:7,SET:8,PRINTABLE_STRING:9,T61_STRING:10,IA5_STRING:11,UTC_TIME:12,GENERALIZED_TIME:13,UNIVERSAL_STRING:14,BMP_STRING:15,PRIMITIVE:16,CONSTRUCTED:17,CONTEXT_SPECIFIC:18}),r.AlgId=Object.freeze({NONE:0,SHA224:1,SHA256:2,SHA384:3,SHA512:4,KDF1:5,KDF2:6,RSA:7,ED25519:8,CURVE25519:9,SECP256R1:10,AES256_GCM:11,AES256_CBC:12,HMAC:13,HKDF:14,PKCS5_PBKDF2:15,PKCS5_PBES2:16,COMPOUND_KEY:17,HYBRID_KEY:18,FALCON:19,ROUND5_ND_1CCA_5D:20,RANDOM_PADDING:21}),r.OidId=Object.freeze({NONE:0,RSA:1,ED25519:2,CURVE25519:3,SHA224:4,SHA256:5,SHA384:6,SHA512:7,KDF1:8,KDF2:9,AES256_GCM:10,AES256_CBC:11,PKCS5_PBKDF2:12,PKCS5_PBES2:13,CMS_DATA:14,CMS_ENVELOPED_DATA:15,HKDF_WITH_SHA256:16,HKDF_WITH_SHA384:17,HKDF_WITH_SHA512:18,HMAC_WITH_SHA224:19,HMAC_WITH_SHA256:20,HMAC_WITH_SHA384:21,HMAC_WITH_SHA512:22,EC_GENERIC_KEY:23,EC_DOMAIN_SECP256R1:24,COMPOUND_KEY:25,HYBRID_KEY:26,FALCON:27,ROUND5_ND_1CCA_5D:28,RANDOM_PADDING:29}),r.GroupMsgType=Object.freeze({GROUP_INFO:0,REGULAR:1}),r.CipherState=Object.freeze({INITIAL:0,ENCRYPTION:1,DECRYPTION:2}),r.Oid=((t,e)=>class{static fromAlgId(e){_.ensureNumber("algId",e);const r=t._vsc_data_ctx_size(),n=t._malloc(r);try{t._vscf_oid_from_alg_id(n,e);const r=t._vsc_data_len(n),i=t._vsc_data_bytes(n);return t.HEAPU8.slice(i,i+r)}finally{t._free(n)}}static toAlgId(e){_.ensureByteArray("oid",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_oid_to_alg_id(s),o}finally{t._free(n),t._free(s)}}static fromId(e){_.ensureNumber("oidId",e);const r=t._vsc_data_ctx_size(),n=t._malloc(r);try{t._vscf_oid_from_id(n,e);const r=t._vsc_data_len(n),i=t._vsc_data_bytes(n);return t.HEAPU8.slice(i,i+r)}finally{t._free(n)}}static toId(e){_.ensureByteArray("oid",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);let o;t._vsc_data(s,n,r);try{return o=t._vscf_oid_to_id(s),o}finally{t._free(n),t._free(s)}}static idToAlgId(e){let r;return _.ensureNumber("oidId",e),r=t._vscf_oid_id_to_alg_id(e),r}static equal(e,r){_.ensureByteArray("lhs",e),_.ensureByteArray("rhs",r);const n=e.length*e.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(e,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(a);t.HEAP8.set(r,c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);let f;t._vsc_data(l,c,a);try{return f=t._vscf_oid_equal(o,l),!!f}finally{t._free(i),t._free(o),t._free(c),t._free(l)}}})(e),r.Base64=((t,e)=>class{static encodedLen(e){let r;return _.ensureNumber("dataLen",e),r=t._vscf_base64_encoded_len(e),r}static encode(r){_.ensureByteArray("data",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=e.Base64.encodedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{t._vscf_base64_encode(o,c);const e=t._vsc_buffer_bytes(c),r=t._vsc_buffer_len(c);return t.HEAPU8.slice(e,e+r)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}static decodedLen(e){let r;return _.ensureNumber("strLen",e),r=t._vscf_base64_decoded_len(e),r}static decode(r){_.ensureByteArray("str",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=e.Base64.decodedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_base64_decode(o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}})(e,r),r.Pem=((t,e)=>class{static wrappedLen(e,r){let n;return _.ensureNumber("title",e),_.ensureNumber("dataLen",r),n=t._vscf_pem_wrapped_len(e,r),n}static wrap(r,n){_.ensureNumber("title",r),_.ensureByteArray("data",n);const i=n.length*n.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(n,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=e.Pem.wrappedLen(r,n.length),u=t._vsc_buffer_new_with_capacity(c);try{t._vscf_pem_wrap(r,a,u);const e=t._vsc_buffer_bytes(u),n=t._vsc_buffer_len(u);return t.HEAPU8.slice(e,e+n)}finally{t._free(s),t._free(a),t._vsc_buffer_delete(u)}}static unwrappedLen(e){let r;return _.ensureNumber("pemLen",e),r=t._vscf_pem_unwrapped_len(e),r}static unwrap(r){_.ensureByteArray("pem",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=e.Pem.unwrappedLen(r.length),c=t._vsc_buffer_new_with_capacity(a);try{const r=t._vscf_pem_unwrap(o,c);e.FoundationError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c);return t.HEAPU8.slice(n,n+s)}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c)}}static title(e){_.ensureByteArray("pem",e);const r=e.length*e.BYTES_PER_ELEMENT,n=t._malloc(r);t.HEAP8.set(e,n);const i=t._vsc_data_ctx_size(),s=t._malloc(i);t._vsc_data(s,n,r);const o=t._vsc_data_ctx_size(),a=t._malloc(o);try{t._vscf_pem_title(a,s);const e=t._vsc_data_len(a),r=t._vsc_data_bytes(a);return t.HEAPU8.slice(r,r+e)}finally{t._free(n),t._free(s),t._free(a)}}})(e,r),r.MessageInfo=f(e,r),r.KeyRecipientInfo=d(e,r),r.KeyRecipientInfoList=p(e,r),r.PasswordRecipientInfo=h(e,r),r.PasswordRecipientInfoList=y(e,r),r.AlgFactory=((t,e)=>class{static createHashFromInfo(r){let n;return _.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_hash_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createMacFromInfo(r){let n;return _.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_mac_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createKdfFromInfo(r){let n;return _.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_kdf_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createSaltedKdfFromInfo(r){let n;return _.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_salted_kdf_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createCipherFromInfo(r){let n;return _.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),n=t._vscf_alg_factory_create_cipher_from_info(r.ctxPtr),e.FoundationInterface.newAndTakeCContext(n)}static createPaddingFromInfo(r,n){let i;return _.ensureImplementInterface("algInfo",r,"Foundation.AlgInfo",e.FoundationInterfaceTag.ALG_INFO,e.FoundationInterface),_.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface),i=t._vscf_alg_factory_create_padding_from_info(r.ctxPtr,n.ctxPtr),e.FoundationInterface.newAndTakeCContext(i)}})(e,r),r.KeyAlgFactory=((t,e)=>class{static createFromAlgId(r,n){_.ensureNumber("algId",r),_.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_key_alg_factory_create_from_alg_id(r,n.ctxPtr,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}static createFromKey(r,n){_.ensureImplementInterface("key",r,"Foundation.Key",e.FoundationInterfaceTag.KEY,e.FoundationInterface),_.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_key_alg_factory_create_from_key(r.ctxPtr,n.ctxPtr,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}static createFromRawPublicKey(r,n){_.ensureClass("publicKey",r,e.RawPublicKey),_.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_key_alg_factory_create_from_raw_public_key(r.ctxPtr,n.ctxPtr,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}static createFromRawPrivateKey(r,n){_.ensureClass("privateKey",r,e.RawPrivateKey),_.ensureImplementInterface("random",n,"Foundation.Random",e.FoundationInterfaceTag.RANDOM,e.FoundationInterface);const i=t._vscf_error_ctx_size(),s=t._malloc(i);let o;t._vscf_error_reset(s);try{o=t._vscf_key_alg_factory_create_from_raw_private_key(r.ctxPtr,n.ctxPtr,s);const i=t._vscf_error_status(s);return e.FoundationError.handleStatusCode(i),e.FoundationInterface.newAndTakeCContext(o)}finally{t._free(s)}}})(e,r),r.Ecies=v(e,r),r.RecipientCipher=m(e,r),r.MessageInfoCustomParams=g(e,r),r.KeyProvider=P(e,r),r.Signer=x(e,r),r.Verifier=b(e,r),r.BrainkeyClient=w(e,r),r.BrainkeyServer=E(e,r),r.GroupSessionMessage=k(e,r),r.GroupSessionTicket=I(e,r),r.GroupSession=N(e,r),r.MessageInfoEditor=A(e,r),r.SignerInfo=C(e,r),r.SignerInfoList=T(e,r),r.MessageInfoFooter=S(e,r),r.SignedDataInfo=F(e,r),r.FooterInfo=K(e,r),r.KeyInfo=R(e,r),r.PaddingParams=L(e),r.Sha224=B(e,r),r.Sha256=O(e,r),r.Sha384=D(e,r),r.Sha512=M(e,r),r.Aes256Gcm=U(e,r),r.Aes256Cbc=z(e,r),r.Asn1rd=H(e,r),r.Asn1wr=j(e,r),r.RsaPublicKey=Y(e,r),r.RsaPrivateKey=V(e,r),r.Rsa=q(e,r),r.EccPublicKey=G(e,r),r.EccPrivateKey=W(e,r),r.Ecc=X(e,r),r.EntropyAccumulator=$(e,r),r.CtrDrbg=J(e,r),r.Hmac=Z(e,r),r.Hkdf=Q(e,r),r.Kdf1=tt(e,r),r.Kdf2=et(e,r),r.FakeRandom=rt(e,r),r.Pkcs5Pbkdf2=nt(e,r),r.Pkcs5Pbes2=it(e,r),r.SeedEntropySource=st(e,r),r.KeyMaterialRng=ot(e,r),r.RawPublicKey=at(e,r),r.RawPrivateKey=ct(e,r),r.Pkcs8Serializer=ut(e,r),r.Sec1Serializer=lt(e,r),r.KeyAsn1Serializer=_t(e,r),r.KeyAsn1Deserializer=ft(e,r),r.Ed25519=dt(e,r),r.Curve25519=pt(e,r),r.Falcon=ht(e,r),r.Round5=yt(e,r),r.CompoundKeyAlgInfo=vt(e,r),r.CompoundPublicKey=mt(e,r),r.CompoundPrivateKey=gt(e,r),r.CompoundKeyAlg=Pt(e,r),r.HybridKeyAlgInfo=xt(e,r),r.HybridPublicKey=bt(e,r),r.HybridPrivateKey=wt(e,r),r.HybridKeyAlg=Et(e,r),r.SimpleAlgInfo=kt(e),r.HashBasedAlgInfo=It(e,r),r.CipherAlgInfo=Nt(e),r.SaltedKdfAlgInfo=At(e,r),r.PbeAlgInfo=Ct(e,r),r.EccAlgInfo=Tt(e),r.AlgInfoDerSerializer=St(e,r),r.AlgInfoDerDeserializer=Ft(e,r),r.MessageInfoDerSerializer=Kt(e,r),r.RandomPadding=Rt(e,r),t(r)},e.onAbort=t=>{r(new Error(t))}})}),Yt.on("load",(t,e)=>{"foundation"===t&&(jt(),(t=>{Dt=new t.CtrDrbg;try{Dt.setupDefaults()}catch(t){throw Dt.delete(),t}Mt=new t.KeyProvider,Mt.random=Dt;try{Mt.setupDefaults()}catch(t){throw Dt.delete(),Mt.delete(),t}})(e))}),Yt.on("remove",t=>{"foundation"===t&&jt()});const Vt=()=>Yt.getModule("foundation"),qt=Yt.loadModules;var Gt,Wt;!function(t){t.SHA224="SHA224",t.SHA256="SHA256",t.SHA384="SHA384",t.SHA512="SHA512"}(Gt||(Gt={})),function(t){t.DEFAULT="DEFAULT",t.ED25519="ED25519",t.CURVE25519="CURVE25519",t.SECP256R1="SECP256R1",t.RSA_2048="RSA_2048",t.RSA_3072="RSA_3072",t.RSA_4096="RSA_4096",t.RSA_8192="RSA_8192",t.CURVE25519_ROUND5_ED25519_FALCON="CURVE25519_ROUND5_ED25519_FALCON",t.CURVE25519_ED25519="CURVE25519_ED25519"}(Wt||(Wt={}));const Xt=t=>{const{AlgId:e}=Yt.getModule("foundation");switch(t){case Wt.DEFAULT:return{type:Wt.DEFAULT,algId:e.ED25519};case Wt.ED25519:return{type:Wt.ED25519,algId:e.ED25519};case Wt.CURVE25519:return{type:Wt.CURVE25519,algId:e.CURVE25519};case Wt.SECP256R1:return{type:Wt.SECP256R1,algId:e.SECP256R1};case Wt.RSA_2048:return{type:Wt.RSA_2048,algId:e.RSA,bitlen:2048};case Wt.RSA_3072:return{type:Wt.RSA_3072,algId:e.RSA,bitlen:3072};case Wt.RSA_4096:return{type:Wt.RSA_4096,algId:e.RSA,bitlen:4096};case Wt.RSA_8192:return{type:Wt.RSA_8192,algId:e.RSA,bitlen:8192};case Wt.CURVE25519_ROUND5_ED25519_FALCON:return{type:Wt.CURVE25519_ROUND5_ED25519_FALCON,cipherAlgIds:[e.CURVE25519,e.ROUND5_ND_1CCA_5D],signerAlgIds:[e.ED25519,e.FALCON]};case Wt.CURVE25519_ED25519:return{type:Wt.CURVE25519_ED25519,cipherAlgIds:[e.CURVE25519,e.NONE],signerAlgIds:[e.ED25519,e.NONE]};default:throw new TypeError(`Unknown key pair type '${t}'.`)}};for(var $t=[],Jt=[],Zt="undefined"!=typeof Uint8Array?Uint8Array:Array,Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,ee=Qt.length;te<ee;++te)$t[te]=Qt[te],Jt[Qt.charCodeAt(te)]=te;function re(t,e,r){for(var n,i=[],s=e;s<r;s+=3)i.push($t[(n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+$t[n>>12&63]+$t[n>>6&63]+$t[63&n]);return i.join("")}Jt["-".charCodeAt(0)]=62,Jt["_".charCodeAt(0)]=63;var ne,ie=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,_=r?i-1:0,f=r?-1:1,d=t[e+_];for(_+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+_],_+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+_],_+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},se=function(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,_=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+_>=1?f/c:f*Math.pow(2,1-_))*c>=2&&(o++,c/=2),o+_>=l?(a=0,o=l):o+_>=1?(a=(e*c-1)*Math.pow(2,i),o+=_):(a=e*Math.pow(2,_-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*h},oe=(function(t,e){var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function n(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,i.prototype),e}function i(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return s(t,e,r)}function s(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|_(t,e),s=n(r),o=s.write(t,e);return o!==r&&(s=s.slice(0,o)),s}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(O(t,ArrayBuffer)||t&&O(t.buffer,ArrayBuffer))return u(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(O(t,SharedArrayBuffer)||t&&O(t.buffer,SharedArrayBuffer)))return u(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var s=t.valueOf&&t.valueOf();if(null!=s&&s!==t)return i.from(s,e,r);var o=function(t){if(i.isBuffer(t)){var e=0|l(t.length),r=n(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||D(t.length)?n(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return i.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return o(t),n(t<0?0:0|l(t))}function c(t){for(var e=t.length<0?0:0|l(t.length),r=n(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function u(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,i.prototype),n}function l(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function _(t,e){if(i.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||O(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(t).length;default:if(s)return n?-1:R(t).length;e=(""+e).toLowerCase(),s=!0}}function f(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return w(this,e,r);case"ascii":return E(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return b(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p(t,e,r,n,s){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),D(r=+r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof e&&(e=i.from(e,n)),i.isBuffer(e))return 0===e.length?-1:h(t,e,r,n,s);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):h(t,[e],r,n,s);throw new TypeError("val must be string, number or Buffer")}function h(t,e,r,n,i){var s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var _=!0,f=0;f<c;f++)if(u(t,s+f)!==u(e,f)){_=!1;break}if(_)return s}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(D(a))return o;t[r+o]=a}return o}function v(t,e,r,n){return B(R(e,t.length-r),t,r,n)}function m(t,e,r,n){return B(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function g(t,e,r,n){return m(t,e,r,n)}function P(t,e,r,n){return B(L(e),t,r,n)}function x(t,e,r,n){return B(function(t,e){for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function b(t,e,r){return function(t){for(var e,r=t.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(re(t,s,s+16383>o?o:s+16383));return 1===n?i.push($t[(e=t[r-1])>>2]+$t[e<<4&63]+"=="):2===n&&i.push($t[(e=(t[r-2]<<8)+t[r-1])>>10]+$t[e>>4&63]+$t[e<<2&63]+"="),i.join("")}(0===e&&r===t.length?t:t.slice(e,r))}function w(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,u=t[i],l=null,_=u>239?4:u>223?3:u>191?2:1;if(i+_<=r)switch(_){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:o=t[i+2],128==(192&(s=t[i+1]))&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+2],a=t[i+3],128==(192&(s=t[i+1]))&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,_=1):l>65535&&(n.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=_}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function E(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=M[t[s]];return i}function N(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function A(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,s,o){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function S(t,e,r,n,i){return e=+e,r>>>=0,i||T(t,0,r,4),se(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return e=+e,r>>>=0,i||T(t,0,r,8),se(t,e,r,n,52,8),r+8}e.Buffer=i,e.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,(i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(t,e,r){return s(t,e,r)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(t,e,r){return function(t,e,r){return o(t),t<=0?n(t):void 0!==e?"string"==typeof r?n(t).fill(e,r):n(t).fill(e):n(t)}(t,e,r)},i.allocUnsafe=function(t){return a(t)},i.allocUnsafeSlow=function(t){return a(t)},i.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==i.prototype},i.compare=function(t,e){if(O(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),O(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,s=0,o=Math.min(r,n);s<o;++s)if(t[s]!==e[s]){r=t[s],n=e[s];break}return r<n?-1:n<r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=i.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){var o=t[r];if(O(o,Uint8Array)&&(o=i.from(o)),!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,s),s+=o.length}return n},i.byteLength=_,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?w(this,0,t):f.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(t,e,r,n,s){if(O(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),e<0||r>t.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&e>=r)return 0;if(n>=s)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),c=Math.min(o,a),u=this.slice(n,s),l=t.slice(e,r),_=0;_<c;++_)if(u[_]!==l[_]){o=u[_],a=l[_];break}return o<a?-1:a<o?1:0},i.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},i.prototype.indexOf=function(t,e,r){return p(this,t,e,r,!0)},i.prototype.lastIndexOf=function(t,e,r){return p(this,t,e,r,!1)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return g(this,t,e,r);case"base64":return P(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,i.prototype),n},i.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},i.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},i.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},i.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},i.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),ie(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),ie(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),ie(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),ie(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,r){return S(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return S(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(!i.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var s=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=s-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return s},i.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var s=t.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(t=s)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=i.isBuffer(t)?t:i.from(t,n),c=a.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%c]}return this};var K=/[^+/0-9A-Za-z-_]/g;function R(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function L(t){return function(t){var e,r,n=function(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}(t),i=n[0],s=n[1],o=new Zt(function(t,e,r){return 3*(e+r)/4-r}(0,i,s)),a=0,c=s>0?i-4:i;for(r=0;r<c;r+=4)e=Jt[t.charCodeAt(r)]<<18|Jt[t.charCodeAt(r+1)]<<12|Jt[t.charCodeAt(r+2)]<<6|Jt[t.charCodeAt(r+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===s&&(e=Jt[t.charCodeAt(r)]<<2|Jt[t.charCodeAt(r+1)]>>4,o[a++]=255&e),1===s&&(e=Jt[t.charCodeAt(r)]<<10|Jt[t.charCodeAt(r+1)]<<4|Jt[t.charCodeAt(r+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o}(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function O(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function D(t){return t!=t}var M=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}()}(ne={exports:{}},ne.exports),ne.exports).Buffer;const ae=(ce=oe,(t,e)=>{if("string"==typeof t){if("string"==typeof e&&!ce.isEncoding(e))throw new TypeError("Invalid default encoding.");return ce.from(t,e)}if(t instanceof Uint8Array)return t;if("object"==typeof t&&"string"==typeof t.value&&ce.isEncoding(t.encoding))return ce.from(t.value,t.encoding);throw new TypeError("Invalid format of 'Data'.")});var ce;const ue=(t=>e=>{let r=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r})(oe),le=oe.from("VIRGIL-DATA-SIGNATURE","utf8"),_e=oe.from("VIRGIL-DATA-SIGNER-ID","utf8");class fe{constructor(t,e){this.identifier=ue(t),this.lowLevelPrivateKey=e,this._isDisposed=!1}get isDisposed(){return this._isDisposed}dispose(){this.lowLevelPrivateKey.delete(),this._isDisposed=!0}}class de{constructor(t,e){this.identifier=ue(t),this.lowLevelPublicKey=e,this._isDisposed=!1}get isDisposed(){return this._isDisposed}get key(){const t=new(Vt().KeyAsn1Serializer);try{return t.setupDefaults(),t.serializePublicKey(this.lowLevelPublicKey)}finally{t.delete()}}dispose(){this.lowLevelPublicKey.delete(),this._isDisposed=!0}}function pe(t){if(!(t instanceof fe))throw new TypeError("An argument is not an instance of 'VirgilPrivateKey' class.");if(t.isDisposed)throw new TypeError("Cannot use an instance of 'VirgilPrivateKey' class after it was disposed.")}function he(t){if(!(t instanceof de))throw new TypeError("An argument is not a 'VirgilPublicKey'.");if(t.isDisposed)throw new TypeError("Cannot use an instance of 'VirgilPublicKey' class after it was disposed.")}function ye(t){if(!Array.isArray(t))throw new TypeError("An argument is not an array.");if(!t.length)throw new TypeError("An array of 'VirgilPublicKey' instances should not be empty.");t.forEach(he)}function ve(t){if(!(t instanceof Uint8Array))throw new TypeError("An argument is not an instance of 'Uint8Array' class.");if(t.byteLength<10)throw new TypeError("An argument byte length is too small. Expected to be at least '10' bytes.")}function me(t){const e=Vt().GroupSessionMessage.deserialize(t),r={epochNumber:e.getEpoch(),sessionId:ue(e.getSessionId()).toString("hex"),data:ue(t).toString("base64")};return e.delete(),r}function ge(t){const e=Vt().GroupSessionMessage.deserialize(t),r=e.getEpoch();return e.delete(),r}function Pe(t){const e=new(Vt().GroupSession);e.rng=zt();const r=[];try{for(const n of t){const t=Vt().GroupSessionMessage.deserialize(n);r.push(t),e.addEpoch(t)}return e}finally{for(;r.length;){const t=r.pop();t&&t.delete()}}}function xe(t){const e=new(Vt().Sha512);try{return e.hash(t).subarray(0,32)}finally{e.delete()}}function be(t){return t=t.slice().sort((t,e)=>ge(t)-ge(e)),{getSessionId(){const e=Pe(t),r=e.getSessionId();return e.delete(),ue(r).toString("hex")},getCurrentEpochNumber:()=>ge(t[t.length-1]),encrypt(e,r){const n=ae(e,"utf8");let i;pe(r);try{i=Pe(t);const e=i.encrypt(n,r.lowLevelPrivateKey),s=e.serialize();return e.delete(),ue(s)}finally{i&&i.delete()}},decrypt(e,r){const n=ae(e,"base64");let i,s;he(r);try{return i=Pe(t),s=Vt().GroupSessionMessage.deserialize(n),ue(i.decrypt(s,r.lowLevelPublicKey))}finally{s&&s.delete(),i&&i.delete()}},addNewEpoch(){const e=Pe(t);try{const r=e.createGroupTicket(),n=r.getTicketMessage(),i=n.serialize();return t.push(i),n.delete(),r.delete(),me(i)}finally{e.delete()}},export:()=>t.map(ue),parseMessage:t=>me(ae(t,"base64"))}}const we=t=>null==t?[]:Array.isArray(t)?t:[t];var Ee;!function(t){t.STREAM_ILLEGAL_STATE="STREAM_ILLEGAL_STATE",t.DATA_NOT_SIGNED="DATA_NOT_SIGNED",t.SIGNER_NOT_FOUND="SIGNER_NOT_FOUND",t.INVALID_SIGNATURE="INVALID_SIGNATURE"}(Ee||(Ee={}));let ke=(()=>{class t extends Error{constructor(e,r){super(r||t.DEFAULT_MESSAGE),Object.setPrototypeOf(this,t.prototype),this.name="VirgilCryptoError",this.status=e}}return t.DEFAULT_MESSAGE="Use the 'status' property and 'VirgilCryptoErrorStatus' enum to check for specific error.",t})();class Ie{constructor(t,e){const r=Vt(),n=we(t);if(ye(n),this.recipientCipher=new r.RecipientCipher,this.aes256Gcm=new r.Aes256Gcm,this.recipientCipher.encryptionCipher=this.aes256Gcm,this.recipientCipher.random=zt(),n.forEach(t=>{this.recipientCipher.addKeyRecipient(t.identifier,t.lowLevelPublicKey)}),e){const t=ae(e,"base64");this.messageInfoCustomParams=this.recipientCipher.customParams(),this.messageInfoCustomParams.addData(le,t)}this._isFinished=!1,this._isRunning=!1,this._isDisposed=!1}get isRunning(){return this._isRunning}get isFinished(){return this._isFinished}get isDisposed(){return this._isDisposed}start(){return this.ensureLegalState(),this.recipientCipher.startEncryption(),this._isRunning=!0,ue(this.recipientCipher.packMessageInfo())}update(t){this.ensureLegalState(),this.ensureIsRunning();const e=ae(t,"utf8");return ue(this.recipientCipher.processEncryption(e))}final(t=!0){this.ensureLegalState(),this.ensureIsRunning();try{return ue(this.recipientCipher.finishEncryption())}finally{this._isFinished=!0,this._isRunning=!1,t&&this.dispose()}}dispose(){this.messageInfoCustomParams&&this.messageInfoCustomParams.delete(),this.aes256Gcm.delete(),this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}ensureIsRunning(){if(!this._isRunning)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher before the 'start' method.")}}class Ne{constructor(t){this._isFinished=!1,this._isDisposed=!1;const e=Vt();pe(t),this.recipientCipher=new e.RecipientCipher;try{this.recipientCipher.startDecryptionWithKey(t.identifier,t.lowLevelPrivateKey,new Uint8Array)}catch(t){throw this.recipientCipher.delete(),t}}get isFinished(){return this._isFinished}get isDisposed(){return this._isDisposed}getSignature(){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot get signature after the 'dispose' method has been called.");if(!this._isFinished)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot get signature before the 'final' method has been called.");const t=this.recipientCipher.customParams();try{return ue(t.findData(le))}finally{t.delete()}}update(t){this.ensureLegalState();const e=ae(t,"utf8");return ue(this.recipientCipher.processDecryption(e))}final(t=!0){this.ensureLegalState();try{return ue(this.recipientCipher.finishDecryption())}finally{this._isFinished=!0,t&&this.dispose()}}dispose(){this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}}class Ae{constructor(){const t=Vt();this.paddingParams=t.PaddingParams.newWithConstraints(160,160),this.recipientCipher=new t.RecipientCipher,this.recipientCipher.random=zt(),this.recipientCipher.paddingParams=this.paddingParams,this._isDisposed=!1,this._isFinished=!1}start(t){this.ensureLegalState(),pe(t),this.recipientCipher.startDecryptionWithKey(t.identifier,t.lowLevelPrivateKey,new Uint8Array)}update(t){this.ensureLegalState();const e=ae(t),r=this.recipientCipher.processDecryption(e);return ue(r)}final(){this.ensureLegalState();const t=this.recipientCipher.finishDecryption();try{return ue(t)}finally{this._isFinished=!0}}verify(t,e=!0){const r=we(t);if(ye(r),this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot verify signature after the 'dispose' method has been called.");if(!this._isFinished)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot verify signature before the 'final' method has been called.");let n;try{if(!this.recipientCipher.isDataSigned())throw new ke(Ee.DATA_NOT_SIGNED);if(n=this.recipientCipher.signerInfos(),!n.hasItem())throw new ke(Ee.DATA_NOT_SIGNED);const t=n.item();let i;for(let e=0;e<r.length;e+=1){if(0===oe.compare(t.signerId(),r[e].identifier)){i=r[e];break}if(e===r.length-1)throw new ke(Ee.SIGNER_NOT_FOUND)}if(!this.recipientCipher.verifySignerInfo(t,i.lowLevelPublicKey))throw new ke(Ee.INVALID_SIGNATURE)}finally{n&&n.delete(),e&&this.dispose()}}dispose(){this.paddingParams.delete(),this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}}class Ce{constructor(t,e,r){pe(t);const n=we(e);ye(n);const i=Vt(),s=zt();this.recipientCipher=new i.RecipientCipher,this.aes256Gcm=new i.Aes256Gcm,this.sha512=new i.Sha512,this.recipientCipher.encryptionCipher=this.aes256Gcm,this.recipientCipher.random=s,this.recipientCipher.signerHash=this.sha512,r&&(this.randomPadding=new i.RandomPadding,this.randomPadding.random=s,this.recipientCipher.encryptionPadding=this.randomPadding,this.paddingParams=i.PaddingParams.newWithConstraints(160,160),this.recipientCipher.paddingParams=this.paddingParams),n.forEach(t=>{this.recipientCipher.addKeyRecipient(t.identifier,t.lowLevelPublicKey)});try{this.recipientCipher.addSigner(t.identifier,t.lowLevelPrivateKey),this._isDisposed=!1,this._isRunning=!1,this._isFinished=!1}catch(t){throw this.dispose(),t}}get isRunning(){return this._isRunning}get isFinished(){return this._isFinished}get isDisposed(){return this._isDisposed}start(t){this.ensureLegalState(),this.recipientCipher.startSignedEncryption(t);const e=this.recipientCipher.packMessageInfo();return this._isRunning=!0,ue(e)}update(t){this.ensureLegalState(),this.ensureIsRunning();const e=ae(t),r=this.recipientCipher.processEncryption(e);return ue(r)}final(t=!0){this.ensureLegalState(),this.ensureIsRunning();const e=this.recipientCipher.finishEncryption(),r=this.recipientCipher.packMessageInfoFooter();try{return oe.concat([e,r])}finally{this._isFinished=!0,this._isRunning=!1,t&&this.dispose()}}dispose(){this.sha512.delete(),this.aes256Gcm.delete(),this.randomPadding&&this.randomPadding.delete(),this.paddingParams&&this.paddingParams.delete(),this.recipientCipher.delete(),this._isDisposed=!0}ensureLegalState(){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'dispose' method has been called.");if(this._isFinished)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher after the 'final' method has been called.")}ensureIsRunning(){if(!this._isRunning)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use cipher before the 'start' method.")}}class Te{constructor(){this._isDisposed=!1;const t=Vt();this.signer=new t.Signer,this.sha512=new t.Sha512,this.signer.hash=this.sha512,this.signer.random=zt(),this.signer.reset()}get isDisposed(){return this._isDisposed}update(t){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use signer after the 'dispose' method has been called.");const e=ae(t,"utf8");return this.signer.appendData(e),this}sign(t,e=!0){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. The VirgilStreamSigner has been disposed. Pass 'false' as the second argument to the 'sign' method if you need to generate more than one signature.");pe(t);const r=this.signer.sign(t.lowLevelPrivateKey);return e&&this.dispose(),ue(r)}dispose(){this.sha512.delete(),this.signer.delete(),this._isDisposed=!0}}class Se{constructor(t){this._isDisposed=!1;const e=Vt(),r=ae(t,"base64");this.verifier=new e.Verifier;try{this.verifier.reset(r)}catch(t){throw this.verifier.delete(),t}}get isDisposed(){return this._isDisposed}update(t){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. Cannot use signer after the 'dispose' method has been called.");const e=ae(t,"utf8");return this.verifier.appendData(e),this}verify(t,e=!0){if(this._isDisposed)throw new ke(Ee.STREAM_ILLEGAL_STATE,"Illegal state. The VirgilStreamVerifier has been disposed. Pass 'false' as the second argument to the 'verify' method if you need to verify with more than one public key.");he(t);const r=this.verifier.verify(t.lowLevelPublicKey);return e&&this.dispose(),r}dispose(){this.verifier.delete(),this._isDisposed=!0}}class Fe{constructor(t={}){this.hashAlgorithm=Gt,this.keyPairType=Wt,this.defaultKeyPairType=t.defaultKeyPairType||Wt.DEFAULT,this.useSha256Identifiers=t.useSha256Identifiers||!1}generateKeys(t){const e=Xt(t||this.defaultKeyPairType);return this.generateKeyPair(Ht(),e)}generateKeysFromKeyMaterial(t,e){const r=Xt(e||this.defaultKeyPairType),n=ae(t,"base64"),i=Vt(),s=new i.KeyMaterialRng;s.resetKeyMaterial(n);const o=new i.KeyProvider;o.random=s;try{o.setupDefaults()}catch(t){throw s.delete(),o.delete(),t}try{return this.generateKeyPair(o,r)}finally{s.delete(),o.delete()}}importPrivateKey(t){const e=Ht(),r=ae(t,"base64"),n=e.importPrivateKey(r),i=n.extractPublicKey();try{const t=e.exportPublicKey(i),r=this.calculateKeyPairIdentifier(t);return new fe(r,n)}finally{i.delete()}}exportPrivateKey(t){pe(t);const e=Ht().exportPrivateKey(t.lowLevelPrivateKey);return ue(e)}importPublicKey(t){const e=ae(t,"base64"),r=Ht().importPublicKey(e),n=this.calculateKeyPairIdentifier(e);return new de(n,r)}exportPublicKey(t){he(t);const e=Ht().exportPublicKey(t.lowLevelPublicKey);return ue(e)}encrypt(t,e,r){const n=ae(t,"utf8"),i=we(e);ye(i);const s=Vt(),o=zt(),a=new s.RecipientCipher,c=new s.Aes256Gcm;let u,l;a.encryptionCipher=c,a.random=o,r&&(u=new s.RandomPadding,u.random=o,a.encryptionPadding=u,l=s.PaddingParams.newWithConstraints(160,160),a.paddingParams=l),i.forEach(({identifier:t},e)=>{a.addKeyRecipient(t,i[e].lowLevelPublicKey)});try{a.startEncryption();const t=a.packMessageInfo(),e=a.processEncryption(n),r=a.finishEncryption();return oe.concat([t,e,r])}finally{c.delete(),l&&l.delete(),u&&u.delete(),a.delete()}}decrypt(t,e){const r=ae(t,"base64");pe(e);const n=Vt(),i=new n.RecipientCipher;i.random=zt();const s=n.PaddingParams.newWithConstraints(160,160);i.paddingParams=s;try{i.startDecryptionWithKey(e.identifier,e.lowLevelPrivateKey,new Uint8Array);const t=i.processDecryption(r),n=i.finishDecryption();return oe.concat([t,n])}finally{s.delete(),i.delete()}}calculateHash(t,e=Gt.SHA512){const r=ae(t,"utf8");let n;switch(e){case Gt.SHA224:n=this.createHash(r,Vt().Sha224);break;case Gt.SHA256:n=this.createHash(r,Vt().Sha256);break;case Gt.SHA384:n=this.createHash(r,Vt().Sha384);break;case Gt.SHA512:n=this.createHash(r,Vt().Sha512);break;default:throw new TypeError("Unknown hash algorithm")}return ue(n)}extractPublicKey(t){pe(t);const e=t.lowLevelPrivateKey.extractPublicKey();return new de(t.identifier,e)}calculateSignature(t,e){const r=ae(t,"utf8");pe(e);const n=Vt(),i=new n.Signer,s=new n.Sha512;i.random=zt(),i.hash=s,i.reset(),i.appendData(r);try{const t=i.sign(e.lowLevelPrivateKey);return ue(t)}finally{i.delete(),s.delete()}}verifySignature(t,e,r){const n=ae(t,"utf8"),i=ae(e,"base64");he(r);const s=new(Vt().Verifier);try{s.reset(i)}catch(t){throw s.delete(),t}s.appendData(n);const o=s.verify(r.lowLevelPublicKey);return s.delete(),o}signAndEncrypt(t,e,r,n){const i=ae(t,"utf8");pe(e);const s=we(r);ye(s);const{messageInfo:o,processEncryption:a,finishEncryption:c,messageInfoFooter:u}=this._signAndEncrypt(i,e,s,n);return oe.concat([o,a,c,u])}signThenEncrypt(t,e,r,n){const i=ae(t,"utf8");pe(e);const s=we(r);ye(s);const{messageInfo:o,processEncryption:a,finishEncryption:c}=this._signThenEncrypt(i,e,s,n);return oe.concat([o,a,c])}decryptAndVerify(t,e,r){const n=ae(t,"base64");pe(e);const i=we(r);return ye(i),this._decryptAndVerify(n,new Uint8Array,e,i)}decryptThenVerify(t,e,r){const n=ae(t,"base64");pe(e);const i=we(r);return ye(i),this._decryptThenVerify(n,new Uint8Array,e,i)}getRandomBytes(t){!function(t){if("number"!=typeof t)throw new TypeError("An argument is not a number.");if(t<=0)throw new TypeError(`An argument should be greater that '0', but received '${t}'.`)}(t);const e=zt().random(t);return ue(e)}signThenEncryptDetached(t,e,r,n){const i=ae(t,"utf8");pe(e);const s=we(r);ye(s);const{messageInfo:o,processEncryption:a,finishEncryption:c}=this._signThenEncrypt(i,e,s,n);return{encryptedData:oe.concat([a,c]),metadata:ue(o)}}decryptThenVerifyDetached(t,e,r,n){const i=ae(t,"base64"),s=ae(e,"base64");pe(r);const o=we(n);return ye(o),this._decryptThenVerify(i,s,r,o)}createStreamCipher(t,e){return new Ie(t,e)}createStreamDecipher(t){return new Ne(t)}createStreamSignAndEncrypt(t,e,r){return new Ce(t,e,r)}createStreamDecryptAndVerify(){return new Ae}createStreamSigner(){return new Te}createStreamVerifier(t){return new Se(t)}generateGroupSession(t){const e=ae(t,"utf8");ve(e);const r=function(t){const e=new(Vt().GroupSessionTicket);e.rng=zt();try{return e.setupTicketAsNew(t),e.getTicketMessage()}finally{e.delete()}}(xe(e)),n=r.serialize();return r.delete(),be([n])}importGroupSession(t){if(!Array.isArray(t))throw new TypeError("Epoch messages must be an array.");if(0===t.length)throw new TypeError("Epoch messages must not be empty.");return be(t.map(t=>ae(t,"base64")))}calculateGroupSessionId(t){const e=ae(t,"utf8");return ve(e),ue(xe(e)).toString("hex")}createHash(t,e){const r=new e,n=r.hash(t);return r.delete(),n}calculateKeyPairIdentifier(t){return this.useSha256Identifiers?this.createHash(t,Vt().Sha256):this.createHash(t,Vt().Sha512).slice(0,8)}generateKeyPair(t,e){let r;if((n=e.type)===Wt.CURVE25519_ROUND5_ED25519_FALCON||n===Wt.CURVE25519_ED25519){const[n,i]=e.cipherAlgIds,[s,o]=e.signerAlgIds;r=t.generateCompoundHybridPrivateKey(n,i,s,o)}else(t=>t===Wt.RSA_2048||t===Wt.RSA_3072||t===Wt.RSA_4096||t===Wt.RSA_8192)(e.type)&&t.setRsaParams(e.bitlen),r=t.generatePrivateKey(e.algId);var n;const i=r.extractPublicKey();let s;try{s=t.exportPublicKey(i)}catch(t){throw r.delete(),i.delete(),t}const o=this.calculateKeyPairIdentifier(s);return{privateKey:new fe(o,r),publicKey:new de(o,i)}}_signAndEncrypt(t,e,r,n){const i=Vt(),s=zt(),o=new i.RecipientCipher,a=new i.Aes256Gcm,c=new i.Sha512;let u,l;o.encryptionCipher=a,o.random=s,o.signerHash=c,n&&(u=new i.RandomPadding,u.random=s,o.encryptionPadding=u,l=i.PaddingParams.newWithConstraints(160,160),o.paddingParams=l),r.forEach(({identifier:t},e)=>{o.addKeyRecipient(t,r[e].lowLevelPublicKey)});try{return o.addSigner(e.identifier,e.lowLevelPrivateKey),o.startSignedEncryption(t.length),{messageInfo:o.packMessageInfo(),processEncryption:o.processEncryption(t),finishEncryption:o.finishEncryption(),messageInfoFooter:o.packMessageInfoFooter()}}finally{c.delete(),a.delete(),u&&u.delete(),l&&l.delete(),o.delete()}}_signThenEncrypt(t,e,r,n){const i=Vt(),s=zt(),o=new i.RecipientCipher,a=new i.Aes256Gcm;let c,u;o.encryptionCipher=a,o.random=s,n&&(c=new i.RandomPadding,c.random=s,o.encryptionPadding=c,u=i.PaddingParams.newWithConstraints(160,160),o.paddingParams=u),r.forEach(({identifier:t},e)=>{o.addKeyRecipient(t,r[e].lowLevelPublicKey)});const l=o.customParams();try{const r=this.calculateSignature(t,e);return l.addData(le,r),l.addData(_e,e.identifier),o.startEncryption(),{messageInfo:o.packMessageInfo(),processEncryption:o.processEncryption(t),finishEncryption:o.finishEncryption()}}finally{l.delete(),a.delete(),c&&c.delete(),u&&u.delete(),o.delete()}}_decryptAndVerify(t,e,r,n){const i=Vt(),s=i.PaddingParams.newWithConstraints(160,160),o=new i.RecipientCipher;let a;o.random=zt(),o.paddingParams=s;try{o.startDecryptionWithKey(r.identifier,r.lowLevelPrivateKey,e);const n=o.processDecryption(t),i=o.finishDecryption();a=oe.concat([n,i])}catch(t){throw s.delete(),o.delete(),t}if(!o.isDataSigned())throw s.delete(),o.delete(),new ke(Ee.DATA_NOT_SIGNED);const c=o.signerInfos();if(!c.hasItem())throw s.delete(),c.delete(),o.delete(),new ke(Ee.DATA_NOT_SIGNED);const u=c.item();let l;for(let _=0;_<n.length;_+=1){if(0===oe.compare(u.signerId(),n[_].identifier)){l=n[_];break}if(_===n.length-1)throw s.delete(),u.delete(),c.delete(),o.delete(),new ke(Ee.SIGNER_NOT_FOUND)}if(!o.verifySignerInfo(u,l.lowLevelPublicKey))throw s.delete(),u.delete(),c.delete(),o.delete(),new ke(Ee.INVALID_SIGNATURE);return s.delete(),u.delete(),c.delete(),o.delete(),a}_decryptThenVerify(t,e,r,n){const i=Vt(),s=i.PaddingParams.newWithConstraints(160,160),o=new i.RecipientCipher;let a;o.random=zt(),o.paddingParams=s;try{o.startDecryptionWithKey(r.identifier,r.lowLevelPrivateKey,e);const n=o.processDecryption(t),i=o.finishDecryption();a=oe.concat([n,i])}catch(t){throw s.delete(),o.delete(),t}const c=o.customParams();let u;if(1===n.length)u=n[0];else{let e;try{e=c.findData(_e)}catch(t){throw s.delete(),o.delete(),c.delete(),t}for(let t=0;t<n.length;t+=1)if(0===oe.compare(e,n[t].identifier)){u=n[t];break}if(!u)throw c.delete(),s.delete(),o.delete(),new ke(Ee.SIGNER_NOT_FOUND)}try{const t=c.findData(le);if(!this.verifySignature(a,t,u))throw new ke(Ee.INVALID_SIGNATURE);return a}finally{c.delete(),s.delete(),o.delete()}}}var Ke,Re=function(t,e){return function(t,e){var r,n=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var e;t=t||{},e||(e=void 0!==t?t:{});var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);function s(t,e){throw e}var o="";document.currentScript&&(o=document.currentScript.src),r&&(o=r),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"";var a=e.print||console.log.bind(console),c=e.printErr||console.warn.bind(console);for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);i=null,e.quit&&(s=e.quit);var u,l,_=0;e.wasmBinary&&(u=e.wasmBinary),e.noExitRuntime&&(l=e.noExitRuntime),"object"!=typeof WebAssembly&&c("no native wasm support detected");var f,d,p,h,y,v,m=new WebAssembly.Table({initial:321,maximum:321,element:"anyfunc"}),g=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.subarray&&P)return P.decode(t.subarray(e,r));for(n="";e<r;){var i=t[e++];if(128&i){var s=63&t[e++];if(192==(224&i))n+=String.fromCharCode((31&i)<<6|s);else{var o=63&t[e++];65536>(i=224==(240&i)?(15&i)<<12|s<<6|o:(7&i)<<18|s<<12|o<<6|63&t[e++])?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else n+=String.fromCharCode(i)}return n}function b(t){d=t,e.HEAP8=p=new Int8Array(t),e.HEAP16=y=new Int16Array(t),e.HEAP32=v=new Int32Array(t),e.HEAPU8=h=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var w=e.INITIAL_MEMORY||16777216;function E(t){for(;0<t.length;){var r=t.shift();if("function"==typeof r)r();else{var n=r.ub;"number"==typeof n?void 0===r.bb?e.dynCall_v(n):e.dynCall_vi(n,r.bb):n(void 0===r.bb?null:r.bb)}}}(f=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:w/65536}))&&(d=f.buffer),w=d.byteLength,b(d),v[16576]=5309344;var k=[],I=[],N=[],A=[];function C(){var t=e.preRun.shift();k.unshift(t)}var T=Math.abs,S=Math.ceil,F=Math.floor,K=Math.min,R=0,L=null;function B(t){throw e.onAbort&&e.onAbort(t),a(t),c(t),g=!0,new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}function O(){var t=U;return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}e.preloadedImages={},e.preloadedAudios={};var D,M,U="libpythia.browser.wasm";if(!O()){var z=U;U=e.locateFile?e.locateFile(z,o):o+z}function H(){try{if(u)return new Uint8Array(u);throw"both async and sync fetching of the wasm failed"}catch(t){B(t)}}function j(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t}function Y(t){var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=j(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function V(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function q(t){if("/"===t)return"/";var e=t.lastIndexOf("/");return-1===e?t:t.substr(e+1)}function G(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if("string"!=typeof(e=0<=r?arguments[r]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=j(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."}I.push({ub:function(){jt()}});var W=[];function X(t,e){W[t]={input:[],Na:[],Va:e},Pt(t,$)}var $={open:function(t){var e=W[t.node.$a];if(!e)throw new at(43);t.Ma=e,t.seekable=!1},close:function(t){t.Ma.Va.flush(t.Ma)},flush:function(t){t.Ma.Va.flush(t.Ma)},read:function(t,e,r,n){if(!t.Ma||!t.Ma.Va.lb)throw new at(60);for(var i=0,s=0;s<n;s++){try{var o=t.Ma.Va.lb(t.Ma)}catch(t){throw new at(29)}if(void 0===o&&0===i)throw new at(6);if(null==o)break;i++,e[r+s]=o}return i&&(t.node.timestamp=Date.now()),i},write:function(t,e,r,n){if(!t.Ma||!t.Ma.Va.eb)throw new at(60);try{for(var i=0;i<n;i++)t.Ma.Va.eb(t.Ma,e[r+i])}catch(t){throw new at(29)}return n&&(t.node.timestamp=Date.now()),i}},J={lb:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;for(var r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++n)),127>=i?++r:r=2047>=i?r+2:65535>=i?r+3:r+4}var s=(r=Array(r+1)).length;if(n=0,0<s){i=n,s=n+s-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(n>=s)break;r[n++]=a}else{if(2047>=a){if(n+1>=s)break;r[n++]=192|a>>6}else{if(65535>=a){if(n+2>=s)break;r[n++]=224|a>>12}else{if(n+3>=s)break;r[n++]=240|a>>18,r[n++]=128|a>>12&63}r[n++]=128|a>>6&63}r[n++]=128|63&a}}r[n]=0,e=n-i}else e=0;r.length=e,t.input=r}return t.input.shift()},eb:function(t,e){null===e||10===e?(a(x(t.Na,0)),t.Na=[]):0!=e&&t.Na.push(e)},flush:function(t){t.Na&&0<t.Na.length&&(a(x(t.Na,0)),t.Na=[])}},Z={eb:function(t,e){null===e||10===e?(c(x(t.Na,0)),t.Na=[]):0!=e&&t.Na.push(e)},flush:function(t){t.Na&&0<t.Na.length&&(c(x(t.Na,0)),t.Na=[])}},Q={Oa:null,Qa:function(){return Q.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(24576==(61440&r)||4096==(61440&r))throw new at(63);return Q.Oa||(Q.Oa={dir:{node:{Ta:Q.Ja.Ta,Pa:Q.Ja.Pa,Wa:Q.Ja.Wa,Ya:Q.Ja.Ya,qb:Q.Ja.qb,sb:Q.Ja.sb,rb:Q.Ja.rb,pb:Q.Ja.pb,ab:Q.Ja.ab},stream:{Ua:Q.Ka.Ua}},file:{node:{Ta:Q.Ja.Ta,Pa:Q.Ja.Pa},stream:{Ua:Q.Ka.Ua,read:Q.Ka.read,write:Q.Ka.write,gb:Q.Ka.gb,mb:Q.Ka.mb,ob:Q.Ka.ob}},link:{node:{Ta:Q.Ja.Ta,Pa:Q.Ja.Pa,Xa:Q.Ja.Xa},stream:{}},hb:{node:{Ta:Q.Ja.Ta,Pa:Q.Ja.Pa},stream:gt}}),16384==(61440&(r=dt(t,e,r,n)).mode)?(r.Ja=Q.Oa.dir.node,r.Ka=Q.Oa.dir.stream,r.Ia={}):32768==(61440&r.mode)?(r.Ja=Q.Oa.file.node,r.Ka=Q.Oa.file.stream,r.La=0,r.Ia=null):40960==(61440&r.mode)?(r.Ja=Q.Oa.link.node,r.Ka=Q.Oa.link.stream):8192==(61440&r.mode)&&(r.Ja=Q.Oa.hb.node,r.Ka=Q.Oa.hb.stream),r.timestamp=Date.now(),t&&(t.Ia[e]=r),r},Gb:function(t){if(t.Ia&&t.Ia.subarray){for(var e=[],r=0;r<t.La;++r)e.push(t.Ia[r]);return e}return t.Ia},Hb:function(t){return t.Ia?t.Ia.subarray?t.Ia.subarray(0,t.La):new Uint8Array(t.Ia):new Uint8Array(0)},ib:function(t,e){var r=t.Ia?t.Ia.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)|0),0!=r&&(e=Math.max(e,256)),r=t.Ia,t.Ia=new Uint8Array(e),0<t.La&&t.Ia.set(r.subarray(0,t.La),0))},yb:function(t,e){if(t.La!=e)if(0==e)t.Ia=null,t.La=0;else{if(!t.Ia||t.Ia.subarray){var r=t.Ia;t.Ia=new Uint8Array(e),r&&t.Ia.set(r.subarray(0,Math.min(e,t.La)))}else if(t.Ia||(t.Ia=[]),t.Ia.length>e)t.Ia.length=e;else for(;t.Ia.length<e;)t.Ia.push(0);t.La=e}},Ja:{Ta:function(t){var e={};return e.Fb=8192==(61440&t.mode)?t.id:1,e.Jb=t.id,e.mode=t.mode,e.Lb=1,e.uid=0,e.Ib=0,e.$a=t.$a,e.size=16384==(61440&t.mode)?4096:32768==(61440&t.mode)?t.La:40960==(61440&t.mode)?t.link.length:0,e.Cb=new Date(t.timestamp),e.Kb=new Date(t.timestamp),e.Eb=new Date(t.timestamp),e.tb=4096,e.Db=Math.ceil(e.size/e.tb),e},Pa:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&Q.yb(t,e.size)},Wa:function(){throw ct[44]},Ya:function(t,e,r,n){return Q.createNode(t,e,r,n)},qb:function(t,e,r){if(16384==(61440&t.mode)){try{var n=ft(e,r)}catch(t){}if(n)for(var i in n.Ia)throw new at(55)}delete t.parent.Ia[t.name],t.name=r,e.Ia[r]=t,t.parent=e},sb:function(t,e){delete t.Ia[e]},rb:function(t,e){var r,n=ft(t,e);for(r in n.Ia)throw new at(55);delete t.Ia[e]},pb:function(t){var e,r=[".",".."];for(e in t.Ia)t.Ia.hasOwnProperty(e)&&r.push(e);return r},ab:function(t,e,r){return(t=Q.createNode(t,e,41471,0)).link=r,t},Xa:function(t){if(40960!=(61440&t.mode))throw new at(28);return t.link}},Ka:{read:function(t,e,r,n,i){var s=t.node.Ia;if(i>=t.node.La)return 0;if(8<(t=Math.min(t.node.La-i,n))&&s.subarray)e.set(s.subarray(i,i+t),r);else for(n=0;n<t;n++)e[r+n]=s[i+n];return t},write:function(t,e,r,n,i,s){if(e.buffer===p.buffer&&(s=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Ia||t.Ia.subarray)){if(s)return t.Ia=e.subarray(r,r+n),t.La=n;if(0===t.La&&0===i)return t.Ia=e.slice(r,r+n),t.La=n;if(i+n<=t.La)return t.Ia.set(e.subarray(r,r+n),i),n}if(Q.ib(t,i+n),t.Ia.subarray&&e.subarray)t.Ia.set(e.subarray(r,r+n),i);else for(s=0;s<n;s++)t.Ia[i+s]=e[r+s];return t.La=Math.max(t.La,i+n),n},Ua:function(t,e,r){if(1===r?e+=t.position:2===r&&32768==(61440&t.node.mode)&&(e+=t.node.La),0>e)throw new at(28);return e},gb:function(t,e,r){Q.ib(t.node,e+r),t.node.La=Math.max(t.node.La,e+r)},mb:function(t,e,r,n,i,s,o){if(32768!=(61440&t.node.mode))throw new at(43);if(t=t.node.Ia,2&o||t.buffer!==e.buffer){if((0<i||i+n<t.length)&&(t=t.subarray?t.subarray(i,i+n):Array.prototype.slice.call(t,i,i+n)),i=!0,o=e.buffer==p.buffer,!(n=Vt(n)))throw new at(48);(o?p:e).set(t,n)}else i=!1,n=t.byteOffset;return{Nb:n,Bb:i}},ob:function(t,e,r,n,i){if(32768!=(61440&t.node.mode))throw new at(43);return 2&i||Q.Ka.write(t,e,0,n,r,!1),0}}},tt=null,et={},rt=[],nt=1,it=null,st=!0,ot={},at=null,ct={};function ut(t,e){if(e=e||{},!(t=G("/",t)))return{path:"",node:null};var r,n={kb:!0,fb:0};for(r in n)void 0===e[r]&&(e[r]=n[r]);if(8<e.fb)throw new at(32);t=j(t.split("/").filter((function(t){return!!t})),!1);var i=tt;for(n="/",r=0;r<t.length;r++){var s=r===t.length-1;if(s&&e.parent)break;if(i=ft(i,t[r]),n=Y(n+"/"+t[r]),i.Za&&(!s||s&&e.kb)&&(i=i.Za.root),!s||e.jb)for(s=0;40960==(61440&i.mode);)if(i=It(n),i=ut(n=G(V(n),i),{fb:e.fb}).node,40<s++)throw new at(32)}return{path:n,node:i}}function lt(t){for(var e;;){if(t===t.parent)return t=t.Qa.nb,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}}function _t(t,e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%it.length}function ft(t,e){var r;if(r=(r=yt(t,"x"))?r:t.Ja.Wa?0:2)throw new at(r,t);for(r=it[_t(t.id,e)];r;r=r.xb)if(r.parent.id===t.id&&r.name===e)return r;return t.Ja.Wa(t,e)}function dt(t,e,r,n){return e=_t((t=new Ut(t,e,r,n)).parent.id,t.name),t.xb=it[e],it[e]=t}var pt={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function ht(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e}function yt(t,e){return st||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2}function vt(t,e){try{return ft(t,e),20}catch(t){}return yt(t,"wx")}var mt,gt={open:function(t){t.Ka=et[t.node.$a].Ka,t.Ka.open&&t.Ka.open(t)},Ua:function(){throw new at(70)}};function Pt(t,e){et[t]={Ka:e}}function xt(t,e){var r="/"===e,n=!e;if(r&&tt)throw new at(10);if(!r&&!n){var i=ut(e,{kb:!1});if(e=i.path,(i=i.node).Za)throw new at(10);if(16384!=(61440&i.mode))throw new at(54)}(t=t.Qa(e={type:t,Mb:{},nb:e,wb:[]})).Qa=e,e.root=t,r?tt=t:i&&(i.Za=e,i.Qa&&i.Qa.wb.push(e))}function bt(t,e,r){var n=ut(t,{parent:!0}).node;if(!(t=q(t))||"."===t||".."===t)throw new at(28);var i=vt(n,t);if(i)throw new at(i);if(!n.Ja.Ya)throw new at(63);return n.Ja.Ya(n,t,e,r)}function wt(t){bt(t,16895,0)}function Et(t,e,r){void 0===r&&(r=e,e=438),bt(t,8192|e,r)}function kt(t,e){if(!G(t))throw new at(44);var r=ut(e,{parent:!0}).node;if(!r)throw new at(44);var n=vt(r,e=q(e));if(n)throw new at(n);if(!r.Ja.ab)throw new at(63);r.Ja.ab(r,e,t)}function It(t){if(!(t=ut(t).node))throw new at(44);if(!t.Ja.Xa)throw new at(28);return G(lt(t.parent),t.Ja.Xa(t))}function Nt(t,r,n,i){if(""===t)throw new at(44);if("string"==typeof r){var s=pt[r];if(void 0===s)throw Error("Unknown file open mode: "+r);r=s}if(n=64&r?4095&(void 0===n?438:n)|32768:0,"object"==typeof t)var o=t;else{t=Y(t);try{o=ut(t,{jb:!(131072&r)}).node}catch(t){}}if(s=!1,64&r)if(o){if(128&r)throw new at(20)}else o=bt(t,n,0),s=!0;if(!o)throw new at(44);if(8192==(61440&o.mode)&&(r&=-513),65536&r&&16384!=(61440&o.mode))throw new at(54);if(!s&&(n=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==ht(r)||512&r)?31:yt(o,ht(r)):44))throw new at(n);if(512&r){var a;if(!(a="string"==typeof(n=o)?ut(n,{jb:!0}).node:n).Ja.Pa)throw new at(63);if(16384==(61440&a.mode))throw new at(31);if(32768!=(61440&a.mode))throw new at(28);if(n=yt(a,"w"))throw new at(n);a.Ja.Pa(a,{size:0,timestamp:Date.now()})}r&=-641,(i=function(t,e){Kt||((Kt=function(){}).prototype={});var r,n=new Kt;for(r in t)n[r]=t[r];return t=n,e=function(t){for(t=t||0;t<=4096;t++)if(!rt[t])return t;throw new at(33)}(e),t.Sa=e,rt[e]=t}({node:o,path:lt(o),flags:r,seekable:!0,position:0,Ka:o.Ka,Ab:[],error:!1},i)).Ka.open&&i.Ka.open(i),!e.logReadFiles||1&r||(Rt||(Rt={}),t in Rt||(Rt[t]=1,c("FS.trackingDelegate error on read file: "+t)));try{ot.onOpenFile&&(o=0,1!=(2097155&r)&&(o|=1),0!=(2097155&r)&&(o|=2),ot.onOpenFile(t,o))}catch(e){c("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return i}function At(t,e,r){if(null===t.Sa)throw new at(8);if(!t.seekable||!t.Ka.Ua)throw new at(70);if(0!=r&&1!=r&&2!=r)throw new at(28);t.position=t.Ka.Ua(t,e,r),t.Ab=[]}function Ct(t,e,r,n){var i=p;if(0>r||0>n)throw new at(28);if(null===t.Sa)throw new at(8);if(1==(2097155&t.flags))throw new at(8);if(16384==(61440&t.node.mode))throw new at(31);if(!t.Ka.read)throw new at(28);var s=void 0!==n;if(s){if(!t.seekable)throw new at(70)}else n=t.position;return e=t.Ka.read(t,i,e,r,n),s||(t.position+=e),e}function Tt(){at||((at=function(t,e){this.node=e,this.zb=function(t){this.Ra=t},this.zb(t),this.message="FS error"}).prototype=Error(),at.prototype.constructor=at,[44].forEach((function(t){ct[t]=new at(t),ct[t].stack="<generic error, no stack>"})))}function St(t,e,r){t=Y("/dev/"+t);var n=function(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r}(!!e,!!r);Ft||(Ft=64);var i=Ft++<<8|0;Pt(i,{open:function(t){t.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(t,r,n,i){for(var s=0,o=0;o<i;o++){try{var a=e()}catch(t){throw new at(29)}if(void 0===a&&0===s)throw new at(6);if(null==a)break;s++,r[n+o]=a}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,n,i){for(var s=0;s<i;s++)try{r(e[n+s])}catch(t){throw new at(29)}return i&&(t.node.timestamp=Date.now()),s}}),Et(t,n,i)}var Ft,Kt,Rt,Lt={},Bt=void 0;function Ot(){return v[(Bt+=4)-4>>2]}function Dt(t){if(!(t=rt[t]))throw new at(8);return t}var Mt=0;function Ut(t,e,r,n){t||(t=this),this.parent=t,this.Qa=t.Qa,this.Za=null,this.id=nt++,this.name=e,this.mode=r,this.Ja={},this.Ka={},this.$a=n}Object.defineProperties(Ut.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}}),Tt(),it=Array(4096),xt(Q,"/"),wt("/tmp"),wt("/home"),wt("/home/web_user"),function(){if(wt("/dev"),Pt(259,{read:function(){return 0},write:function(t,e,r,n){return n}}),Et("/dev/null",259),X(1280,J),X(1536,Z),Et("/dev/tty",1280),Et("/dev/tty1",1536),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var t=new Uint8Array(1),e=function(){return crypto.getRandomValues(t),t[0]};e||(e=function(){B("random_device")}),St("random",e),St("urandom",e),wt("/dev/shm"),wt("/dev/shm/tmp")}(),wt("/proc"),wt("/proc/self"),wt("/proc/self/fd"),xt({Qa:function(){var t=dt("/proc/self","fd",16895,73);return t.Ja={Wa:function(t,e){var r=rt[+e];if(!r)throw new at(8);return(t={parent:null,Qa:{nb:"fake"},Ja:{Xa:function(){return r.path}}}).parent=t}},t}},"/proc/self/fd");var zt={w:function(t,r,n){Bt=n;try{var i=Dt(t);switch(r){case 0:var s=Ot();return 0>s?-28:Nt(i.path,i.flags,0,s).Sa;case 1:case 2:return 0;case 3:return i.flags;case 4:return s=Ot(),i.flags|=s,0;case 12:return s=Ot(),y[s+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return e.___errno_location&&(v[e.___errno_location()>>2]=28),-1;default:return-28}}catch(t){return void 0!==Lt&&t instanceof at||B(t),-t.Ra}},D:function(t,e,r){try{return Ct(Dt(t),e,r)}catch(t){return void 0!==Lt&&t instanceof at||B(t),-t.Ra}},z:function(t,e,r){Bt=r;try{return Nt(t?x(h,t,void 0):"",e,Ot()).Sa}catch(t){return void 0!==Lt&&t instanceof at||B(t),-t.Ra}},C:function(t,e,r){Bt=r;try{var n=Dt(t);switch(e){case 21509:case 21505:return n.Ma?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.Ma?0:-59;case 21519:if(!n.Ma)return-59;var i=Ot();return v[i>>2]=0;case 21520:return n.Ma?-28:-59;case 21531:if(t=i=Ot(),!n.Ka.vb)throw new at(59);return n.Ka.vb(n,e,t);case 21523:case 21524:return n.Ma?0:-59;default:B("bad ioctl syscall "+e)}}catch(t){return void 0!==Lt&&t instanceof at||B(t),-t.Ra}},t:function(){B()},h:function(t,e){throw Yt(t,e||1),"longjmp"},E:function(t,e,r){h.copyWithin(t,e,e+r)},F:function(t){var e=h.length;if(2147418112<t)return!1;for(var r=1;4>=r;r*=2){var n=e*(1+.2/r);n=Math.min(n,t+100663296),0<(n=Math.max(16777216,t,n))%65536&&(n+=65536-n%65536);t:{try{f.grow(Math.min(2147418112,n)-d.byteLength+65535>>16),b(f.buffer);var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},m:function(t){!l&&(g=!0,e.onExit)&&e.onExit(t),s(t,new le(t))},s:function(t){try{var e=Dt(t);if(null===e.Sa)throw new at(8);e.cb&&(e.cb=null);try{e.Ka.close&&e.Ka.close(e)}catch(t){throw t}finally{rt[e.Sa]=null}return e.Sa=null,0}catch(t){return void 0!==Lt&&t instanceof at||B(t),t.Ra}},B:function(t,e,r,n){try{t:{for(var i=Dt(t),s=t=0;s<r;s++){var o=v[e+(8*s+4)>>2],a=Ct(i,v[e+8*s>>2],o,void 0);if(0>a){var c=-1;break t}if(t+=a,a<o)break}c=t}return v[n>>2]=c,0}catch(t){return void 0!==Lt&&t instanceof at||B(t),t.Ra}},A:function(t,e,r,n,i){try{var s=Dt(t);return-9007199254740992>=(t=4294967296*r+(e>>>0))||9007199254740992<=t?-61:(At(s,t,n),M=[s.position>>>0,(D=s.position,1<=+T(D)?0<D?(0|K(+F(D/4294967296),4294967295))>>>0:~~+S((D-+(~~D>>>0))/4294967296)>>>0:0)],v[i>>2]=M[0],v[i+4>>2]=M[1],s.cb&&0===t&&0===n&&(s.cb=null),0)}catch(t){return void 0!==Lt&&t instanceof at||B(t),t.Ra}},v:function(t,e,r,n){try{t:{for(var i=Dt(t),s=t=0;s<r;s++){var o=i,a=v[e+8*s>>2],u=v[e+(8*s+4)>>2],l=void 0,_=p;if(0>u||0>l)throw new at(28);if(null===o.Sa)throw new at(8);if(0==(2097155&o.flags))throw new at(8);if(16384==(61440&o.node.mode))throw new at(31);if(!o.Ka.write)throw new at(28);1024&o.flags&&At(o,0,2);var f=void 0!==l;if(f){if(!o.seekable)throw new at(70)}else l=o.position;var d=o.Ka.write(o,_,a,u,l,void 0);f||(o.position+=d);try{o.path&&ot.onWriteToFile&&ot.onWriteToFile(o.path)}catch(t){c("FS.trackingDelegate['onWriteToFile']('"+o.path+"') threw an exception: "+t.message)}var h=d;if(0>h){var y=-1;break t}t+=h}y=t}return v[n>>2]=y,0}catch(t){return void 0!==Lt&&t instanceof at||B(t),t.Ra}},a:function(){return 0|_},x:function(t){var e=Date.now();return v[t>>2]=e/1e3|0,v[t+4>>2]=e%1e3*1e3|0,0},g:function(t){var e=ae();try{return re(t)}catch(t){if(ue(e),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},j:function(t,e){var r=ae();try{return ne(t,e)}catch(t){if(ue(r),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},i:function(t,e,r){var n=ae();try{return ie(t,e,r)}catch(t){if(ue(n),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},q:function(t,e,r,n){var i=ae();try{return se(t,e,r,n)}catch(t){if(ue(i),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},y:function(t,e,r,n,i){var s=ae();try{return oe(t,e,r,n,i)}catch(t){if(ue(s),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},n:function(t){var e=ae();try{Gt(t)}catch(t){if(ue(e),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},e:function(t,e){var r=ae();try{Wt(t,e)}catch(t){if(ue(r),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},d:function(t,e,r){var n=ae();try{Xt(t,e,r)}catch(t){if(ue(n),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},f:function(t,e,r,n){var i=ae();try{$t(t,e,r,n)}catch(t){if(ue(i),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},l:function(t,e,r,n,i){var s=ae();try{Jt(t,e,r,n,i)}catch(t){if(ue(s),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},o:function(t,e,r,n,i,s){var o=ae();try{Zt(t,e,r,n,i,s)}catch(t){if(ue(o),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},p:function(t,e,r,n,i,s,o){var a=ae();try{Qt(t,e,r,n,i,s,o)}catch(t){if(ue(a),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},r:function(t,e,r,n,i,s,o,a){var c=ae();try{te(t,e,r,n,i,s,o,a)}catch(t){if(ue(c),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},u:function(t,e,r,n,i,s,o,a,c){var u=ae();try{ee(t,e,r,n,i,s,o,a,c)}catch(t){if(ue(u),t!==t+0&&"longjmp"!==t)throw t;Yt(1,0)}},memory:f,k:function t(e,r,n,i){r|=0,n|=0,i|=0;var s=0;for(v[(e|=0)>>2]=Mt=Mt+1|0;(0|s)<(0|i);){if(0==(0|v[n+(s<<3)>>2]))return v[n+(s<<3)>>2]=Mt,v[n+(4+(s<<3))>>2]=r,v[n+(8+(s<<3))>>2]=0,_=0|i,0|n;s=s+1|0}return n=0|t(0|e,0|r,0|(n=0|qt(0|n,8*(1+(i=2*i|0)|0)|0)),0|i),_=0|i,0|n},b:function(t){_=0|t},table:m,c:function(t,e,r){t|=0,e|=0,r|=0;for(var n,i=0;(0|i)<(0|r)&&0!=(0|(n=0|v[e+(i<<3)>>2]));){if((0|n)==(0|t))return 0|v[e+(4+(i<<3))>>2];i=i+1|0}return 0}},Ht=function(){function t(t){e.asm=t.exports,R--,e.monitorRunDependencies&&e.monitorRunDependencies(R),0==R&&L&&(t=L,L=null,t())}function r(e){t(e.instance)}function n(t){return(u||"function"!=typeof fetch?new Promise((function(t){t(H())})):fetch(U,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+U+"'";return t.arrayBuffer()})).catch((function(){return H()}))).then((function(t){return WebAssembly.instantiate(t,i)})).then(t,(function(t){c("failed to asynchronously prepare wasm: "+t),B(t)}))}var i={a:zt};if(R++,e.monitorRunDependencies&&e.monitorRunDependencies(R),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return c("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(u||"function"!=typeof WebAssembly.instantiateStreaming||O()||"function"!=typeof fetch)return n(r);fetch(U,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(r,(function(t){c("wasm streaming compile failed: "+t),c("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}();e.asm=Ht;var jt=e.___wasm_call_ctors=function(){return(jt=e.___wasm_call_ctors=e.asm.G).apply(null,arguments)};e._vscp_error_ctx_size=function(){return(e._vscp_error_ctx_size=e.asm.H).apply(null,arguments)},e._vscp_error_reset=function(){return(e._vscp_error_reset=e.asm.I).apply(null,arguments)},e._vscp_error_status=function(){return(e._vscp_error_status=e.asm.J).apply(null,arguments)},e._vscp_pythia_configure=function(){return(e._vscp_pythia_configure=e.asm.K).apply(null,arguments)},e._vscp_pythia_cleanup=function(){return(e._vscp_pythia_cleanup=e.asm.L).apply(null,arguments)},e._vscp_pythia_blinded_password_buf_len=function(){return(e._vscp_pythia_blinded_password_buf_len=e.asm.M).apply(null,arguments)},e._vscp_pythia_deblinded_password_buf_len=function(){return(e._vscp_pythia_deblinded_password_buf_len=e.asm.N).apply(null,arguments)},e._vscp_pythia_blinding_secret_buf_len=function(){return(e._vscp_pythia_blinding_secret_buf_len=e.asm.O).apply(null,arguments)},e._vscp_pythia_transformation_private_key_buf_len=function(){return(e._vscp_pythia_transformation_private_key_buf_len=e.asm.P).apply(null,arguments)},e._vscp_pythia_transformation_public_key_buf_len=function(){return(e._vscp_pythia_transformation_public_key_buf_len=e.asm.Q).apply(null,arguments)},e._vscp_pythia_transformed_password_buf_len=function(){return(e._vscp_pythia_transformed_password_buf_len=e.asm.R).apply(null,arguments)},e._vscp_pythia_transformed_tweak_buf_len=function(){return(e._vscp_pythia_transformed_tweak_buf_len=e.asm.S).apply(null,arguments)},e._vscp_pythia_proof_value_buf_len=function(){return(e._vscp_pythia_proof_value_buf_len=e.asm.T).apply(null,arguments)},e._vscp_pythia_password_update_token_buf_len=function(){return(e._vscp_pythia_password_update_token_buf_len=e.asm.U).apply(null,arguments)},e._vscp_pythia_blind=function(){return(e._vscp_pythia_blind=e.asm.V).apply(null,arguments)},e._vscp_pythia_deblind=function(){return(e._vscp_pythia_deblind=e.asm.W).apply(null,arguments)},e._vscp_pythia_compute_transformation_key_pair=function(){return(e._vscp_pythia_compute_transformation_key_pair=e.asm.X).apply(null,arguments)},e._vscp_pythia_transform=function(){return(e._vscp_pythia_transform=e.asm.Y).apply(null,arguments)},e._vscp_pythia_prove=function(){return(e._vscp_pythia_prove=e.asm.Z).apply(null,arguments)},e._vscp_pythia_verify=function(){return(e._vscp_pythia_verify=e.asm._).apply(null,arguments)},e._vscp_pythia_get_password_update_token=function(){return(e._vscp_pythia_get_password_update_token=e.asm.$).apply(null,arguments)},e._vscp_pythia_update_deblinded_with_token=function(){return(e._vscp_pythia_update_deblinded_with_token=e.asm.aa).apply(null,arguments)},e._vsc_buffer_new=function(){return(e._vsc_buffer_new=e.asm.ba).apply(null,arguments)},e._vsc_buffer_new_with_capacity=function(){return(e._vsc_buffer_new_with_capacity=e.asm.ca).apply(null,arguments)},e._vsc_buffer_delete=function(){return(e._vsc_buffer_delete=e.asm.da).apply(null,arguments)},e._vsc_buffer_data=function(){return(e._vsc_buffer_data=e.asm.ea).apply(null,arguments)},e._vsc_buffer_make_secure=function(){return(e._vsc_buffer_make_secure=e.asm.fa).apply(null,arguments)},e._vsc_buffer_bytes=function(){return(e._vsc_buffer_bytes=e.asm.ga).apply(null,arguments)},e._vsc_buffer_len=function(){return(e._vsc_buffer_len=e.asm.ha).apply(null,arguments)},e._vsc_data_ctx_size=function(){return(e._vsc_data_ctx_size=e.asm.ia).apply(null,arguments)},e._vsc_data=function(){return(e._vsc_data=e.asm.ja).apply(null,arguments)},e._vsc_data_len=function(){return(e._vsc_data_len=e.asm.ka).apply(null,arguments)},e._vsc_data_bytes=function(){return(e._vsc_data_bytes=e.asm.la).apply(null,arguments)},e.___errno_location=function(){return(e.___errno_location=e.asm.ma).apply(null,arguments)};var Yt=e._setThrew=function(){return(Yt=e._setThrew=e.asm.na).apply(null,arguments)},Vt=e._malloc=function(){return(Vt=e._malloc=e.asm.oa).apply(null,arguments)};e._free=function(){return(e._free=e.asm.pa).apply(null,arguments)};var qt=e._realloc=function(){return(qt=e._realloc=e.asm.qa).apply(null,arguments)},Gt=e.dynCall_v=function(){return(Gt=e.dynCall_v=e.asm.ra).apply(null,arguments)},Wt=e.dynCall_vi=function(){return(Wt=e.dynCall_vi=e.asm.sa).apply(null,arguments)},Xt=e.dynCall_vii=function(){return(Xt=e.dynCall_vii=e.asm.ta).apply(null,arguments)},$t=e.dynCall_viii=function(){return($t=e.dynCall_viii=e.asm.ua).apply(null,arguments)},Jt=e.dynCall_viiii=function(){return(Jt=e.dynCall_viiii=e.asm.va).apply(null,arguments)},Zt=e.dynCall_viiiii=function(){return(Zt=e.dynCall_viiiii=e.asm.wa).apply(null,arguments)},Qt=e.dynCall_viiiiii=function(){return(Qt=e.dynCall_viiiiii=e.asm.xa).apply(null,arguments)},te=e.dynCall_viiiiiii=function(){return(te=e.dynCall_viiiiiii=e.asm.ya).apply(null,arguments)},ee=e.dynCall_viiiiiiii=function(){return(ee=e.dynCall_viiiiiiii=e.asm.za).apply(null,arguments)},re=e.dynCall_i=function(){return(re=e.dynCall_i=e.asm.Aa).apply(null,arguments)},ne=e.dynCall_ii=function(){return(ne=e.dynCall_ii=e.asm.Ba).apply(null,arguments)},ie=e.dynCall_iii=function(){return(ie=e.dynCall_iii=e.asm.Ca).apply(null,arguments)},se=e.dynCall_iiii=function(){return(se=e.dynCall_iiii=e.asm.Da).apply(null,arguments)},oe=e.dynCall_iiiii=function(){return(oe=e.dynCall_iiiii=e.asm.Ea).apply(null,arguments)},ae=e.stackSave=function(){return(ae=e.stackSave=e.asm.Fa).apply(null,arguments)};e.stackAlloc=function(){return(e.stackAlloc=e.asm.Ga).apply(null,arguments)};var ce,ue=e.stackRestore=function(){return(ue=e.stackRestore=e.asm.Ha).apply(null,arguments)};function le(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function _e(){function t(){if(!ce&&(ce=!0,e.calledRun=!0,!g)){if(e.noFSInit||mt||(mt=!0,Tt(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?St("stdin",e.stdin):kt("/dev/tty","/dev/stdin"),e.stdout?St("stdout",null,e.stdout):kt("/dev/tty","/dev/stdout"),e.stderr?St("stderr",null,e.stderr):kt("/dev/tty1","/dev/stderr"),Nt("/dev/stdin","r"),Nt("/dev/stdout","w"),Nt("/dev/stderr","w")),E(I),st=!1,E(N),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();A.unshift(t)}E(A)}}if(!(0<R)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)C();E(k),0<R||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.asm=Ht,e.then=function(t){if(ce)t(e);else{var r=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){r&&r(),t(e)}}return e},L=function t(){ce||_e(),ce||(L=t)},e.run=_e,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return l=!0,_e(),t});t.exports=n}(e={exports:{}}),e.exports}(),Le=(t,e)=>{class r extends Error{constructor(t){super(t),this.name="PythiaError",this.message=t}static handleStatusCode(t){if(0!=t){if(-1==t)throw new r("This error should not be returned if assertions is enabled.");if(-200==t)throw new r("Underlying pythia library returns -1.");if(-202==t)throw new r("Underlying random number generator failed.");throw new r("Unexpected status code:"+t)}}}return r},Be=function(t,e){if(!(e instanceof Uint8Array))throw new TypeError(`'${t}' is not an Uint8Array`)},Oe=function(t,e){return function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,s=new Array(i);n<i;n++)s[n]=e[n].fn;return s},a.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],_=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),_){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(u=1,c=new Array(_-1);u<_;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),_){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(f=1,c=new Array(_-1);f<_;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&o(this,e):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}(e={exports:{}}),e.exports}();class De extends Error{constructor(){super("Module already exists."),Object.setPrototypeOf(this,De.prototype),this.name="ModuleAlreadyExistsError"}}class Me extends Error{constructor(){super("Module not found."),Object.setPrototypeOf(this,Me.prototype),this.name="ModuleNotFoundError"}}!function(t){t.load="load",t.remove="remove",t.error="error"}(Ke||(Ke={}));const Ue=new class extends Oe{constructor(){super(...arguments),this.initFns=new Map,this.initPromises=new Map,this.modules=new Map,this.addModule=(t,e)=>{if(this.initFns.has(t)){const r=new De;throw this.emit(Ke.error,r,t,e),r}this.loadModulesPromise=void 0,this.initFns.set(t,e)},this.getModule=t=>{if(!this.modules.has(t)){const e=new Me;throw this.emit(Ke.error,e,t),e}return this.modules.get(t)},this.hasModule=t=>this.modules.has(t),this.setModule=(t,e)=>{this.modules.set(t,e),this.emit(Ke.load,t,e)},this.removeModule=t=>{if(this.initFns.delete(t),this.initPromises.delete(t),this.modules.has(t)){const e=this.modules.get(t);this.modules.delete(t),this.emit(Ke.remove,t,e)}},this.loadModule=(t,...e)=>{if(!this.initFns.has(t)){const r=new Me;throw this.emit(Ke.error,r,t,...e),r}if(this.initPromises.has(t))return this.initPromises.get(t);const r=this.initFns.get(t)(...e).then(r=>(this.modules.set(t,r),this.emit(Ke.load,t,r,...e),Promise.resolve()));return this.initPromises.set(t,r),r},this.loadModules=t=>{if(this.loadModulesPromise)return this.loadModulesPromise;const e=t||{},r=Array.from(this.initFns.keys()).map(t=>e[t]?this.loadModule(t,...e[t]):this.loadModule(t));return this.loadModulesPromise=Promise.all(r).then(()=>Promise.resolve()),this.loadModulesPromise}}};Ue.addModule("pythia",t=>{const e=new Re(t);return new Promise((t,r)=>{e.onRuntimeInitialized=()=>{const r={};r.PythiaError=Le(),r.Pythia=((t,e)=>class{static configure(){const r=t._vscp_pythia_configure();e.PythiaError.handleStatusCode(r)}static cleanup(){t._vscp_pythia_cleanup()}static blindedPasswordBufLen(){let e;return e=t._vscp_pythia_blinded_password_buf_len(),e}static deblindedPasswordBufLen(){let e;return e=t._vscp_pythia_deblinded_password_buf_len(),e}static blindingSecretBufLen(){let e;return e=t._vscp_pythia_blinding_secret_buf_len(),e}static transformationPrivateKeyBufLen(){let e;return e=t._vscp_pythia_transformation_private_key_buf_len(),e}static transformationPublicKeyBufLen(){let e;return e=t._vscp_pythia_transformation_public_key_buf_len(),e}static transformedPasswordBufLen(){let e;return e=t._vscp_pythia_transformed_password_buf_len(),e}static transformedTweakBufLen(){let e;return e=t._vscp_pythia_transformed_tweak_buf_len(),e}static proofValueBufLen(){let e;return e=t._vscp_pythia_proof_value_buf_len(),e}static passwordUpdateTokenBufLen(){let e;return e=t._vscp_pythia_password_update_token_buf_len(),e}static blind(r){Be("password",r);const n=r.length*r.BYTES_PER_ELEMENT,i=t._malloc(n);t.HEAP8.set(r,i);const s=t._vsc_data_ctx_size(),o=t._malloc(s);t._vsc_data(o,i,n);const a=e.Pythia.blindedPasswordBufLen(),c=t._vsc_buffer_new_with_capacity(a),u=e.Pythia.blindingSecretBufLen(),l=t._vsc_buffer_new_with_capacity(u);try{const r=t._vscp_pythia_blind(o,c,l);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(c),s=t._vsc_buffer_len(c),a=t.HEAPU8.slice(n,n+s),u=t._vsc_buffer_bytes(l),_=t._vsc_buffer_len(l);return{blindedPassword:a,blindingSecret:t.HEAPU8.slice(u,u+_)}}finally{t._free(i),t._free(o),t._vsc_buffer_delete(c),t._vsc_buffer_delete(l)}}static deblind(r,n){Be("transformedPassword",r),Be("blindingSecret",n);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=n.length*n.BYTES_PER_ELEMENT,u=t._malloc(c);t.HEAP8.set(n,u);const l=t._vsc_data_ctx_size(),_=t._malloc(l);t._vsc_data(_,u,c);const f=e.Pythia.deblindedPasswordBufLen(),d=t._vsc_buffer_new_with_capacity(f);try{const r=t._vscp_pythia_deblind(a,_,d);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(d),i=t._vsc_buffer_len(d);return t.HEAPU8.slice(n,n+i)}finally{t._free(s),t._free(a),t._free(u),t._free(_),t._vsc_buffer_delete(d)}}static computeTransformationKeyPair(r,n,i){Be("transformationKeyId",r),Be("pythiaSecret",n),Be("pythiaScopeSecret",i);const s=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(r,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=n.length*n.BYTES_PER_ELEMENT,l=t._malloc(u);t.HEAP8.set(n,l);const _=t._vsc_data_ctx_size(),f=t._malloc(_);t._vsc_data(f,l,u);const d=i.length*i.BYTES_PER_ELEMENT,p=t._malloc(d);t.HEAP8.set(i,p);const h=t._vsc_data_ctx_size(),y=t._malloc(h);t._vsc_data(y,p,d);const v=e.Pythia.transformationPrivateKeyBufLen(),m=t._vsc_buffer_new_with_capacity(v),g=e.Pythia.transformationPublicKeyBufLen(),P=t._vsc_buffer_new_with_capacity(g);try{const r=t._vscp_pythia_compute_transformation_key_pair(c,f,y,m,P);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(m),i=t._vsc_buffer_len(m),s=t.HEAPU8.slice(n,n+i),a=t._vsc_buffer_bytes(P),u=t._vsc_buffer_len(P);return{transformationPrivateKey:s,transformationPublicKey:t.HEAPU8.slice(a,a+u)}}finally{t._free(o),t._free(c),t._free(l),t._free(f),t._free(p),t._free(y),t._vsc_buffer_delete(m),t._vsc_buffer_delete(P)}}static transform(r,n,i){Be("blindedPassword",r),Be("tweak",n),Be("transformationPrivateKey",i);const s=r.length*r.BYTES_PER_ELEMENT,o=t._malloc(s);t.HEAP8.set(r,o);const a=t._vsc_data_ctx_size(),c=t._malloc(a);t._vsc_data(c,o,s);const u=n.length*n.BYTES_PER_ELEMENT,l=t._malloc(u);t.HEAP8.set(n,l);const _=t._vsc_data_ctx_size(),f=t._malloc(_);t._vsc_data(f,l,u);const d=i.length*i.BYTES_PER_ELEMENT,p=t._malloc(d);t.HEAP8.set(i,p);const h=t._vsc_data_ctx_size(),y=t._malloc(h);t._vsc_data(y,p,d);const v=e.Pythia.transformedPasswordBufLen(),m=t._vsc_buffer_new_with_capacity(v),g=e.Pythia.transformedTweakBufLen(),P=t._vsc_buffer_new_with_capacity(g);try{const r=t._vscp_pythia_transform(c,f,y,m,P);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(m),i=t._vsc_buffer_len(m),s=t.HEAPU8.slice(n,n+i),a=t._vsc_buffer_bytes(P),u=t._vsc_buffer_len(P);return{transformedPassword:s,transformedTweak:t.HEAPU8.slice(a,a+u)}}finally{t._free(o),t._free(c),t._free(l),t._free(f),t._free(p),t._free(y),t._vsc_buffer_delete(m),t._vsc_buffer_delete(P)}}static prove(r,n,i,s,o){Be("transformedPassword",r),Be("blindedPassword",n),Be("transformedTweak",i),Be("transformationPrivateKey",s),Be("transformationPublicKey",o);const a=r.length*r.BYTES_PER_ELEMENT,c=t._malloc(a);t.HEAP8.set(r,c);const u=t._vsc_data_ctx_size(),l=t._malloc(u);t._vsc_data(l,c,a);const _=n.length*n.BYTES_PER_ELEMENT,f=t._malloc(_);t.HEAP8.set(n,f);const d=t._vsc_data_ctx_size(),p=t._malloc(d);t._vsc_data(p,f,_);const h=i.length*i.BYTES_PER_ELEMENT,y=t._malloc(h);t.HEAP8.set(i,y);const v=t._vsc_data_ctx_size(),m=t._malloc(v);t._vsc_data(m,y,h);const g=s.length*s.BYTES_PER_ELEMENT,P=t._malloc(g);t.HEAP8.set(s,P);const x=t._vsc_data_ctx_size(),b=t._malloc(x);t._vsc_data(b,P,g);const w=o.length*o.BYTES_PER_ELEMENT,E=t._malloc(w);t.HEAP8.set(o,E);const k=t._vsc_data_ctx_size(),I=t._malloc(k);t._vsc_data(I,E,w);const N=e.Pythia.proofValueBufLen(),A=t._vsc_buffer_new_with_capacity(N),C=e.Pythia.proofValueBufLen(),T=t._vsc_buffer_new_with_capacity(C);try{const r=t._vscp_pythia_prove(l,p,m,b,I,A,T);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(A),i=t._vsc_buffer_len(A),s=t.HEAPU8.slice(n,n+i),o=t._vsc_buffer_bytes(T),a=t._vsc_buffer_len(T);return{proofValueC:s,proofValueU:t.HEAPU8.slice(o,o+a)}}finally{t._free(c),t._free(l),t._free(f),t._free(p),t._free(y),t._free(m),t._free(P),t._free(b),t._free(E),t._free(I),t._vsc_buffer_delete(A),t._vsc_buffer_delete(T)}}static verify(r,n,i,s,o,a){Be("transformedPassword",r),Be("blindedPassword",n),Be("tweak",i),Be("transformationPublicKey",s),Be("proofValueC",o),Be("proofValueU",a);const c=r.length*r.BYTES_PER_ELEMENT,u=t._malloc(c);t.HEAP8.set(r,u);const l=t._vsc_data_ctx_size(),_=t._malloc(l);t._vsc_data(_,u,c);const f=n.length*n.BYTES_PER_ELEMENT,d=t._malloc(f);t.HEAP8.set(n,d);const p=t._vsc_data_ctx_size(),h=t._malloc(p);t._vsc_data(h,d,f);const y=i.length*i.BYTES_PER_ELEMENT,v=t._malloc(y);t.HEAP8.set(i,v);const m=t._vsc_data_ctx_size(),g=t._malloc(m);t._vsc_data(g,v,y);const P=s.length*s.BYTES_PER_ELEMENT,x=t._malloc(P);t.HEAP8.set(s,x);const b=t._vsc_data_ctx_size(),w=t._malloc(b);t._vsc_data(w,x,P);const E=o.length*o.BYTES_PER_ELEMENT,k=t._malloc(E);t.HEAP8.set(o,k);const I=t._vsc_data_ctx_size(),N=t._malloc(I);t._vsc_data(N,k,E);const A=a.length*a.BYTES_PER_ELEMENT,C=t._malloc(A);t.HEAP8.set(a,C);const T=t._vsc_data_ctx_size(),S=t._malloc(T);t._vsc_data(S,C,A);const F=t._vscp_error_ctx_size(),K=t._malloc(F);let R;t._vscp_error_reset(K);try{R=t._vscp_pythia_verify(_,h,g,w,N,S,K);const r=t._vscp_error_status(K);return e.PythiaError.handleStatusCode(r),!!R}finally{t._free(u),t._free(_),t._free(d),t._free(h),t._free(v),t._free(g),t._free(x),t._free(w),t._free(k),t._free(N),t._free(C),t._free(S),t._free(K)}}static getPasswordUpdateToken(r,n){Be("previousTransformationPrivateKey",r),Be("newTransformationPrivateKey",n);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=n.length*n.BYTES_PER_ELEMENT,u=t._malloc(c);t.HEAP8.set(n,u);const l=t._vsc_data_ctx_size(),_=t._malloc(l);t._vsc_data(_,u,c);const f=e.Pythia.passwordUpdateTokenBufLen(),d=t._vsc_buffer_new_with_capacity(f);try{const r=t._vscp_pythia_get_password_update_token(a,_,d);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(d),i=t._vsc_buffer_len(d);return t.HEAPU8.slice(n,n+i)}finally{t._free(s),t._free(a),t._free(u),t._free(_),t._vsc_buffer_delete(d)}}static updateDeblindedWithToken(r,n){Be("deblindedPassword",r),Be("passwordUpdateToken",n);const i=r.length*r.BYTES_PER_ELEMENT,s=t._malloc(i);t.HEAP8.set(r,s);const o=t._vsc_data_ctx_size(),a=t._malloc(o);t._vsc_data(a,s,i);const c=n.length*n.BYTES_PER_ELEMENT,u=t._malloc(c);t.HEAP8.set(n,u);const l=t._vsc_data_ctx_size(),_=t._malloc(l);t._vsc_data(_,u,c);const f=e.Pythia.deblindedPasswordBufLen(),d=t._vsc_buffer_new_with_capacity(f);try{const r=t._vscp_pythia_update_deblinded_with_token(a,_,d);e.PythiaError.handleStatusCode(r);const n=t._vsc_buffer_bytes(d),i=t._vsc_buffer_len(d);return t.HEAPU8.slice(n,n+i)}finally{t._free(s),t._free(a),t._free(u),t._free(_),t._vsc_buffer_delete(d)}}})(e,r),t(r)},e.onAbort=t=>{r(new Error(t))}})}),Ue.on("load",(t,e)=>{if("pythia"===t)try{e.Pythia.configure()}catch(t){throw e.Pythia.cleanup(),t}}),Ue.on("remove",(t,e)=>{"pythia"===t&&e.Pythia.cleanup()});const ze=()=>Ue.getModule("pythia"),He=Ue.loadModules;for(var je=[],Ye=[],Ve="undefined"!=typeof Uint8Array?Uint8Array:Array,qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ge=0,We=qe.length;Ge<We;++Ge)je[Ge]=qe[Ge],Ye[qe.charCodeAt(Ge)]=Ge;function Xe(t,e,r){for(var n,i=[],s=e;s<r;s+=3)i.push(je[(n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+je[n>>12&63]+je[n>>6&63]+je[63&n]);return i.join("")}Ye["-".charCodeAt(0)]=62,Ye["_".charCodeAt(0)]=63;var $e,Je=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,_=r?i-1:0,f=r?-1:1,d=t[e+_];for(_+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+_],_+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+_],_+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},Ze=function(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,_=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+_>=1?f/c:f*Math.pow(2,1-_))*c>=2&&(o++,c/=2),o+_>=l?(a=0,o=l):o+_>=1?(a=(e*c-1)*Math.pow(2,i),o+=_):(a=e*Math.pow(2,_-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*h},Qe=(function(t,e){var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function n(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,i.prototype),e}function i(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}return s(t,e,r)}function s(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|_(t,e),s=n(r),o=s.write(t,e);return o!==r&&(s=s.slice(0,o)),s}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(O(t,ArrayBuffer)||t&&O(t.buffer,ArrayBuffer))return u(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(O(t,SharedArrayBuffer)||t&&O(t.buffer,SharedArrayBuffer)))return u(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var s=t.valueOf&&t.valueOf();if(null!=s&&s!==t)return i.from(s,e,r);var o=function(t){if(i.isBuffer(t)){var e=0|l(t.length),r=n(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||D(t.length)?n(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return i.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return o(t),n(t<0?0:0|l(t))}function c(t){for(var e=t.length<0?0:0|l(t.length),r=n(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function u(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,i.prototype),n}function l(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function _(t,e){if(i.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||O(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(t).length;default:if(s)return n?-1:R(t).length;e=(""+e).toLowerCase(),s=!0}}function f(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return w(this,e,r);case"ascii":return E(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return b(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p(t,e,r,n,s){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),D(r=+r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0){if(!s)return-1;r=0}if("string"==typeof e&&(e=i.from(e,n)),i.isBuffer(e))return 0===e.length?-1:h(t,e,r,n,s);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):h(t,[e],r,n,s);throw new TypeError("val must be string, number or Buffer")}function h(t,e,r,n,i){var s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var _=!0,f=0;f<c;f++)if(u(t,s+f)!==u(e,f)){_=!1;break}if(_)return s}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(D(a))return o;t[r+o]=a}return o}function v(t,e,r,n){return B(R(e,t.length-r),t,r,n)}function m(t,e,r,n){return B(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function g(t,e,r,n){return m(t,e,r,n)}function P(t,e,r,n){return B(L(e),t,r,n)}function x(t,e,r,n){return B(function(t,e){for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function b(t,e,r){return function(t){for(var e,r=t.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(Xe(t,s,s+16383>o?o:s+16383));return 1===n?i.push(je[(e=t[r-1])>>2]+je[e<<4&63]+"=="):2===n&&i.push(je[(e=(t[r-2]<<8)+t[r-1])>>10]+je[e>>4&63]+je[e<<2&63]+"="),i.join("")}(0===e&&r===t.length?t:t.slice(e,r))}function w(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,u=t[i],l=null,_=u>239?4:u>223?3:u>191?2:1;if(i+_<=r)switch(_){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:o=t[i+2],128==(192&(s=t[i+1]))&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+2],a=t[i+3],128==(192&(s=t[i+1]))&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,_=1):l>65535&&(n.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=_}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function E(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=M[t[s]];return i}function N(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function A(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,s,o){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function S(t,e,r,n,i){return e=+e,r>>>=0,i||T(t,0,r,4),Ze(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return e=+e,r>>>=0,i||T(t,0,r,8),Ze(t,e,r,n,52,8),r+8}e.Buffer=i,e.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,(i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(t,e,r){return s(t,e,r)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(t,e,r){return function(t,e,r){return o(t),t<=0?n(t):void 0!==e?"string"==typeof r?n(t).fill(e,r):n(t).fill(e):n(t)}(t,e,r)},i.allocUnsafe=function(t){return a(t)},i.allocUnsafeSlow=function(t){return a(t)},i.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==i.prototype},i.compare=function(t,e){if(O(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),O(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,s=0,o=Math.min(r,n);s<o;++s)if(t[s]!==e[s]){r=t[s],n=e[s];break}return r<n?-1:n<r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=i.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){var o=t[r];if(O(o,Uint8Array)&&(o=i.from(o)),!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,s),s+=o.length}return n},i.byteLength=_,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?w(this,0,t):f.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(t,e,r,n,s){if(O(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),e<0||r>t.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&e>=r)return 0;if(n>=s)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),c=Math.min(o,a),u=this.slice(n,s),l=t.slice(e,r),_=0;_<c;++_)if(u[_]!==l[_]){o=u[_],a=l[_];break}return o<a?-1:a<o?1:0},i.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},i.prototype.indexOf=function(t,e,r){return p(this,t,e,r,!0)},i.prototype.lastIndexOf=function(t,e,r){return p(this,t,e,r,!1)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return v(this,t,e,r);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return g(this,t,e,r);case"base64":return P(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,i.prototype),n},i.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},i.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},i.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},i.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},i.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),Je(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),Je(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),Je(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),Je(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,r){return S(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return S(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(!i.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var s=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=s-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return s},i.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var s=t.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(t=s)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=i.isBuffer(t)?t:i.from(t,n),c=a.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%c]}return this};var K=/[^+/0-9A-Za-z-_]/g;function R(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function L(t){return function(t){var e,r,n=function(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}(t),i=n[0],s=n[1],o=new Ve(function(t,e,r){return 3*(e+r)/4-r}(0,i,s)),a=0,c=s>0?i-4:i;for(r=0;r<c;r+=4)e=Ye[t.charCodeAt(r)]<<18|Ye[t.charCodeAt(r+1)]<<12|Ye[t.charCodeAt(r+2)]<<6|Ye[t.charCodeAt(r+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===s&&(e=Ye[t.charCodeAt(r)]<<2|Ye[t.charCodeAt(r+1)]>>4,o[a++]=255&e),1===s&&(e=Ye[t.charCodeAt(r)]<<10|Ye[t.charCodeAt(r+1)]<<4|Ye[t.charCodeAt(r+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o}(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function O(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function D(t){return t!=t}var M=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}()}($e={exports:{}},$e.exports),$e.exports).Buffer;const tr=(er=Qe,(t,e)=>{if("string"==typeof t){if("string"==typeof e&&!er.isEncoding(e))throw new TypeError("Invalid default encoding.");return er.from(t,e)}if(t instanceof Uint8Array)return t;if("object"==typeof t&&"string"==typeof t.value&&er.isEncoding(t.encoding))return er.from(t.value,t.encoding);throw new TypeError("Invalid format of 'Data'.")});var er;const rr=(t=>e=>{let r=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r})(Qe);class nr{blind(t){const{Pythia:e}=ze(),r=tr(t,"utf8"),{blindedPassword:n,blindingSecret:i}=e.blind(r);return{blindedPassword:rr(n),blindingSecret:rr(i)}}deblind(t){const{Pythia:e}=ze(),r=tr(t.transformedPassword,"base64"),n=tr(t.blindingSecret,"base64"),i=e.deblind(r,n);return rr(i)}}var ir="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function sr(){throw new Error("setTimeout has not been defined")}function or(){throw new Error("clearTimeout has not been defined")}var ar=sr,cr=or;function ur(t){if(ar===setTimeout)return setTimeout(t,0);if((ar===sr||!ar)&&setTimeout)return ar=setTimeout,setTimeout(t,0);try{return ar(t,0)}catch(i){try{return ar.call(null,t,0)}catch(i){return ar.call(this,t,0)}}}"function"==typeof ir.setTimeout&&(ar=setTimeout),"function"==typeof ir.clearTimeout&&(cr=clearTimeout);var lr,_r=[],fr=!1,dr=-1;function pr(){fr&&lr&&(fr=!1,lr.length?_r=lr.concat(_r):dr=-1,_r.length&&hr())}function hr(){if(!fr){var t=ur(pr);fr=!0;for(var e=_r.length;e;){for(lr=_r,_r=[];++dr<e;)lr&&lr[dr].run();dr=-1,e=_r.length}lr=null,fr=!1,function(t){if(cr===clearTimeout)return clearTimeout(t);if((cr===or||!cr)&&clearTimeout)return cr=clearTimeout,clearTimeout(t);try{cr(t)}catch(i){try{return cr.call(null,t)}catch(i){return cr.call(this,t)}}}(t)}}function yr(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];_r.push(new vr(t,e)),1!==_r.length||fr||ur(hr)}function vr(t,e){this.fun=t,this.array=e}function mr(){}vr.prototype.run=function(){this.fun.apply(null,this.array)};var gr=mr,Pr=mr,xr=mr,br=mr,wr=mr,Er=mr,kr=mr,Ir=ir.performance||{},Nr=Ir.now||Ir.mozNow||Ir.msNow||Ir.oNow||Ir.webkitNow||function(){return(new Date).getTime()},Ar=new Date,Cr={nextTick:yr,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:gr,addListener:Pr,once:xr,off:br,removeListener:wr,removeAllListeners:Er,emit:kr,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Nr.call(Ir),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ar)/1e3}},Tr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ir?ir:"undefined"!=typeof self?self:{};function Sr(t,e){return t(e={exports:{}},e.exports),e.exports}var Fr=Sr((function(t,e){!function(r){var n=e,i=t&&t.exports==n&&t,s="object"==typeof Tr&&Tr;s.global!==s&&s.window!==s||(r=s);var o=function(t){this.message=t};(o.prototype=new Error).name="InvalidCharacterError";var a=function(t){throw new o(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,n,i,s=t.length%3,o="",u=-1,l=t.length-s;++u<l;)e=t.charCodeAt(u)<<16,r=t.charCodeAt(++u)<<8,n=t.charCodeAt(++u),o+=c.charAt((i=e+r+n)>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==s?(e=t.charCodeAt(u)<<8,r=t.charCodeAt(++u),o+=c.charAt((i=e+r)>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==s&&(i=t.charCodeAt(u),o+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),o},decode:function(t){var e=(t=String(t).replace(u,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,s="",o=-1;++o<e;)n=c.indexOf(t.charAt(o)),r=i%4?64*r+n:n,i++%4&&(s+=String.fromCharCode(255&r>>(-2*i&6)));return s},version:"0.1.0"};if(n&&!n.nodeType)if(i)i.exports=l;else for(var _ in l)l.hasOwnProperty(_)&&(n[_]=l[_]);else r.base64=l}(Tr)}));function Kr(t){return Fr.decode(t)}function Rr(t){return Fr.encode(t)}function Lr(t){return(t=t.split("=")[0]).replace(/\+/g,"-").replace(/\//g,"_")}function Br(t){switch((t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}return t}function Or(t){return Lr(Rr(t))}function Dr(t){return Kr(Br(t))}function Mr(t){let e;return e="number"==typeof t?t:t.getTime(),Math.floor(e/1e3)}class Ur{constructor(t,e,r){if("string"==typeof t){const e=t,r=e.split(".");if(3!==r.length)throw new Error("Wrong JWT format");try{this.header=JSON.parse(Dr(r[0])),this.body=JSON.parse(Dr(r[1])),this.signature=Br(r[2])}catch(i){throw new Error("Wrong JWT format")}this.unsignedData=r[0]+"."+r[1],this.stringRepresentation=e}else{if("object"!=typeof t||"object"!=typeof e)throw new TypeError("Invalid arguments for function Jwt. Expected a string representation of a token, or header and body as objects");this.header=t,this.body=e,this.signature=r,this.unsignedData=this.headerBase64()+"."+this.bodyBase64(),this.stringRepresentation=null==this.signature?this.unsignedData:this.unsignedData+"."+this.signatureBase64()}}static fromString(t){return new Ur(t)}toString(){return this.stringRepresentation}identity(){if(0!==this.body.sub.indexOf("identity-"))throw new Error("wrong sub format");return this.body.sub.substr("identity-".length)}appId(){if(0!==this.body.iss.indexOf("virgil-"))throw new Error("wrong iss format");return this.body.iss.substr("virgil-".length)}isExpired(t=new Date){const e=Mr(t);return this.body.exp<e}headerBase64(){return Or(JSON.stringify(this.header))}bodyBase64(){return Or(JSON.stringify(this.body))}signatureBase64(){return Lr(this.signature)}}function zr(t,e){if(!t)throw new Error(e)}class Hr{constructor(t,e){if("function"!=typeof t)throw new TypeError("`renewJwtFn` must be a function");if(e){let t;if("string"==typeof e)t=Ur.fromString(e);else{if(!(e instanceof Ur))throw new Error('Expected "initialToken" to be a string or an instance of Jwt, got '+typeof e);t=e}this.cachedJwt=t}this.getJwt=e=>{return this.cachedJwt&&!this.cachedJwt.isExpired((r=new Date,"number"==typeof r?new Date(r+5e3):new Date(r.getTime()+5e3)))?Promise.resolve(this.cachedJwt):(this.jwtPromise||(this.jwtPromise=Promise.resolve(t(e)).then(t=>{const e="string"==typeof t?Ur.fromString(t):t;return this.cachedJwt=e,this.jwtPromise=void 0,e}).catch(t=>{throw this.jwtPromise=void 0,t})),this.jwtPromise);var r}}getToken(t){return this.getJwt(t)}}function jr(t,e,r,n){return new(r||(r=Promise))((function(s,o){function a(t){try{u(n.next(t))}catch(i){o(i)}}function c(t){try{u(n.throw(t))}catch(i){o(i)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))}class Yr{constructor(t,e){this.contentSnapshot=t,this.signatures=e}static fromString(t){const e=Kr(t);let r;try{r=JSON.parse(e)}catch(n){throw new Error("The string to be parsed is in invalid format")}return Yr.fromJson(r)}static fromJson(t){const e=Kr(t.content_snapshot),r=(t.signatures||[]).map(({signer:t,signature:e,snapshot:r})=>r?{signer:t,signature:e,snapshot:Kr(r)}:{signer:t,signature:e});return new Yr(e,r)}toJSON(){return this.toJson()}toJson(){return{content_snapshot:Rr(this.contentSnapshot),signatures:this.signatures.map(({signer:t,signature:e,snapshot:r})=>r?{signer:t,signature:e,snapshot:Rr(r)}:{signer:t,signature:e})}}toString(){return Rr(JSON.stringify(this))}exportAsJson(){return this.toJson()}exportAsString(){return this.toString()}}var Vr=Sr((function(t,e){!function(e){t.exports=function(t){var r=t&&t.Promise||e.Promise,n=t&&t.XMLHttpRequest||e.XMLHttpRequest,s=e;return function(){var t=Object.create(s,{fetch:{value:void 0,writable:!0}});return function(t){if(!t.fetch){var e="URLSearchParams"in t,s="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(i){return!1}}(),a="FormData"in t,c="ArrayBuffer"in t;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};v.prototype.append=function(t,e){t=p(t),e=h(e);var r=this.map[t];this.map[t]=r?r+","+e:e},v.prototype.delete=function(t){delete this.map[p(t)]},v.prototype.get=function(t){return t=p(t),this.has(t)?this.map[t]:null},v.prototype.has=function(t){return this.map.hasOwnProperty(p(t))},v.prototype.set=function(t,e){this.map[p(t)]=h(e)},v.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},v.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),y(t)},v.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),y(t)},v.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),y(t)},s&&(v.prototype[Symbol.iterator]=v.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var d=[301,302,303,307,308];k.redirect=function(t,e){if(-1===d.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},t.Headers=v,t.Request=w,t.Response=k,t.fetch=function(t,e){return new r((function(r,i){var s=new w(t,e),a=new n;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new v,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new k("response"in a?a.response:a.responseText,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===s._bodyInit?null:s._bodyInit)}))},t.fetch.polyfill=!0}function p(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function y(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(e[Symbol.iterator]=function(){return e}),e}function v(t){this.map={},t instanceof v?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return r.reject(new TypeError("Already read"));t.bodyUsed=!0}function g(t){return new r((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function P(t){var e=new FileReader,r=g(e);return e.readAsArrayBuffer(t),r}function x(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(o&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(a&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(c&&o&&l(t))this._bodyArrayBuffer=x(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!c||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=x(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||r.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var t,e,n,i=m(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,n=g(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return r.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(t,e){var r=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new v(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new v(e.headers)),this.method=function(t){var e=t.toUpperCase();return f.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new v(e.headers),this.url=e.url||"",this._initBody(t)}}(void 0!==t?t:this),{fetch:t.fetch,Headers:t.Headers,Request:t.Request,Response:t.Response}}()}}("undefined"!=typeof self?self:Tr)}));const{fetch:qr,Headers:Gr}=Vr(),Wr=[{name:"Windows Phone",test:[/windows phone/i]},{test:[/windows/i],name:"Windows"},{test:[/macintosh/i],name:"macOS"},{test:[/(ipod|iphone|ipad)/i],name:"iOS"},{test:[/android/i],name:"Android"},{test:[/linux/i],name:"Linux"},{test:[/CrOS/],name:"Chrome OS"},{test:[/PlayStation 4/],name:"PlayStation 4"}],Xr=[{test:[/googlebot/i],name:"Googlebot"},{test:[/opera/i,/opr\/|opios/i],name:"Opera"},{test:[/msie|trident/i],name:"Internet Explorer"},{test:[/\sedg/i],name:"Microsoft Edge"},{test:[/firefox|iceweasel|fxios/i],name:"Firefox"},{test:[/chromium/i],name:"Chromium"},{test:[/chrome|crios|crmo/i],name:"Chrome"},{test:[/android/i],name:"Android Browser"},{test:[/playstation 4/i],name:"PlayStation 4"},{test:[/safari|applewebkit/i],name:"Safari"}];class $r{constructor(t,e,r){this.isIonic=()=>"undefined"!=typeof window&&!!("cordova"in window||"phonegap"in window||"PhoneGap"in window)&&/android|ios|iphone|ipod|ipad|iemobile/i.test(this.userAgent),this.userAgent=r||this.getUserAgent(),this.value=`${t};js;${this.getHeaderValue()};${e}`}getUserAgent(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}getOsName(){const t=Wr.find(t=>t.test.some(t=>t.test(this.userAgent)));return t?t.name:"other"}getBrowser(){const t=Xr.find(t=>t.test.some(t=>t.test(this.userAgent)));return t?t.name:"other"}isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}getHeaderValue(){try{return this.isReactNative()?"ReactNative":this.isIonic()?"Ionic/"+this.getOsName():`${this.getBrowser()}/${this.getOsName()}`}catch(i){return"Unknown"}}}class Jr{constructor(t,e){this.prefix=t,e||(e={product:"sdk",version:"6.1.2"}),this.virgilAgentValue=new $r(e.product,e.version).value}get(t,e){const r=this.createHeaders(e);return this.send(t,"GET",{headers:r})}post(t,e,r={}){const n=this.createHeaders(e);return n.set("Content-Type","application/json"),this.send(t,"POST",{headers:n,body:JSON.stringify(r)})}send(t,e,r){return qr(this.prefix+t,Object.assign({method:e},r))}createHeaders(t){const e=new Gr;return e.set("Authorization","Virgil "+t),e.set("Virgil-Agent",this.virgilAgentValue),e}}class Zr extends Error{constructor(t,e="VirgilError",r=Zr){super(t),Object.setPrototypeOf(this,r.prototype),this.name=e}}var Qr=function(t){return t[t.AccessTokenExpired=20304]="AccessTokenExpired",t[t.Unknown=0]="Unknown",t}({});class tn extends Zr{constructor(t,e,r){super(t,"VirgilHttpError",tn),this.httpStatus=e,this.errorCode=r}}function en(t){return jr(this,void 0,void 0,(function*(){if(t.status>=400&&t.status<500){const e=yield t.json();return new tn(e.message,t.status,e.code)}return new tn(t.statusText,t.status,0)}))}class rn{constructor(t,e){this.connection="string"==typeof t?new Jr(t,e):t||new Jr("https://api.virgilsecurity.com",e)}searchCards(t,e){return jr(this,void 0,void 0,(function*(){const r=yield this.connection.post("/card/v5/actions/search",e,{identities:t});if(!r.ok)throw yield en(r);const n=yield r.json();return null===n?[]:n.map(Yr.fromJson)}))}getCard(t,e){return jr(this,void 0,void 0,(function*(){if(!t)throw new TypeError("`cardId` should not be empty");if(!e)throw new TypeError("`accessToken` should not be empty");const r=yield this.connection.get((t=>"/card/v5/"+t)(t),e);if(!r.ok)throw yield en(r);const n="true"===r.headers.get("X-Virgil-Is-Superseeded"),i=yield r.json();return{cardRaw:Yr.fromJson(i),isOutdated:n}}))}publishCard(t,e){return jr(this,void 0,void 0,(function*(){if(!t)throw new TypeError("`model` should not be empty");if(!e)throw new TypeError("`accessToken` should not be empty");const r=yield this.connection.post("/card/v5",e,t);if(!r.ok)throw yield en(r);const n=yield r.json();return Yr.fromJson(n)}))}revokeCard(t,e){return jr(this,void 0,void 0,(function*(){if(!t)throw new TypeError("`cardId` should not be empty");if(!e)throw new TypeError("`accessToken` should not be empty");const r=yield this.connection.post((t=>"/card/v5/actions/revoke/"+t)(t),e);if(!r.ok)throw yield en(r)}))}}class nn{constructor(t){this.crypto=t}sign(t){const{model:e,signerPrivateKey:r,signer:n,extraSnapshot:i}=this.prepareParams(t),s=this.crypto.generateSignature({value:null!=i?e.contentSnapshot+i:e.contentSnapshot,encoding:"utf8"},r);e.signatures.push({signer:n,signature:s.toString("base64"),snapshot:i})}prepareParams({model:t,signerPrivateKey:e,extraFields:r,signer:n}){let i;n=n||"self",null!=r&&(i=JSON.stringify(r));const s={model:t,signerPrivateKey:e,signer:n,extraSnapshot:i};return this.validate(s),s}validate({model:t,signerPrivateKey:e,signer:r}){if(null==t)throw new Error("Model is empty");if(null==e)throw new Error("`signerPrivateKey` property is mandatory");if(null!=t.signatures&&t.signatures.some(t=>t.signer==r))throw new Error("The model already has this signature.")}}function sn(t,e,r=!1){const n=JSON.parse(e.contentSnapshot),i=e.signatures.map(an);return{id:on(t,e.contentSnapshot),publicKey:t.importPublicKey({value:n.public_key,encoding:"base64"}),contentSnapshot:e.contentSnapshot,identity:n.identity,version:n.version,createdAt:new Date(1e3*n.created_at),previousCardId:n.previous_card_id,signatures:i,isOutdated:r}}function on(t,e){return t.generateSha512({value:e,encoding:"utf8"}).slice(0,32).toString("hex")}function an({snapshot:t,signature:e,signer:r}){return{signer:r,signature:e,snapshot:t,extraFields:cn(t)}}function cn(t){if(t)try{return JSON.parse(t)}catch(e){}return{}}class un extends Zr{constructor(t){super(t,"CardVerificationError",un)}}const ln={getToken:()=>{throw new Error("Please set `CardManager.accessTokenProvider` to be able to make requests.")}},_n=t=>Object.assign(Object.assign({},t),{service:"cards"});class fn{constructor(t){this.crypto=t.cardCrypto,this.client=new rn(t.apiUrl,t.productInfo),this.modelSigner=new nn(t.cardCrypto),this.signCallback=t.signCallback,this.retryOnUnauthorized=t.retryOnUnauthorized,this.cardVerifier=t.cardVerifier,this.accessTokenProvider=t.accessTokenProvider||ln}generateRawCard(t){const e=function(t,e){const{identity:r,publicKey:n,previousCardId:i}=e,s={identity:r,previous_card_id:i,created_at:Mr(new Date),version:"5.0",public_key:t.exportPublicKey(n).toString("base64")};return new Yr(JSON.stringify(s),[])}(this.crypto,t);return this.modelSigner.sign({model:e,signerPrivateKey:t.privateKey,signer:"self",extraFields:t.extraFields}),e}publishCard(t){return jr(this,void 0,void 0,(function*(){!function(t,e=!1){zr(null!=t,"Card parameters must be provided"),zr(null!=t.privateKey,"Card's private key is required"),zr(null!=t.publicKey,"Card's public key is required"),e&&zr("string"==typeof t.identity&&""!==t.identity,"Card's identity is required")}(t);const e={service:"cards",identity:t.identity,operation:"publish"},r=yield this.accessTokenProvider.getToken(e),n=this.generateRawCard(Object.assign({},t,{identity:r.identity()}));return yield this.publishRawSignedModel(n,e,r)}))}publishRawCard(t){return jr(this,void 0,void 0,(function*(){zr(null!=t&&null!=t.contentSnapshot,"`rawCard` should not be empty");const e=JSON.parse(t.contentSnapshot),r=_n({identity:e.identity,operation:"publish"}),n=yield this.accessTokenProvider.getToken(r);return this.publishRawSignedModel(t,r,n)}))}getCard(t){return jr(this,void 0,void 0,(function*(){const e=_n({operation:"get"}),r=yield this.accessTokenProvider.getToken(e),n=yield this.tryDo(e,r,e=>jr(this,void 0,void 0,(function*(){return yield this.client.getCard(t,e.toString())}))),i=sn(this.crypto,n.cardRaw,n.isOutdated);if(i.id!==t)throw new un("Received invalid card");return this.validateCards([i]),i}))}searchCards(t){return jr(this,void 0,void 0,(function*(){if(!t)throw new TypeError("Argument `identities` is required");const e=Array.isArray(t)?t:[t];if(0===e.length)throw new TypeError("Identities array must not be empty");const r=_n({operation:"search"}),n=yield this.accessTokenProvider.getToken(r),i=(yield this.tryDo(r,n,t=>jr(this,void 0,void 0,(function*(){return yield this.client.searchCards(e,t.toString())})))).map(t=>sn(this.crypto,t,!1)),s=new Set(e);if(i.some(t=>!s.has(t.identity)))throw new un("Received invalid cards");return this.validateCards(i),function(t){const e=Object.create(null);for(const r of t)e[r.id]=r;for(const r of t)null!=r.previousCardId&&null!=e[r.previousCardId]&&(e[r.previousCardId].isOutdated=!0,r.previousCard=e[r.previousCardId],delete e[r.previousCardId]);return Object.keys(e).map(t=>e[t])}(i)}))}revokeCard(t){return jr(this,void 0,void 0,(function*(){if(!t)throw new TypeError("Argument `cardId` is required");const e=_n({operation:"revoke"}),r=yield this.accessTokenProvider.getToken(e);yield this.tryDo(e,r,e=>jr(this,void 0,void 0,(function*(){return yield this.client.revokeCard(t,e.toString())})))}))}importCard(t){const e=sn(this.crypto,t);return this.validateCards([e]),e}importCardFromString(t){return zr(Boolean(t),"`str` should not be empty"),this.importCard(Yr.fromString(t))}importCardFromJson(t){return zr(Boolean(t),"`json` should not be empty"),this.importCard(Yr.fromJson(t))}exportCard(t){return function(t){return new Yr(t.contentSnapshot,t.signatures.slice())}(t)}exportCardAsString(t){return this.exportCard(t).toString()}exportCardAsJson(t){return this.exportCard(t).toJson()}publishRawSignedModel(t,e,r){return jr(this,void 0,void 0,(function*(){null!=this.signCallback&&(t=yield this.signCallback(t));const n=yield this.tryDo(e,r,e=>jr(this,void 0,void 0,(function*(){return yield this.client.publishCard(t,e.toString())})));if(t.contentSnapshot!==n.contentSnapshot)throw new un("Received invalid card");const i=sn(this.crypto,n);return this.validateCards([i]),i}))}tryDo(t,e,r){return jr(this,void 0,void 0,(function*(){try{return yield r(e)}catch(i){if(i instanceof tn&&401===i.httpStatus&&i.errorCode===Qr.AccessTokenExpired&&this.retryOnUnauthorized)return e=yield this.accessTokenProvider.getToken(_n({identity:t.identity,operation:t.operation,forceReload:!0})),yield r(e);throw i}}))}validateCards(t){if(null!=this.cardVerifier)for(const e of t)if(!this.cardVerifier.verifyCard(e))throw new un("Validation errors have been detected")}}const dn={verifySelfSignature:!0,verifyVirgilSignature:!0,whitelists:[]};class pn{constructor(t,e){this.crypto=t;const r=Object.assign(Object.assign({},dn),e||{});this.verifySelfSignature=r.verifySelfSignature,this.verifyVirgilSignature=r.verifyVirgilSignature,this.whitelists=r.whitelists,this.virgilCardsPublicKey=t.importPublicKey({value:"MCowBQYDK2VwAyEAljOYGANYiVq1WbvVvoYIKtvZi2ji9bAhxyu6iV/LF8M=",encoding:"base64"})}verifyCard(t){if(this.selfValidationFailed(t))return!1;if(this.virgilValidationFailed(t))return!1;if(!this.whitelists||0===this.whitelists.length)return!0;const e=t.signatures.map(t=>t.signer);for(const r of this.whitelists){if(null==r||0===r.length)return!1;const n=r.filter(t=>-1!==e.indexOf(t.signer));if(0===n.length)return!1;if(!n.some(e=>this.validateSignerSignature(t,this.getPublicKey(e.publicKeyBase64),e.signer)))return!1}return!0}selfValidationFailed(t){return this.verifySelfSignature&&!this.validateSignerSignature(t,t.publicKey,"self")}virgilValidationFailed(t){return this.verifyVirgilSignature&&!this.validateSignerSignature(t,this.virgilCardsPublicKey,"virgil")}getPublicKey(t){return this.crypto.importPublicKey({value:t,encoding:"base64"})}validateSignerSignature(t,e,r){const n=t.signatures.find(t=>t.signer===r);return null!=n&&this.crypto.verifySignature({value:null==n.snapshot?t.contentSnapshot:t.contentSnapshot+n.snapshot,encoding:"utf8"},{value:n.signature,encoding:"base64"},e)}}var hn=Sr((function(t,e){!function(t){var e,r,n,i=String.fromCharCode;function s(t){for(var e,r,n=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function o(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function a(t,e){return i(t>>e&63|128)}function c(t){if(0==(4294967168&t))return i(t);var e="";return 0==(4294965248&t)?e=i(t>>6&31|192):0==(4294901760&t)?(o(t),e=i(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=i(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+i(63&t|128)}function u(){if(n>=r)throw Error("Invalid byte index");var t=255&e[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(){var t,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(t=255&e[n],n++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|u()<<6|u())>=2048)return o(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.version="3.0.0",t.encode=function(t){for(var e=s(t),r=e.length,n=-1,i="";++n<r;)i+=c(e[n]);return i},t.decode=function(t){e=s(t),r=e.length,n=0;for(var o,a=[];!1!==(o=l());)a.push(o);return function(t){for(var e,r=t.length,n=-1,s="";++n<r;)(e=t[n])>65535&&(s+=i((e-=65536)>>>10&1023|55296),e=56320|1023&e),s+=i(e);return s}(a)}}(e)}));class yn extends Zr{constructor(t){super(`Storage entry ${t?"with key "+name:"with the given key"}already exists`,"StorageEntryAlreadyExistsError",yn)}}const vn={};class mn{constructor(t){if(this._initStorage=()=>{const t={db:null,name:this._defaultConfig.name,storeName:this._defaultConfig.storeName,version:this._defaultConfig.version};let e=vn[t.name];return e||(e={db:null,dbReady:null,deferredOperations:[]},vn[t.name]=e),Promise.resolve().then(()=>(t.db=e.db,xn(t))).then(e=>(t.db=e,wn(t,this._defaultConfig.version)?bn(t):e)).then(r=>{t.db=e.db=r,this._dbInfo=t})},this.ready=()=>this._ready.then(()=>{const t=vn[this._dbInfo.name];if(t&&t.dbReady)return t.dbReady}),!function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(i){return!1}}())throw new Error("Cannot use IndexedDbStorageAdapter. indexedDb is not supported");this._defaultConfig={name:t.name,version:1,storeName:"keyvaluepairs"},this._ready=this._initStorage()}store(t,e){return t=kn(t),new Promise((r,n)=>{this.ready().then(()=>{En(this._dbInfo,"readwrite",(i,s)=>{if(i)return n(i);try{const i=s.objectStore(this._dbInfo.storeName).add(e,t);s.oncomplete=()=>{r()},s.onabort=s.onerror=()=>{let e=i.error?i.error:i.transaction.error;e&&"ConstraintError"===e.name&&n(new yn(t)),n(e)}}catch(o){n(o)}})}).catch(n)})}load(t){return t=kn(t),new Promise((e,r)=>{this.ready().then(()=>{En(this._dbInfo,"readonly",(n,s)=>{if(n)return r(n);try{const n=s.objectStore(this._dbInfo.storeName).get(t);n.onsuccess=function(){if(null==n.result)return e(null);e(In(n.result))},n.onerror=function(){r(n.error)}}catch(i){r(i)}})}).catch(r)})}exists(t){return t=kn(t),new Promise((e,r)=>{this.ready().then(()=>{En(this._dbInfo,"readonly",(n,s)=>{if(n)return r(n);try{const n=s.objectStore(this._dbInfo.storeName).openCursor(t);n.onsuccess=()=>{e(null!==n.result)},n.onerror=()=>{r(n.error)}}catch(i){r(i)}})}).catch(r)})}remove(t){return t=kn(t),new Promise((e,r)=>{this.ready().then(()=>{En(this._dbInfo,"readwrite",(n,s)=>{if(n)return r(n);try{const n=s.objectStore(this._dbInfo.storeName),i=n.count(t);let o;i.onsuccess=()=>{if(0===i.result)return e(!1);o=n.delete(t),o.onsuccess=()=>e(!0)},s.onabort=s.onerror=()=>{const t=o||i;r(t.error?t.error:t.transaction.error)}}catch(i){r(i)}})}).catch(r)})}update(t,e){return t=kn(t),new Promise((r,n)=>{this.ready().then(()=>{En(this._dbInfo,"readwrite",(i,s)=>{if(i)return n(i);try{const i=s.objectStore(this._dbInfo.storeName).put(e,t);i.onsuccess=()=>{r()},i.onerror=()=>{n(i.error)}}catch(o){n(o)}})}).catch(n)})}clear(){return new Promise((t,e)=>{this.ready().then(()=>{En(this._dbInfo,"readwrite",(r,n)=>{if(r)return e(r);try{const r=n.objectStore(this._dbInfo.storeName).clear();n.oncomplete=()=>t(),n.onabort=n.onerror=()=>{e(r.error?r.error:r.transaction.error)}}catch(i){e(i)}})}).catch(e)})}list(){return new Promise((t,e)=>{this.ready().then(()=>{En(this._dbInfo,"readonly",(r,n)=>{if(r)return e(r);try{const r=n.objectStore(this._dbInfo.storeName).openCursor(),i=[];r.onsuccess=()=>{const e=r.result;e?(i.push(In(e.value)),e.continue()):t(i)},r.onerror=()=>{e(r.error)}}catch(i){e(i)}})}).catch(e)})}}function gn(t){const e=vn[t.name],r={};r.promise=new Promise((t,e)=>{r.resolve=t,r.reject=e}),e.deferredOperations.push(r),e.dbReady=e.dbReady?e.dbReady.then(()=>r.promise):r.promise}function Pn(t,e){return new Promise((function(r,n){if(vn[t.name]=vn[t.name]||{db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);gn(t),t.db.close()}const i=[t.name];e&&i.push(String(t.version));const s=indexedDB.open.apply(indexedDB,i);e&&(s.onupgradeneeded=e=>{const r=s.result;try{r.createObjectStore(t.storeName)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=t=>{t.preventDefault(),n(s.error)},s.onsuccess=()=>{r(s.result),function(t){const e=vn[t.name].deferredOperations.pop();e&&e.resolve()}(t)}}))}function xn(t){return Pn(t,!1)}function bn(t){return Pn(t,!0)}function wn(t,e){if(!t.db)return!0;const r=!t.db.objectStoreNames.contains(t.storeName),n=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),n||r){if(r){const e=t.db.version+1;e>t.version&&(t.version=e)}return!0}return!1}function En(t,e,r,n){void 0===n&&(n=1);try{const n=t.db.transaction(t.storeName,e);r(null,n)}catch(i){n>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name)&&Promise.resolve().then(()=>{if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),bn(t)}).then(()=>function(t){gn(t);const e=vn[t.name];return t.db=null,xn(t).then(e=>(t.db=e,wn(t)?bn(t):e)).then(r=>{t.db=e.db=r}).catch(e=>{throw function(t,e){const r=vn[t.name].deferredOperations.pop();r&&r.reject(e)}(t,e),e})}(t).then((function(){En(t,e,r,n-1)}))).catch(r),r(i)}}function kn(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function In(t){if(t instanceof ArrayBuffer){const e=new Uint8Array(t);return hn.decode(String.fromCharCode.apply(null,e))}if("string"==typeof t)return t;throw new TypeError("Unknown value format")}class Nn extends Zr{constructor(t="Loaded key entry was in invalid format."){super(t,"InvalidKeyEntryError",Nn)}}class An extends Zr{constructor(t){super(`Key entry ${t?"named "+t:"with same name"}already exists`,"KeyEntryAlreadyExistsError",An)}}class Cn extends Zr{constructor(t){super(`Key entry ${t?"named "+t:"with the given name"} does not exist.`,"KeyEntryDoesNotExistError",Cn)}}const Tn={dir:".virgil_key_entries",name:"VirgilKeyEntries"};class Sn{constructor(t={}){this.adapter=function(t){if("string"==typeof t)return new mn({dir:t,name:t});const{adapter:e}=t,r=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(t,["adapter"]);return null!=e?e:new mn(Object.assign(Object.assign({},Tn),r))}(t)}exists(t){return Ln(t),this.adapter.exists(t)}load(t){return Ln(t),this.adapter.load(t).then(t=>null==t?null:Kn(t))}remove(t){return Ln(t),this.adapter.remove(t)}save({name:t,value:e,meta:r}){Bn(t),On(e);const n={name:t,value:e,meta:r,creationDate:new Date,modificationDate:new Date};return this.adapter.store(t,Fn(n)).then(()=>n).catch(e=>{if(e&&"StorageEntryAlreadyExistsError"===e.name)throw new An(t);throw e})}list(){return this.adapter.list().then(t=>t.map(t=>Kn(t)))}update({name:t,value:e,meta:r}){if(Bn(t),!e&&!r)throw new TypeError("Invalid argument. Either `value` or `meta` property is required.");return this.adapter.load(t).then(n=>{if(null===n)throw new Cn(t);const i=Kn(n),s=Object.assign(i,{value:e||i.value,meta:r||i.meta,modificationDate:new Date});return this.adapter.update(t,Fn(s)).then(()=>s)})}clear(){return this.adapter.clear()}}function Fn(t){return JSON.stringify(t)}function Kn(t){try{return JSON.parse(t,(t,e)=>"creationDate"===t||"modificationDate"===t?new Date(e):e)}catch(e){throw new Nn}}const Rn=t=>e=>{if(!e)throw new TypeError(`Invalid argument. Property ${t} is required`)},Ln=t=>{if(!t)throw new TypeError("Argument 'name' is required.")},Bn=Rn("name"),On=Rn("value");var Dn=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}},Mn=Object.prototype.toString;function Un(t){return"[object Array]"===Mn.call(t)}function zn(t){return void 0===t}function Hn(t){return null!==t&&"object"==typeof t}function jn(t){return"[object Function]"===Mn.call(t)}function Yn(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),Un(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var Vn={isArray:Un,isArrayBuffer:function(t){return"[object ArrayBuffer]"===Mn.call(t)},isBuffer:function(t){return null!==t&&!zn(t)&&null!==t.constructor&&!zn(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Hn,isUndefined:zn,isDate:function(t){return"[object Date]"===Mn.call(t)},isFile:function(t){return"[object File]"===Mn.call(t)},isBlob:function(t){return"[object Blob]"===Mn.call(t)},isFunction:jn,isStream:function(t){return Hn(t)&&jn(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Yn,merge:function t(){var e={};function r(r,n){e[n]="object"==typeof e[n]&&"object"==typeof r?t(e[n],r):r}for(var n=0,i=arguments.length;n<i;n++)Yn(arguments[n],r);return e},deepMerge:function t(){var e={};function r(r,n){e[n]="object"==typeof e[n]&&"object"==typeof r?t(e[n],r):"object"==typeof r?t({},r):r}for(var n=0,i=arguments.length;n<i;n++)Yn(arguments[n],r);return e},extend:function(t,e,r){return Yn(e,(function(e,n){t[n]=r&&"function"==typeof e?Dn(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function qn(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Gn=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(Vn.isURLSearchParams(e))n=e.toString();else{var i=[];Vn.forEach(e,(function(t,e){null!=t&&(Vn.isArray(t)?e+="[]":t=[t],Vn.forEach(t,(function(t){Vn.isDate(t)?t=t.toISOString():Vn.isObject(t)&&(t=JSON.stringify(t)),i.push(qn(e)+"="+qn(t))})))})),n=i.join("&")}if(n){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function Wn(){this.handlers=[]}Wn.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},Wn.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Wn.prototype.forEach=function(t){Vn.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var Xn=Wn,$n=function(t,e,r){return Vn.forEach(r,(function(r){t=r(t,e)})),t},Jn=function(t){return!(!t||!t.__CANCEL__)},Zn=function(t,e){Vn.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))},Qn=function(t,e,r,n,i){return function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,r,n,i)},ti=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ei=Vn.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=Vn.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0},ri=Vn.isStandardBrowserEnv()?{write:function(t,e,r,n,i,s){var o=[];o.push(t+"="+encodeURIComponent(e)),Vn.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Vn.isString(n)&&o.push("path="+n),Vn.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ni=function(t){return new Promise((function(e,r){var n=t.data,s=t.headers;Vn.isFormData(n)&&delete s["Content-Type"];var o=new XMLHttpRequest;t.auth&&(s.Authorization="Basic "+btoa((t.auth.username||"")+":"+(t.auth.password||"")));var a,c,u=(c=t.url,(a=t.baseURL)&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(a,c):c);if(o.open(t.method.toUpperCase(),Gn(u,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in o?function(t){var e,r,n,i={};return t?(Vn.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=Vn.trim(t.substr(0,n)).toLowerCase(),r=Vn.trim(t.substr(n+1)),e){if(i[e]&&ti.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([r]):i[e]?i[e]+", "+r:r}})),i):i}(o.getAllResponseHeaders()):null;!function(t,e,r){var n=r.config.validateStatus;!n||n(r.status)?t(r):e(Qn("Request failed with status code "+r.status,r.config,null,r.request,r))}(e,r,{data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:n,config:t,request:o}),o=null}},o.onabort=function(){o&&(r(Qn("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){r(Qn("Network Error",t,null,o)),o=null},o.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(Qn(e,t,"ECONNABORTED",o)),o=null},Vn.isStandardBrowserEnv()){var l=ri,_=(t.withCredentials||ei(u))&&t.xsrfCookieName?l.read(t.xsrfCookieName):void 0;_&&(s[t.xsrfHeaderName]=_)}if("setRequestHeader"in o&&Vn.forEach(s,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete s[e]:o.setRequestHeader(e,t)})),Vn.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),t.responseType)try{o.responseType=t.responseType}catch(i){if("json"!==t.responseType)throw i}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),r(t),o=null)})),void 0===n&&(n=null),o.send(n)}))},ii={"Content-Type":"application/x-www-form-urlencoded"};function si(t,e){!Vn.isUndefined(t)&&Vn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var oi=function(){var t;return{adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==Cr&&"[object process]"===Object.prototype.toString.call(Cr))&&(t=ni),t),transformRequest:[function(t,e){return Zn(e,"Accept"),Zn(e,"Content-Type"),Vn.isFormData(t)||Vn.isArrayBuffer(t)||Vn.isBuffer(t)||Vn.isStream(t)||Vn.isFile(t)||Vn.isBlob(t)?t:Vn.isArrayBufferView(t)?t.buffer:Vn.isURLSearchParams(t)?(si(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Vn.isObject(t)?(si(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(i){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}}}();Vn.forEach(["delete","get","head"],(function(t){oi.headers[t]={}})),Vn.forEach(["post","put","patch"],(function(t){oi.headers[t]=Vn.merge(ii)}));var ai=oi;function ci(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var ui=function(t){return ci(t),t.headers=t.headers||{},t.data=$n(t.data,t.headers,t.transformRequest),t.headers=Vn.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Vn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||ai.adapter)(t).then((function(e){return ci(t),e.data=$n(e.data,e.headers,t.transformResponse),e}),(function(e){return Jn(e)||(ci(t),e&&e.response&&(e.response.data=$n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},li=function(t,e){e=e||{};var r={},n=["url","method","params","data"],i=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Vn.forEach(n,(function(t){void 0!==e[t]&&(r[t]=e[t])})),Vn.forEach(i,(function(n){Vn.isObject(e[n])?r[n]=Vn.deepMerge(t[n],e[n]):void 0!==e[n]?r[n]=e[n]:Vn.isObject(t[n])?r[n]=Vn.deepMerge(t[n]):void 0!==t[n]&&(r[n]=t[n])})),Vn.forEach(s,(function(n){void 0!==e[n]?r[n]=e[n]:void 0!==t[n]&&(r[n]=t[n])}));var o=n.concat(i).concat(s),a=Object.keys(e).filter((function(t){return-1===o.indexOf(t)}));return Vn.forEach(a,(function(n){void 0!==e[n]?r[n]=e[n]:void 0!==t[n]&&(r[n]=t[n])})),r};function _i(t){this.defaults=t,this.interceptors={request:new Xn,response:new Xn}}_i.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=li(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var e=[ui,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},_i.prototype.getUri=function(t){return t=li(this.defaults,t),Gn(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Vn.forEach(["delete","get","head","options"],(function(t){_i.prototype[t]=function(e,r){return this.request(Vn.merge(r||{},{method:t,url:e}))}})),Vn.forEach(["post","put","patch"],(function(t){_i.prototype[t]=function(e,r,n){return this.request(Vn.merge(n||{},{method:t,url:e,data:r}))}}));var fi=_i;function di(t){this.message=t}di.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},di.prototype.__CANCEL__=!0;var pi=di;function hi(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new pi(t),e(r.reason))}))}hi.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},hi.source=function(){var t;return{token:new hi((function(e){t=e})),cancel:t}};var yi=hi;function vi(t){var e=new fi(t),r=Dn(fi.prototype.request,e);return Vn.extend(r,fi.prototype,e),Vn.extend(r,e),r}var mi=vi(ai);mi.Axios=fi,mi.create=function(t){return vi(li(mi.defaults,t))},mi.Cancel=pi,mi.CancelToken=yi,mi.isCancel=Jn,mi.all=function(t){return Promise.all(t)},mi.spread=function(t){return function(e){return t.apply(null,e)}};var gi=mi;gi.default=mi;var Pi=gi,xi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function bi(t,e){return t(e={exports:{}},e.exports),e.exports}function wi(t){return t&&t.default||t}var Ei=bi((function(t,e){!function(r){var n=e,i=t&&t.exports==n&&t,s="object"==typeof xi&&xi;s.global!==s&&s.window!==s||(r=s);var o=function(t){this.message=t};(o.prototype=new Error).name="InvalidCharacterError";var a=function(t){throw new o(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,n,i,s=t.length%3,o="",u=-1,l=t.length-s;++u<l;)e=t.charCodeAt(u)<<16,r=t.charCodeAt(++u)<<8,n=t.charCodeAt(++u),o+=c.charAt((i=e+r+n)>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==s?(e=t.charCodeAt(u)<<8,r=t.charCodeAt(++u),o+=c.charAt((i=e+r)>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==s&&(i=t.charCodeAt(u),o+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),o},decode:function(t){var e=(t=String(t).replace(u,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,s="",o=-1;++o<e;)n=c.indexOf(t.charAt(o)),r=i%4?64*r+n:n,i++%4&&(s+=String.fromCharCode(255&r>>(-2*i&6)));return s},version:"0.1.0"};if(n&&!n.nodeType)if(i)i.exports=l;else for(var _ in l)l.hasOwnProperty(_)&&(n[_]=l[_]);else r.base64=l}(xi)}));function ki(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]])}return r}function Ii(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(o,a)}c((n=n.apply(t,e||[])).next())}))}class Ni extends Error{constructor(t,e="KeyknoxError",r=Ni){super(t),Object.setPrototypeOf(this,r.prototype),this.name=e}}class Ai extends Ni{constructor(t,e,r){super(t,"KeyknoxClientError",Ai),this.status=e,this.code=r}}class Ci extends Ni{constructor(){super("CloudKeyStorage is out of sync","CloudKeyStorageOutOfSyncError",Ci)}}class Ti extends Ni{constructor(t){super(`Cloud entry '${t}' already exists`,"CloudEntryExistsError",Ti),this.cloudEntryName=t}}class Si extends Ni{constructor(t){super(`Cloud entry '${t}' doesn't exist`,"CloudEntryDoesntExistError",Si),this.cloudEntryName=t}}class Fi extends Ni{constructor(){super("GroupSessionMessageInfo already exist","GroupTicketAlreadyExistsError",Fi)}}class Ki extends Ni{constructor(){super("Group ticket doesn't exist","GroupTicketDoesntExistError",Ki)}}class Ri extends Ni{constructor(){super("Current user has no access to the group ticket","GroupTicketNoAccessError",Ri)}}let Li=(()=>{class t{constructor(e,r,n,i){this.accessTokenProvider=e,this.axios=n||Pi.create({baseURL:r||t.API_URL}),this.virgilAgent=i||new $r("keyknox","1.0.1"),this.axios.interceptors.response.use(void 0,t.responseErrorHandler)}v1Push(e,r,n){return Ii(this,void 0,void 0,(function*(){const i={meta:e,value:r},s=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"put"}),o={headers:t.getHeaders({accessToken:s,keyknoxHash:n,virgilAgent:this.virgilAgent})},a=yield this.axios.put("/keyknox/v1",i,o);return t.getKeyknoxValueV1(a)}))}v1Pull(){return Ii(this,void 0,void 0,(function*(){const e=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"get"}),r={headers:t.getHeaders({accessToken:e,virgilAgent:this.virgilAgent})},n=yield this.axios.get("/keyknox/v1",r);return t.getKeyknoxValueV1(n)}))}v1Reset(){return Ii(this,void 0,void 0,(function*(){const e=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"delete"}),r={headers:t.getHeaders({accessToken:e,virgilAgent:this.virgilAgent})},n=yield this.axios.post("/keyknox/v1/reset",void 0,r);return t.getKeyknoxValueV1(n)}))}v2Push(e){return Ii(this,void 0,void 0,(function*(){const{root:r,path:n,key:i,identities:s,meta:o,value:a,keyknoxHash:c}=e,u={root:r,path:n,key:i,identities:s,meta:o,value:a},l=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"put"}),_={headers:t.getHeaders({accessToken:l,keyknoxHash:c,virgilAgent:this.virgilAgent})},f=yield this.axios.post("/keyknox/v2/push",u,_);return t.getKeyknoxValueV2(f)}))}v2Pull(e){return Ii(this,void 0,void 0,(function*(){const{root:r,path:n,key:i,identity:s}=e,o={root:r,path:n,key:i,identity:s},a=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"get"}),c={headers:t.getHeaders({accessToken:a,virgilAgent:this.virgilAgent})},u=yield this.axios.post("/keyknox/v2/pull",o,c);return t.getKeyknoxValueV2(u)}))}v2GetKeys(e){return Ii(this,void 0,void 0,(function*(){const{root:r,path:n,identity:i}=e,s={root:r,path:n,identity:i},o=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"get"}),a={headers:t.getHeaders({accessToken:o,virgilAgent:this.virgilAgent})};return(yield this.axios.post("/keyknox/v2/keys",s,a)).data}))}v2Reset(e){return Ii(this,void 0,void 0,(function*(){const{root:r,path:n,key:i,identity:s}=e,o={root:r,path:n,key:i,identity:s},a=yield this.accessTokenProvider.getToken({service:"keyknox",operation:"delete"}),c={headers:t.getHeaders({accessToken:a,virgilAgent:this.virgilAgent})},u=yield this.axios.post("/keyknox/v2/reset",o,c);return t.getKeyknoxValueV2(u)}))}static getKeyknoxValueV1(t){const{data:e,headers:r}=t;return{meta:e.meta,value:e.value,version:e.version,keyknoxHash:r["virgil-keyknox-hash"]}}static getKeyknoxValueV2(t){const{data:e,headers:r}=t;return{owner:e.owner,root:e.root,path:e.path,key:e.key,identities:e.identities,meta:e.meta,value:e.value,keyknoxHash:r["virgil-keyknox-hash"]}}static getHeaders(t){const{virgilAgent:e,accessToken:r,keyknoxHash:n}=t,i={"Virgil-Agent":e.value};return r&&(i.Authorization="Virgil "+r.toString()),n&&(i["Virgil-Keyknox-Previous-Hash"]=n),i}static responseErrorHandler(t){const{response:e}=t;if(e){const{data:r}=e;return Promise.reject(r&&r.code&&r.message?new Ai(r.message,e.status,r.code):new Ai(t.message,e.status))}return Promise.reject(new Ai(t.message))}}return t.API_URL="https://api.virgilsecurity.com",t})();class Bi{constructor(t){this.crypto=t}decrypt(t,e,r,n){if(!e||!t){if(e||t)throw new TypeError("'metadata' or 'encryptedData' is empty");return e}return this.crypto.decryptThenVerifyDetached({value:e,encoding:"base64"},{value:t,encoding:"base64"},r,n).toString("base64")}encrypt(t,e,r){const{metadata:n,encryptedData:i}=this.crypto.signThenEncryptDetached({value:t,encoding:"base64"},e,r);return{metadata:n.toString("base64"),encryptedData:i.toString("base64")}}}class Oi{constructor(t,e){this.myKeyknoxCrypto=t,this.keyknoxClient=e}get keyknoxCrypto(){return this.myKeyknoxCrypto}static create(t,e){const r=new Li(t);return new Oi(e,r)}v1Push(t,e,r,n){return Ii(this,void 0,void 0,(function*(){const{metadata:i,encryptedData:s}=this.myKeyknoxCrypto.encrypt(t,e,r),o=yield this.keyknoxClient.v1Push(i,s,n);return this.v1Decrypt(o,e,r)}))}v1Pull(t,e){return Ii(this,void 0,void 0,(function*(){const r=yield this.keyknoxClient.v1Pull();return this.v1Decrypt(r,t,e)}))}v1Reset(){return Ii(this,void 0,void 0,(function*(){return this.keyknoxClient.v1Reset()}))}v1Update(t){return Ii(this,void 0,void 0,(function*(){const{value:e,privateKey:r,publicKeys:n,keyknoxHash:i,newPrivateKey:s,newPublicKeys:o}=t;if(!s&&!o)return this.v1Push(e,r,n,i);const a=yield this.v1Pull(r,n),c=s||r,u=o||n,{metadata:l,encryptedData:_}=this.myKeyknoxCrypto.encrypt(a.value,c,u),f=yield this.keyknoxClient.v1Push(l,_,a.keyknoxHash);return this.v1Decrypt(f,c,u)}))}v1UpdateRecipients(t){return Ii(this,void 0,void 0,(function*(){const{privateKey:e,publicKeys:r,newPrivateKey:n,newPublicKeys:i}=t,s=yield this.v1Pull(e,r);if(!s.meta&&!s.value)return s;const o=n||e,a=i||r,{metadata:c,encryptedData:u}=this.myKeyknoxCrypto.encrypt(s.value,o,a),l=yield this.keyknoxClient.v1Push(c,u,s.keyknoxHash);return this.v1Decrypt(l,o,a)}))}v2Push(t){return Ii(this,void 0,void 0,(function*(){const{value:e,privateKey:r,publicKeys:n}=t,i=ki(t,["value","privateKey","publicKeys"]),{metadata:s,encryptedData:o}=this.encrypt(e,r,n),a=yield this.keyknoxClient.v2Push(Object.assign(Object.assign({},i),{value:o,meta:s}));return this.v2Decrypt(a,r,n)}))}v2Pull(t){return Ii(this,void 0,void 0,(function*(){const{privateKey:e,publicKeys:r}=t,n=ki(t,["privateKey","publicKeys"]),i=yield this.keyknoxClient.v2Pull(n);return this.v2Decrypt(i,e,r)}))}v2GetKeys(t){return Ii(this,void 0,void 0,(function*(){return this.keyknoxClient.v2GetKeys(t)}))}v2Reset(t){return Ii(this,void 0,void 0,(function*(){return this.keyknoxClient.v2Reset(t)}))}v1Decrypt(t,e,r){const{meta:n,value:i}=t,s=ki(t,["meta","value"]),o=this.myKeyknoxCrypto.decrypt(n,i,e,r);return Object.assign(Object.assign({},s),{meta:n,value:o})}v2Decrypt(t,e,r){const{meta:n,value:i}=t,s=ki(t,["meta","value"]),o=this.myKeyknoxCrypto.decrypt(n,i,e,r);return Object.assign(Object.assign({},s),{meta:n,value:o})}encrypt(t,e,r){return this.myKeyknoxCrypto.encrypt(t,e,r)}}class Di{constructor(t){const{keyknoxManager:e,identity:r,privateKey:n,publicKey:i,root:s}=t;this.keyknoxManager=e,this.identity=r,this.privateKey=n,this.publicKey=i,this.root=s||Di.DEFAULT_ROOT}static create(t){const{accessTokenProvider:e,identity:r,privateKey:n,publicKey:i,virgilCrypto:s,root:o}=t,a=Oi.create(e,new Bi(s));return new Di({keyknoxManager:a,identity:r,privateKey:n,publicKey:i,root:o})}store(t,e){return Ii(this,void 0,void 0,(function*(){const{epochNumber:r,sessionId:n,data:i}=t;let s=[this.identity],o=[this.publicKey];if(e){const t=Array.isArray(e)?e:[e];s=s.concat(t.map(t=>t.identity)),o=o.concat(t.map(t=>t.publicKey))}try{yield this.keyknoxManager.v2Push({identities:s,publicKeys:o,privateKey:this.privateKey,root:this.root,path:n,key:r.toString(),value:i})}catch(t){if(t instanceof Ai&&50010===t.code)throw new Fi;throw t}}))}retrieve(t,e,r){return Ii(this,void 0,void 0,(function*(){let n=this.identity,i=this.publicKey;if(e&&r)n=e,i=r;else if(Boolean(e)!==Boolean(r))throw new Error("You need to provide both 'identity' and 'publicKey'");const s=yield this.keyknoxManager.v2GetKeys({root:this.root,path:t,identity:n});if(!s.length)throw new Ki;const o=s.map(e=>this.keyknoxManager.v2Pull({root:this.root,path:t,key:e,identity:n,privateKey:this.privateKey,publicKeys:i}));try{return(yield Promise.all(o)).map(({key:t,path:e,identities:r,value:n})=>({identities:r,groupSessionMessageInfo:{sessionId:e,epochNumber:Number(t),data:n}}))}catch(t){throw Di.throwIfRecipientIsNotFound(t),t}}))}addRecipients(t,e){return Ii(this,void 0,void 0,(function*(){const r=(yield this.keyknoxManager.v2GetKeys({root:this.root,path:t,identity:this.identity})).map(r=>Ii(this,void 0,void 0,(function*(){const n=yield this.keyknoxManager.v2Pull({root:this.root,path:t,key:r,identity:this.identity,privateKey:this.privateKey,publicKeys:this.publicKey});yield this.keyknoxManager.v2Push(Object.assign(Object.assign({},n),{identities:e.map(t=>t.identity),publicKeys:[this.publicKey,...e.map(t=>t.publicKey)],privateKey:this.privateKey}))})));try{yield Promise.all(r)}catch(t){throw Di.throwIfRecipientIsNotFound(t),t}}))}addRecipient(t,e){return Ii(this,void 0,void 0,(function*(){return this.addRecipients(t,[e])}))}reAddRecipient(t,e){return Ii(this,void 0,void 0,(function*(){const r=(yield this.keyknoxManager.v2GetKeys({root:this.root,path:t,identity:this.identity})).map(r=>Ii(this,void 0,void 0,(function*(){const n=yield this.keyknoxManager.v2Pull({root:this.root,path:t,key:r,identity:this.identity,privateKey:this.privateKey,publicKeys:this.publicKey});yield this.removeRecipient(t,e.identity,Number(r)),yield this.keyknoxManager.v2Push({root:this.root,path:t,key:r,identities:[e.identity],value:n.value,privateKey:this.privateKey,publicKeys:[this.publicKey,e.publicKey],keyknoxHash:n.keyknoxHash})})));try{yield Promise.all(r)}catch(t){throw Di.throwIfRecipientIsNotFound(t),t}}))}removeRecipient(t,e,r){return Ii(this,void 0,void 0,(function*(){yield this.keyknoxManager.v2Reset({identity:e,root:this.root,path:t,key:"number"==typeof r?r.toString():void 0})}))}delete(t){return Ii(this,void 0,void 0,(function*(){return this.keyknoxManager.v2Reset({root:this.root,path:t})}))}static throwIfRecipientIsNotFound(t){if("FoundationError"===t.name&&/recipient defined with id is not found/gi.test(t.message))throw new Ri}}function Mi(t){const e=Ei.decode(t);if(!e.length)return new Map;const r=JSON.parse(e);return Object.keys(r).reduce((t,e)=>{const n=r[e];return t.set(e,{name:n.name,data:n.data,creationDate:new Date(n.creation_date),modificationDate:new Date(n.modification_date),meta:void 0===n.meta?null:n.meta}),t},new Map)}Di.DEFAULT_ROOT="group-sessions";class Ui{constructor(t,e,r){this.cache=new Map,this.syncWasCalled=!1,this.keyknoxManager=t,this.privateKey=e,this.publicKeys=r}static create(t){const{accessTokenProvider:e,privateKey:r,publicKeys:n,virgilCrypto:i}=t,s=Oi.create(e,new Bi(i));return new Ui(s,r,n)}storeEntries(t){return Ii(this,void 0,void 0,(function*(){return this.throwUnlessSyncWasCalled(),t.forEach(t=>{this.throwIfCloudEntryExists(t.name),this.cache.set(t.name,Ui.createCloudEntry(t))}),yield this.pushCacheEntries(),t.map(t=>this.cache.get(t.name))}))}storeEntry(t,e,r){return Ii(this,void 0,void 0,(function*(){const[n]=yield this.storeEntries([{name:t,data:e,meta:r}]);return n}))}updateEntry(t,e,r){return Ii(this,void 0,void 0,(function*(){this.throwUnlessSyncWasCalled(),this.throwUnlessCloudEntryExists(t);const n=Ui.createCloudEntry({name:t,data:e,meta:r},this.cache.get(t).creationDate);return this.cache.set(t,n),yield this.pushCacheEntries(),n}))}retrieveEntry(t){return this.throwUnlessSyncWasCalled(),this.throwUnlessCloudEntryExists(t),this.cache.get(t)}retrieveAllEntries(){return this.throwUnlessSyncWasCalled(),Array.from(this.cache.values())}existsEntry(t){return this.throwUnlessSyncWasCalled(),this.cache.has(t)}deleteEntry(t){return Ii(this,void 0,void 0,(function*(){yield this.deleteEntries([t])}))}deleteEntries(t){return Ii(this,void 0,void 0,(function*(){this.throwUnlessSyncWasCalled(),t.forEach(t=>{this.throwUnlessCloudEntryExists(t),this.cache.delete(t)}),yield this.pushCacheEntries()}))}deleteAllEntries(){return Ii(this,void 0,void 0,(function*(){this.cache.clear(),this.decryptedKeyknoxValue=yield this.keyknoxManager.v1Reset()}))}updateRecipients(t){return Ii(this,void 0,void 0,(function*(){this.throwUnlessSyncWasCalled();const{newPrivateKey:e,newPublicKeys:r}=t;this.decryptedKeyknoxValue=yield this.keyknoxManager.v1UpdateRecipients({newPrivateKey:e,newPublicKeys:r,privateKey:this.privateKey,publicKeys:this.publicKeys}),this.privateKey=e||this.privateKey,this.publicKeys=r||this.publicKeys,this.cache=Mi(this.decryptedKeyknoxValue.value)}))}retrieveCloudEntries(){return Ii(this,void 0,void 0,(function*(){this.decryptedKeyknoxValue=yield this.keyknoxManager.v1Pull(this.privateKey,this.publicKeys),this.cache=Mi(this.decryptedKeyknoxValue.value),this.syncWasCalled=!0}))}throwUnlessSyncWasCalled(){if(!this.syncWasCalled)throw new Ci}throwUnlessCloudEntryExists(t){if(!this.cache.has(t))throw new Si(t)}throwIfCloudEntryExists(t){if(this.cache.has(t))throw new Ti(t)}pushCacheEntries(){return Ii(this,void 0,void 0,(function*(){const t=function(t){const e={};return t.forEach((t,r)=>{e[r]={data:t.data,meta:t.meta,creation_date:Number(t.creationDate),name:t.name,modification_date:Number(t.modificationDate)},null===e[r].meta&&delete e[r].meta}),Ei.encode(JSON.stringify(e))}(this.cache);this.decryptedKeyknoxValue=yield this.keyknoxManager.v1Push(t,this.privateKey,this.publicKeys,this.decryptedKeyknoxValue.keyknoxHash),this.cache=Mi(this.decryptedKeyknoxValue.value)}))}static createCloudEntry(t,e){const r=new Date;return{name:t.name,data:t.data,meta:void 0===t.meta?null:t.meta,creationDate:e||r,modificationDate:r}}}function zi(){}function Hi(){Hi.init.call(this)}function ji(t){return void 0===t._maxListeners?Hi.defaultMaxListeners:t._maxListeners}function Yi(t,e,r){if(e)t.call(r);else for(var n=t.length,i=Zi(t,n),s=0;s<n;++s)i[s].call(r)}function Vi(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,s=Zi(t,i),o=0;o<i;++o)s[o].call(r,n)}function qi(t,e,r,n,i){if(e)t.call(r,n,i);else for(var s=t.length,o=Zi(t,s),a=0;a<s;++a)o[a].call(r,n,i)}function Gi(t,e,r,n,i,s){if(e)t.call(r,n,i,s);else for(var o=t.length,a=Zi(t,o),c=0;c<o;++c)a[c].call(r,n,i,s)}function Wi(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,s=Zi(t,i),o=0;o<i;++o)s[o].apply(r,n)}function Xi(t,e,r,n){var i,s,o;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]):(s=t._events=new zi,t._eventsCount=0),o){if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=ji(t))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,function(t){"function"==typeof console.warn?console.warn(t):console.log(t)}(a)}}else o=s[e]=r,++t._eventsCount;return t}function $i(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function Ji(t){var e=this._events;if(e){var r=e[t];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Zi(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}zi.prototype=Object.create(null),Hi.EventEmitter=Hi,Hi.usingDomains=!1,Hi.prototype.domain=void 0,Hi.prototype._events=void 0,Hi.prototype._maxListeners=void 0,Hi.defaultMaxListeners=10,Hi.init=function(){this.domain=null,Hi.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new zi,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Hi.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Hi.prototype.getMaxListeners=function(){return ji(this)},Hi.prototype.emit=function(t){var e,r,n,i,s,o,a,c="error"===t;if(o=this._events)c=c&&null==o.error;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(r=o[t]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:Yi(r,l,this);break;case 2:Vi(r,l,this,arguments[1]);break;case 3:qi(r,l,this,arguments[1],arguments[2]);break;case 4:Gi(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),s=1;s<n;s++)i[s-1]=arguments[s];Wi(r,l,this,i)}return!0},Hi.prototype.on=Hi.prototype.addListener=function(t,e){return Xi(this,t,e,!1)},Hi.prototype.prependListener=function(t,e){return Xi(this,t,e,!0)},Hi.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,$i(this,t,e)),this},Hi.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,$i(this,t,e)),this},Hi.prototype.removeListener=function(t,e){var r,n,i,s,o;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener&&r.listener===e)0==--this._eventsCount?this._events=new zi:(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new zi,this;delete n[t]}else!function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(r,i);n.removeListener&&this.emit("removeListener",t,o||e)}return this},Hi.prototype.removeAllListeners=function(t){var e,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new zi,this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=new zi:delete r[t]),this;if(0===arguments.length){for(var n,i=Object.keys(r),s=0;s<i.length;++s)"removeListener"!==(n=i[s])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new zi,this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Hi.prototype.listeners=function(t){var e,r=this._events;return r&&(e=r[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(e):[]},Hi.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Ji.call(t,e)},Hi.prototype.listenerCount=Ji,Hi.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Qi=Object.freeze({__proto__:null,default:Hi,EventEmitter:Hi}),ts=[],es=[],rs="undefined"!=typeof Uint8Array?Uint8Array:Array,ns=!1;function is(){ns=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)ts[e]=t[e],es[t.charCodeAt(e)]=e;es["-".charCodeAt(0)]=62,es["_".charCodeAt(0)]=63}function ss(t,e,r){for(var n,i=[],s=e;s<r;s+=3)i.push(ts[(n=(t[s]<<16)+(t[s+1]<<8)+t[s+2])>>18&63]+ts[n>>12&63]+ts[n>>6&63]+ts[63&n]);return i.join("")}function os(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,_=r?i-1:0,f=r?-1:1,d=t[e+_];for(_+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+_],_+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+_],_+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)}function as(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,_=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+_>=1?f/c:f*Math.pow(2,1-_))*c>=2&&(o++,c/=2),o+_>=l?(a=0,o=l):o+_>=1?(a=(e*c-1)*Math.pow(2,i),o+=_):(a=e*Math.pow(2,_-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*h}var cs={}.toString,us=Array.isArray||function(t){return"[object Array]"==cs.call(t)};ds.TYPED_ARRAY_SUPPORT=void 0===ir.TYPED_ARRAY_SUPPORT||ir.TYPED_ARRAY_SUPPORT;var ls=_s();function _s(){return ds.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function fs(t,e){if(_s()<e)throw new RangeError("Invalid typed array length");return ds.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=ds.prototype:(null===t&&(t=new ds(e)),t.length=e),t}function ds(t,e,r){if(!(ds.TYPED_ARRAY_SUPPORT||this instanceof ds))return new ds(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return ys(this,t)}return ps(this,t,e,r)}function ps(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),ds.TYPED_ARRAY_SUPPORT?(t=e).__proto__=ds.prototype:t=vs(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!ds.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Ps(e,r),i=(t=fs(t,n)).write(e,r);return i!==n&&(t=t.slice(0,i)),t}(t,e,r):function(t,e){if(gs(e)){var r=0|ms(e.length);return 0===(t=fs(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?fs(t,0):vs(t,e);if("Buffer"===e.type&&us(e.data))return vs(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function hs(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function ys(t,e){if(hs(e),t=fs(t,e<0?0:0|ms(e)),!ds.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function vs(t,e){var r=e.length<0?0:0|ms(e.length);t=fs(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function ms(t){if(t>=_s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_s().toString(16)+" bytes");return 0|t}function gs(t){return!(null==t||!t._isBuffer)}function Ps(t,e){if(gs(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return qs(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Gs(t).length;default:if(n)return qs(t).length;e=(""+e).toLowerCase(),n=!0}}function xs(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Ls(this,e,r);case"utf8":case"utf-8":return Fs(this,e,r);case"ascii":return Ks(this,e,r);case"latin1":case"binary":return Rs(this,e,r);case"base64":return Ss(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bs(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function bs(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function ws(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=ds.from(e,n)),gs(e))return 0===e.length?-1:Es(t,e,r,n,i);if("number"==typeof e)return e&=255,ds.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Es(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Es(t,e,r,n,i){var s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var _=!0,f=0;f<c;f++)if(u(t,s+f)!==u(e,f)){_=!1;break}if(_)return s}return-1}function ks(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function Is(t,e,r,n){return Ws(qs(e,t.length-r),t,r,n)}function Ns(t,e,r,n){return Ws(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function As(t,e,r,n){return Ns(t,e,r,n)}function Cs(t,e,r,n){return Ws(Gs(e),t,r,n)}function Ts(t,e,r,n){return Ws(function(t,e){for(var r,n,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function Ss(t,e,r){return function(t){var e;ns||is();for(var r=t.length,n=r%3,i="",s=[],o=0,a=r-n;o<a;o+=16383)s.push(ss(t,o,o+16383>a?a:o+16383));return 1===n?(i+=ts[(e=t[r-1])>>2],i+=ts[e<<4&63],i+="=="):2===n&&(i+=ts[(e=(t[r-2]<<8)+t[r-1])>>10],i+=ts[e>>4&63],i+=ts[e<<2&63],i+="="),s.push(i),s.join("")}(0===e&&r===t.length?t:t.slice(e,r))}function Fs(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,u=t[i],l=null,_=u>239?4:u>223?3:u>191?2:1;if(i+_<=r)switch(_){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:o=t[i+2],128==(192&(s=t[i+1]))&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+2],a=t[i+3],128==(192&(s=t[i+1]))&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,_=1):l>65535&&(n.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=_}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function Ks(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function Rs(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Ls(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=Vs(t[s]);return i}function Bs(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function Os(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Ds(t,e,r,n,i,s){if(!gs(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Ms(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Us(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function zs(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Hs(t,e,r,n,i){return i||zs(t,0,r,4),as(t,e,r,n,23,4),r+4}function js(t,e,r,n,i){return i||zs(t,0,r,8),as(t,e,r,n,52,8),r+8}ds.poolSize=8192,ds._augment=function(t){return t.__proto__=ds.prototype,t},ds.from=function(t,e,r){return ps(null,t,e,r)},ds.TYPED_ARRAY_SUPPORT&&(ds.prototype.__proto__=Uint8Array.prototype,ds.__proto__=Uint8Array),ds.alloc=function(t,e,r){return function(t,e,r,n){return hs(e),e<=0?fs(null,e):void 0!==r?"string"==typeof n?fs(null,e).fill(r,n):fs(null,e).fill(r):fs(null,e)}(0,t,e,r)},ds.allocUnsafe=function(t){return ys(null,t)},ds.allocUnsafeSlow=function(t){return ys(null,t)},ds.isBuffer=Xs,ds.compare=function(t,e){if(!gs(t)||!gs(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},ds.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ds.concat=function(t,e){if(!us(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return ds.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=ds.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!gs(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},ds.byteLength=Ps,ds.prototype._isBuffer=!0,ds.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)bs(this,e,e+1);return this},ds.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)bs(this,e,e+3),bs(this,e+1,e+2);return this},ds.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)bs(this,e,e+7),bs(this,e+1,e+6),bs(this,e+2,e+5),bs(this,e+3,e+4);return this},ds.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Fs(this,0,t):xs.apply(this,arguments)},ds.prototype.equals=function(t){if(!gs(t))throw new TypeError("Argument must be a Buffer");return this===t||0===ds.compare(this,t)},ds.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},ds.prototype.compare=function(t,e,r,n,i){if(!gs(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(n,i),u=t.slice(e,r),l=0;l<a;++l)if(c[l]!==u[l]){s=c[l],o=u[l];break}return s<o?-1:o<s?1:0},ds.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},ds.prototype.indexOf=function(t,e,r){return ws(this,t,e,r,!0)},ds.prototype.lastIndexOf=function(t,e,r){return ws(this,t,e,r,!1)},ds.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return ks(this,t,e,r);case"utf8":case"utf-8":return Is(this,t,e,r);case"ascii":return Ns(this,t,e,r);case"latin1":case"binary":return As(this,t,e,r);case"base64":return Cs(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ts(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},ds.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ds.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),ds.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=ds.prototype;else{var i=e-t;r=new ds(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},ds.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||Os(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},ds.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||Os(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},ds.prototype.readUInt8=function(t,e){return e||Os(t,1,this.length),this[t]},ds.prototype.readUInt16LE=function(t,e){return e||Os(t,2,this.length),this[t]|this[t+1]<<8},ds.prototype.readUInt16BE=function(t,e){return e||Os(t,2,this.length),this[t]<<8|this[t+1]},ds.prototype.readUInt32LE=function(t,e){return e||Os(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},ds.prototype.readUInt32BE=function(t,e){return e||Os(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},ds.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||Os(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},ds.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||Os(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},ds.prototype.readInt8=function(t,e){return e||Os(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},ds.prototype.readInt16LE=function(t,e){e||Os(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},ds.prototype.readInt16BE=function(t,e){e||Os(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},ds.prototype.readInt32LE=function(t,e){return e||Os(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},ds.prototype.readInt32BE=function(t,e){return e||Os(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},ds.prototype.readFloatLE=function(t,e){return e||Os(t,4,this.length),os(this,t,!0,23,4)},ds.prototype.readFloatBE=function(t,e){return e||Os(t,4,this.length),os(this,t,!1,23,4)},ds.prototype.readDoubleLE=function(t,e){return e||Os(t,8,this.length),os(this,t,!0,52,8)},ds.prototype.readDoubleBE=function(t,e){return e||Os(t,8,this.length),os(this,t,!1,52,8)},ds.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||Ds(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},ds.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||Ds(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},ds.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,1,255,0),ds.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},ds.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,2,65535,0),ds.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ms(this,t,e,!0),e+2},ds.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,2,65535,0),ds.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ms(this,t,e,!1),e+2},ds.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,4,4294967295,0),ds.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Us(this,t,e,!0),e+4},ds.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,4,4294967295,0),ds.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Us(this,t,e,!1),e+4},ds.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);Ds(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},ds.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);Ds(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},ds.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,1,127,-128),ds.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},ds.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,2,32767,-32768),ds.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Ms(this,t,e,!0),e+2},ds.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,2,32767,-32768),ds.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Ms(this,t,e,!1),e+2},ds.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,4,2147483647,-2147483648),ds.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Us(this,t,e,!0),e+4},ds.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||Ds(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),ds.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Us(this,t,e,!1),e+4},ds.prototype.writeFloatLE=function(t,e,r){return Hs(this,t,e,!0,r)},ds.prototype.writeFloatBE=function(t,e,r){return Hs(this,t,e,!1,r)},ds.prototype.writeDoubleLE=function(t,e,r){return js(this,t,e,!0,r)},ds.prototype.writeDoubleBE=function(t,e,r){return js(this,t,e,!1,r)},ds.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,s=n-r;if(this===t&&r<e&&e<n)for(i=s-1;i>=0;--i)t[i+e]=this[i+r];else if(s<1e3||!ds.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},ds.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!ds.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=gs(t)?t:qs(new ds(t,n).toString()),a=o.length;for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var Ys=/[^+\/0-9A-Za-z-_]/g;function Vs(t){return t<16?"0"+t.toString(16):t.toString(16)}function qs(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Gs(t){return function(t){var e,r,n,i,s,o;ns||is();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=new rs(3*a/4-(s="="===t[a-2]?2:"="===t[a-1]?1:0)),n=s>0?a-4:a;var c=0;for(e=0,r=0;e<n;e+=4,r+=3)i=es[t.charCodeAt(e)]<<18|es[t.charCodeAt(e+1)]<<12|es[t.charCodeAt(e+2)]<<6|es[t.charCodeAt(e+3)],o[c++]=i>>16&255,o[c++]=i>>8&255,o[c++]=255&i;return 2===s?(i=es[t.charCodeAt(e)]<<2|es[t.charCodeAt(e+1)]>>4,o[c++]=255&i):1===s&&(i=es[t.charCodeAt(e)]<<10|es[t.charCodeAt(e+1)]<<4|es[t.charCodeAt(e+2)]>>2,o[c++]=i>>8&255,o[c++]=255&i),o}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Ys,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ws(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Xs(t){return null!=t&&(!!t._isBuffer||$s(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&$s(t.slice(0,0))}(t))}function $s(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Js=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:ls,Buffer:ds,SlowBuffer:function(t){return+t!=t&&(t=0),ds.alloc(+t)},isBuffer:Xs}),Zs="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},Qs=/%[sdj%]/g;function to(t){if(!vo(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(so(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(t).replace(Qs,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(a){return"[Circular]"}default:return t}})),o=n[r];r<i;o=n[++r])po(o)||!xo(o)?s+=" "+o:s+=" "+so(o);return s}function eo(t,e){if(go(ir.process))return function(){return eo(t,e).apply(this,arguments)};if(!0===Cr.noDeprecation)return t;var r=!1;return function(){if(!r){if(Cr.throwDeprecation)throw new Error(e);Cr.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var ro,no={};function io(t){return go(ro)&&(ro=Cr.env.NODE_DEBUG||""),t=t.toUpperCase(),no[t]||(no[t]=new RegExp("\\b"+t+"\\b","i").test(ro)?function(){var e=to.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:function(){}),no[t]}function so(t,e){var r={seen:[],stylize:ao};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),fo(e)?r.showHidden=e:e&&Fo(r,e),go(r.showHidden)&&(r.showHidden=!1),go(r.depth)&&(r.depth=2),go(r.colors)&&(r.colors=!1),go(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=oo),co(r,t,r.depth)}function oo(t,e){var r=so.styles[e];return r?"\x1b["+so.colors[r][0]+"m"+t+"\x1b["+so.colors[r][1]+"m":t}function ao(t,e){return t}function co(t,e,r){if(t.customInspect&&e&&Eo(e.inspect)&&e.inspect!==so&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return vo(n)||(n=co(t,n,r)),n}var i=function(t,e){if(go(e))return t.stylize("undefined","undefined");if(vo(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return yo(e)?t.stylize(""+e,"number"):fo(e)?t.stylize(""+e,"boolean"):po(e)?t.stylize("null","null"):void 0}(t,e);if(i)return i;var s=Object.keys(e),o=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),wo(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return uo(e);if(0===s.length){if(Eo(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(Po(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(bo(e))return t.stylize(Date.prototype.toString.call(e),"date");if(wo(e))return uo(e)}var a,c="",u=!1,l=["{","}"];return _o(e)&&(u=!0,l=["[","]"]),Eo(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),Po(e)&&(c=" "+RegExp.prototype.toString.call(e)),bo(e)&&(c=" "+Date.prototype.toUTCString.call(e)),wo(e)&&(c=" "+uo(e)),0!==s.length||u&&0!=e.length?r<0?Po(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),a=u?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)Ko(e,String(o))?s.push(lo(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(lo(t,e,r,n,i,!0))})),s}(t,e,r,o,s):s.map((function(n){return lo(t,e,r,o,n,u)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(a,c,l)):l[0]+c+l[1]}function uo(t){return"["+Error.prototype.toString.call(t)+"]"}function lo(t,e,r,n,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),Ko(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=po(r)?co(t,c.value,null):co(t,c.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),go(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function _o(t){return Array.isArray(t)}function fo(t){return"boolean"==typeof t}function po(t){return null===t}function ho(t){return null==t}function yo(t){return"number"==typeof t}function vo(t){return"string"==typeof t}function mo(t){return"symbol"==typeof t}function go(t){return void 0===t}function Po(t){return xo(t)&&"[object RegExp]"===No(t)}function xo(t){return"object"==typeof t&&null!==t}function bo(t){return xo(t)&&"[object Date]"===No(t)}function wo(t){return xo(t)&&("[object Error]"===No(t)||t instanceof Error)}function Eo(t){return"function"==typeof t}function ko(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Io(t){return Xs(t)}function No(t){return Object.prototype.toString.call(t)}function Ao(t){return t<10?"0"+t.toString(10):t.toString(10)}so.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},so.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Co=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function To(){var t=new Date,e=[Ao(t.getHours()),Ao(t.getMinutes()),Ao(t.getSeconds())].join(":");return[t.getDate(),Co[t.getMonth()],e].join(" ")}function So(){console.log("%s - %s",To(),to.apply(null,arguments))}function Fo(t,e){if(!e||!xo(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function Ko(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ro,Lo,Bo,Oo=Object.freeze({__proto__:null,format:to,deprecate:eo,debuglog:io,inspect:so,isArray:_o,isBoolean:fo,isNull:po,isNullOrUndefined:ho,isNumber:yo,isString:vo,isSymbol:mo,isUndefined:go,isRegExp:Po,isObject:xo,isDate:bo,isError:wo,isFunction:Eo,isPrimitive:ko,isBuffer:Io,log:So,inherits:Zs,_extend:Fo,default:{inherits:Zs,_extend:Fo,log:So,isBuffer:Io,isPrimitive:ko,isFunction:Eo,isError:wo,isDate:bo,isObject:xo,isRegExp:Po,isUndefined:go,isSymbol:mo,isString:vo,isNumber:yo,isNullOrUndefined:ho,isNull:po,isBoolean:fo,isArray:_o,inspect:so,deprecate:eo,format:to,debuglog:io}}),Do=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Mo.call(r,n)&&(t[n]=r[n])}return t},Mo=Object.prototype.hasOwnProperty,Uo=function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)zo.call(r,n)&&(t[n]=r[n])}return t},zo=Object.prototype.hasOwnProperty,Ho=function(){var t=Do.apply(null,arguments);return Uo(t,{bufferKeys:t.bufferKeys||!1,snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,status:t.status||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,openCallback:t.openCallback||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:t.encodings||!1,additionalMethods:Do(t.additionalMethods)})},jo=xi.MutationObserver||xi.WebKitMutationObserver,Yo={test:function(){return jo},install:function(t){var e=0,r=new jo(t),n=xi.document.createTextNode("");return r.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}},Vo={test:function(){return!xi.setImmediate&&void 0!==xi.MessageChannel},install:function(t){var e=new xi.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}},qo={test:function(){return"document"in xi&&"onreadystatechange"in xi.document.createElement("script")},install:function(t){return function(){var e=xi.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},xi.document.documentElement.appendChild(e),t}}},Go={test:function(){return!0},install:function(t){return function(){setTimeout(t,0)}}},Wo=wi(Object.freeze({__proto__:null,default:{}})),Xo=[Wo,Yo,Vo,qo,Go],$o=-1,Jo=[],Zo=!1;function Qo(){Ro&&Lo&&(Ro=!1,Lo.length?Jo=Lo.concat(Jo):$o=-1,Jo.length&&ta())}function ta(){if(!Ro){Zo=!1,Ro=!0;for(var t=Jo.length,e=setTimeout(Qo);t;){for(Lo=Jo,Jo=[];Lo&&++$o<t;)Lo[$o].run();$o=-1,t=Jo.length}Lo=null,$o=-1,Ro=!1,clearTimeout(e)}}for(var ea=-1,ra=Xo.length;++ea<ra;)if(Xo[ea]&&Xo[ea].test&&Xo[ea].test()){Bo=Xo[ea].install(ta);break}function na(t,e){this.fun=t,this.array=e}na.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}};var ia=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Jo.push(new na(t,e)),Zo||Ro||(Zo=!0,Bo())},sa=ia;function oa(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}oa.prototype.next=function(t){var e=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return e._ended?(sa(t,new Error("cannot call next() after end()")),e):e._nexting?(sa(t,new Error("cannot call next() before previous next() has completed")),e):(e._nexting=!0,e._next((function(){e._nexting=!1,t.apply(null,arguments)})),e)},oa.prototype._next=function(t){sa(t)},oa.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)},oa.prototype._seek=function(t){},oa.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");if(this._ended)return sa(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)},oa.prototype._end=function(t){sa(t)},oa.prototype._nextTick=sa;var aa=oa;function ca(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}ca.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},ca.prototype.put=function(t,e){this._checkWritten();var r=this.db._checkKey(t)||this.db._checkValue(e);if(r)throw r;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},ca.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},ca.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},ca.prototype._del=function(t){this._operations.push({type:"del",key:t})},ca.prototype.clear=function(){return this._checkWritten(),this._clear(),this},ca.prototype._clear=function(){this._operations=[]},ca.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},ca.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},ca.prototype._nextTick=sa;var ua=ca,la=wi(Js),_a=la.Buffer,fa=Object.prototype.hasOwnProperty,da="start end gt gte lt lte".split(" ");function pa(t){this.status="new",this.supports=Ho(t,{status:!0})}function ha(t,e){var r={};for(var n in e)if(fa.call(e,n)){var i=e[n];ya(n)&&(i=t._serializeKey(i)),r[n]=i}return r}function ya(t){return-1!==da.indexOf(t)}pa.prototype.open=function(t,e){var r=this,n=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"==typeof t&&null!==t||(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,(function(t){if(t)return r.status=n,e(t);r.status="open",e()}))},pa.prototype._open=function(t,e){sa(e)},pa.prototype.close=function(t){var e=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(n){if(n)return e.status=r,t(n);e.status="closed",t()}))},pa.prototype._close=function(t){sa(t)},pa.prototype.get=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("get() requires a callback argument");var n=this._checkKey(t);if(n)return sa(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),e.asBuffer=!1!==e.asBuffer,this._get(t,e,r)},pa.prototype._get=function(t,e,r){sa((function(){r(new Error("NotFound"))}))},pa.prototype.put=function(t,e,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");var i=this._checkKey(t)||this._checkValue(e);if(i)return sa(n,i);t=this._serializeKey(t),e=this._serializeValue(e),"object"==typeof r&&null!==r||(r={}),this._put(t,e,r,n)},pa.prototype._put=function(t,e,r,n){sa(n)},pa.prototype.del=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("del() requires a callback argument");var n=this._checkKey(t);if(n)return sa(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),this._del(t,e,r)},pa.prototype._del=function(t,e,r){sa(r)},pa.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof e&&(r=e),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return sa(r,new Error("batch(array) requires an array argument"));if(0===t.length)return sa(r);"object"==typeof e&&null!==e||(e={});for(var n=new Array(t.length),i=0;i<t.length;i++){if("object"!=typeof t[i]||null===t[i])return sa(r,new Error("batch(array) element must be an object and not `null`"));var s=Do(t[i]);if("put"!==s.type&&"del"!==s.type)return sa(r,new Error("`type` must be 'put' or 'del'"));var o=this._checkKey(s.key);if(o)return sa(r,o);if(s.key=this._serializeKey(s.key),"put"===s.type){var a=this._checkValue(s.value);if(a)return sa(r,a);s.value=this._serializeValue(s.value)}n[i]=s}this._batch(n,e,r)},pa.prototype._batch=function(t,e,r){sa(r)},pa.prototype.clear=function(t,e){if("function"==typeof t)e=t;else if("function"!=typeof e)throw new Error("clear() requires a callback argument");(t=ha(this,t)).reverse=!!t.reverse,t.limit="limit"in t?t.limit:-1,this._clear(t,e)},pa.prototype._clear=function(t,e){t.keys=!0,t.values=!1,t.keyAsBuffer=!0,t.valueAsBuffer=!0;var r=this._iterator(t),n={},i=this,s=function(t){if(t)return r.end((function(){e(t)}));r.next((function(t,o){return t?s(t):void 0===o?r.end(e):void i._del(o,n,s)}))};s()},pa.prototype._setupIteratorOptions=function(t){return(t=ha(this,t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},pa.prototype.iterator=function(t){return"object"==typeof t&&null!==t||(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},pa.prototype._iterator=function(t){return new aa(this)},pa.prototype._chainedBatch=function(){return new ua(this)},pa.prototype._serializeKey=function(t){return t},pa.prototype._serializeValue=function(t){return t},pa.prototype._checkKey=function(t){return null==t?new Error("key cannot be `null` or `undefined`"):_a.isBuffer(t)&&0===t.length?new Error("key cannot be an empty Buffer"):""===t?new Error("key cannot be an empty String"):Array.isArray(t)&&0===t.length?new Error("key cannot be an empty Array"):void 0},pa.prototype._checkValue=function(t){if(null==t)return new Error("value cannot be `null` or `undefined`")},pa.prototype._nextTick=sa;var va={AbstractLevelDOWN:pa,AbstractIterator:aa,AbstractChainedBatch:ua},ma=bi((function(t){t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),ga=va.AbstractIterator;function Pa(t,e){ga.call(this,t),this._options=e,this._iterator=null,this._operations=[]}ma(Pa,ga),Pa.prototype.setDb=function(t){var e=this._iterator=t.iterator(this._options);this._operations.forEach((function(t){e[t.method].apply(e,t.args)}))},Pa.prototype._operation=function(t,e){if(this._iterator)return this._iterator[t].apply(this._iterator,e);this._operations.push({method:t,args:e})},"next end".split(" ").forEach((function(t){Pa.prototype["_"+t]=function(){this._operation(t,arguments)}})),Pa.prototype.seek=function(){this._operation("seek",arguments)};var xa=Pa,ba=va.AbstractLevelDOWN,wa="put get del batch clear".split(" "),Ea="approximateSize compactRange".split(" ");function ka(t){ba.call(this,t.supports||{}),Ea.forEach((function(e){"function"!=typeof t[e]||this.supports.additionalMethods[e]||(this.supports.additionalMethods[e]=!0)}),this),this._db=t,this._operations=[],Ia(this)}function Ia(t){wa.forEach((function(e){t["_"+e]=function(){this._operations.push({method:e,args:arguments})}})),Object.keys(t.supports.additionalMethods).forEach((function(e){t[e]=function(){this._operations.push({method:e,args:arguments})}})),t._iterator=function(e){var r=new xa(t,e);return this._operations.push({iterator:r}),r}}ma(ka,ba),ka.prototype.type="deferred-leveldown",ka.prototype._open=function(t,e){var r=this;this._db.open(t,(function(t){if(t)return e(t);r._operations.forEach((function(t){t.iterator?t.iterator.setDb(r._db):r._db[t.method].apply(r._db,t.args)})),r._operations=[],function(t){wa.concat("iterator").forEach((function(e){t["_"+e]=function(){return this._db[e].apply(this._db,arguments)}})),Object.keys(t.supports.additionalMethods).forEach((function(e){t[e]=function(){return this._db[e].apply(this._db,arguments)}}))}(r),e()}))},ka.prototype._close=function(t){var e=this;this._db.close((function(r){if(r)return t(r);Ia(e),t()}))},ka.prototype._serializeKey=function(t){return t},ka.prototype._serializeValue=function(t){return t};var Na=ka;Na.DeferredIterator=xa;var Aa=wi(Qi),Ca=Aa.EventEmitter;function Ta(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fa=la.Buffer,Ka=Wo.inspect,Ra=Ka&&Ka.custom||"inspect",La=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e;return(e=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return Fa.alloc(0);for(var e=Fa.allocUnsafe(t>>>0),r=this.head,n=0;r;)Fa.prototype.copy.call(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(n+=s===i.length?i:i.slice(0,t),0==(t-=s)){s===i.length?(++r,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=Fa.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,s=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,s),0==(t-=s)){s===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,e}},{key:Ra,value:function(t,e){return Ka(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ta(Object(r),!0).forEach((function(e){Sa(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e),t}();function Ba(t,e){Da(t,e),Oa(t)}function Oa(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Da(t,e){t.emit("error",e)}var Ma=function(t,e){var r=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,yr(Da,this,t)):yr(Da,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?yr(Oa,r):(r._writableState.errorEmitted=!0,yr(Ba,r,t)):yr(Ba,r,t):e?(yr(Oa,r),e(t)):yr(Oa,r)})),this)},Ua=function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},za=function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)},Ha={};function ja(t,e,r){r||(r=Error);var n=function(t){var r,n;function i(r,n,i){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i))||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=t,Ha[t]=n}function Ya(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}ja("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),ja("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length)," argument"===t.substring(r-" argument".length,r)}(t))i="The ".concat(t," ").concat(n," ").concat(Ya(e,"type"));else{var s=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+".".length>t.length)&&-1!==t.indexOf(".",r)}(t)?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Ya(e,"type"))}return i+". Received type ".concat(typeof r)}),TypeError),ja("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ja("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),ja("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ja("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),ja("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ja("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ja("ERR_STREAM_WRITE_AFTER_END","write after end"),ja("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ja("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),ja("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var Va={codes:Ha},qa=Va.codes.ERR_INVALID_OPT_VALUE,Ga=function(t,e,r,n){var i=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new qa(n?r:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384};function Wa(t){try{if(!xi.localStorage)return!1}catch(a){return!1}var e=xi.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}var Xa,$a=hc;function Ja(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}hc.WritableState=pc;var Za,Qa=function(t,e){if(Wa("noDeprecation"))return t;var r=!1;return function(){if(!r){if(Wa("throwDeprecation"))throw new Error(e);Wa("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}},tc=la.Buffer,ec=xi.Uint8Array||function(){},rc=Ga,nc=Va.codes,ic=nc.ERR_INVALID_ARG_TYPE,sc=nc.ERR_METHOD_NOT_IMPLEMENTED,oc=nc.ERR_MULTIPLE_CALLBACK,ac=nc.ERR_STREAM_CANNOT_PIPE,cc=nc.ERR_STREAM_DESTROYED,uc=nc.ERR_STREAM_NULL_VALUES,lc=nc.ERR_STREAM_WRITE_AFTER_END,_c=nc.ERR_UNKNOWN_ENCODING,fc=za;function dc(){}function pc(t,e,r){Xa=Xa||wc,"boolean"!=typeof r&&(r=e instanceof Xa),this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=rc(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new oc;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(yr(i,n),yr(xc,t,e),t._writableState.errorEmitted=!0,fc(t,n)):(i(n),t._writableState.errorEmitted=!0,fc(t,n),xc(t,e))}(t,r,n,e,i);else{var s=gc(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||mc(t,r),n?yr(vc,t,r,s,i):vc(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ja(this)}function hc(t){var e=this instanceof(Xa=Xa||wc);if(!e&&!Za.call(hc,this))return new hc(t);this._writableState=new pc(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),Ca.call(this)}function yc(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new cc("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function vc(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),xc(t,e)}function mc(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=new Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=r;for(var s=0,o=!0;r;)n[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;n.allBuffers=o,yc(t,e,!0,e.length,n,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new Ja(e),e.bufferedRequestCount=0}else{for(;r;){var a=r.chunk;if(yc(t,e,!1,e.objectMode?1:a.length,a,r.encoding,r.callback),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function gc(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function Pc(t,e){t._final((function(r){e.pendingcb--,r&&fc(t,r),e.prefinished=!0,t.emit("prefinish"),xc(t,e)}))}function xc(t,e){var r=gc(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,yr(Pc,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}ma(hc,Ca),pc.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(pc.prototype,"buffer",{get:Qa((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Za=Function.prototype[Symbol.hasInstance],Object.defineProperty(hc,Symbol.hasInstance,{value:function(t){return!!Za.call(this,t)||this===hc&&t&&t._writableState instanceof pc}})):Za=function(t){return t instanceof this},hc.prototype.pipe=function(){fc(this,new ac)},hc.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(tc.isBuffer(n=t)||n instanceof ec);return o&&!tc.isBuffer(t)&&(t=function(t){return tc.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=dc),i.ending?function(t,e){var r=new lc;fc(t,r),yr(e,r)}(this,r):(o||function(t,e,r,n){var i;return null===r?i=new uc:"string"==typeof r||e.objectMode||(i=new ic("chunk",["string","Buffer"],r)),!i||(fc(t,i),yr(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=tc.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else yc(t,e,!1,a,n,i,s);return c}(this,i,o,t,e,r)),s},hc.prototype.cork=function(){this._writableState.corked++},hc.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||mc(this,t))},hc.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _c(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(hc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(hc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),hc.prototype._write=function(t,e,r){r(new sc("_write()"))},hc.prototype._writev=null,hc.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,xc(t,e),r&&(e.finished?yr(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(hc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(hc.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),hc.prototype.destroy=Ma,hc.prototype._undestroy=Ua,hc.prototype._destroy=function(t,e){e(t)};var bc=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},wc=Nc;ma(Nc,uu);for(var Ec=bc($a.prototype),kc=0;kc<Ec.length;kc++){var Ic=Ec[kc];Nc.prototype[Ic]||(Nc.prototype[Ic]=$a.prototype[Ic])}function Nc(t){if(!(this instanceof Nc))return new Nc(t);uu.call(this,t),$a.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",Ac)))}function Ac(){this._writableState.ended||yr(Cc,this)}function Cc(t){t.end()}Object.defineProperty(Nc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Nc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Nc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Nc.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var Tc=bi((function(t,e){var r=la.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=la:(n(la,e),e.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return la.SlowBuffer(t)}})).Buffer,Sc=Tc.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Fc=Kc;function Kc(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(Tc.isEncoding===Sc||!Sc(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=Bc,this.end=Oc,e=4;break;case"utf8":this.fillLast=Lc,e=4;break;case"base64":this.text=Dc,this.end=Mc,e=3;break;default:return this.write=Uc,void(this.end=zc)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Tc.allocUnsafe(e)}function Rc(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Lc(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function Bc(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Oc(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function Dc(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Mc(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Uc(t){return t.toString(this.encoding)}function zc(t){return t&&t.length?this.write(t):""}Kc.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},Kc.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},Kc.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Rc(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=Rc(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=Rc(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},Kc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};var Hc={StringDecoder:Fc},jc=Va.codes.ERR_STREAM_PREMATURE_CLOSE;function Yc(){}var Vc,qc=function t(e,r,n){if("function"==typeof r)return t(e,null,r);r||(r={}),n=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(n||Yc);var i=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,o=function(){e.writable||c()},a=e._writableState&&e._writableState.finished,c=function(){s=!1,a=!0,i||n.call(e)},u=e._readableState&&e._readableState.endEmitted,l=function(){i=!1,u=!0,s||n.call(e)},_=function(t){n.call(e,t)},f=function(){var t;return i&&!u?(e._readableState&&e._readableState.ended||(t=new jc),n.call(e,t)):s&&!a?(e._writableState&&e._writableState.ended||(t=new jc),n.call(e,t)):void 0},d=function(){e.req.on("finish",c)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",c),e.on("abort",f),e.req?d():e.on("request",d)):s&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",c),!1!==r.error&&e.on("error",_),e.on("close",f),function(){e.removeListener("complete",c),e.removeListener("abort",f),e.removeListener("request",d),e.req&&e.req.removeListener("finish",c),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",c),e.removeListener("end",l),e.removeListener("error",_),e.removeListener("close",f)}};function Gc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wc=Symbol("lastResolve"),Xc=Symbol("lastReject"),$c=Symbol("error"),Jc=Symbol("ended"),Zc=Symbol("lastPromise"),Qc=Symbol("handlePromise"),tu=Symbol("stream");function eu(t,e){return{value:t,done:e}}function ru(t){var e=t[Wc];if(null!==e){var r=t[tu].read();null!==r&&(t[Zc]=null,t[Wc]=null,t[Xc]=null,e(eu(r,!1)))}}function nu(t){yr(ru,t)}var iu,su=Object.getPrototypeOf((function(){})),ou=Object.setPrototypeOf((Gc(Vc={get stream(){return this[tu]},next:function(){var t=this,e=this[$c];if(null!==e)return Promise.reject(e);if(this[Jc])return Promise.resolve(eu(void 0,!0));if(this[tu].destroyed)return new Promise((function(e,r){yr((function(){t[$c]?r(t[$c]):e(eu(void 0,!0))}))}));var r,n=this[Zc];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[Jc]?r(eu(void 0,!0)):e[Qc](r,n)}),n)}}(n,this));else{var i=this[tu].read();if(null!==i)return Promise.resolve(eu(i,!1));r=new Promise(this[Qc])}return this[Zc]=r,r}},Symbol.asyncIterator,(function(){return this})),Gc(Vc,"return",(function(){var t=this;return new Promise((function(e,r){t[tu].destroy(null,(function(t){t?r(t):e(eu(void 0,!0))}))}))})),Vc),su),au=function(t){var e,r=Object.create(ou,(Gc(e={},tu,{value:t,writable:!0}),Gc(e,Wc,{value:null,writable:!0}),Gc(e,Xc,{value:null,writable:!0}),Gc(e,$c,{value:null,writable:!0}),Gc(e,Jc,{value:t._readableState.endEmitted,writable:!0}),Gc(e,Qc,{value:function(t,e){var n=r[tu].read();n?(r[Zc]=null,r[Wc]=null,r[Xc]=null,t(eu(n,!1))):(r[Wc]=t,r[Xc]=e)},writable:!0}),e));return r[Zc]=null,qc(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[Xc];return null!==e&&(r[Zc]=null,r[Wc]=null,r[Xc]=null,e(t)),void(r[$c]=t)}var n=r[Wc];null!==n&&(r[Zc]=null,r[Wc]=null,r[Xc]=null,n(eu(void 0,!0))),r[Jc]=!0})),t.on("readable",nu.bind(null,r)),r},cu=function(){throw new Error("Readable.from is not available in the browser")},uu=Iu;Iu.ReadableState=ku;var lu,_u=function(t,e){return t.listeners(e).length},fu=la.Buffer,du=xi.Uint8Array||function(){};lu=Wo&&Wo.debuglog?Wo.debuglog("stream"):function(){};var pu,hu,yu,vu=Ga,mu=Va.codes,gu=mu.ERR_INVALID_ARG_TYPE,Pu=mu.ERR_STREAM_PUSH_AFTER_EOF,xu=mu.ERR_METHOD_NOT_IMPLEMENTED,bu=mu.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;ma(Iu,Ca);var wu=za,Eu=["error","close","destroy","pause","resume"];function ku(t,e,r){iu=iu||wc,"boolean"!=typeof r&&(r=e instanceof iu),this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=vu(this,t,"readableHighWaterMark",r),this.buffer=new La,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(pu||(pu=Hc.StringDecoder),this.decoder=new pu(t.encoding),this.encoding=t.encoding)}function Iu(t){if(iu=iu||wc,!(this instanceof Iu))return new Iu(t);this._readableState=new ku(t,this,this instanceof iu),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),Ca.call(this)}function Nu(t,e,r,n,i){lu("readableAddChunk",e);var s,o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(lu("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Tu(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Su(t)))}}(t,o);else if(i||(s=function(t,e){var r,n;return fu.isBuffer(n=e)||n instanceof du||"string"==typeof e||void 0===e||t.objectMode||(r=new gu("chunk",["string","Buffer","Uint8Array"],e)),r}(o,e)),s)wu(t,s);else if(o.objectMode||e&&e.length>0)if("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===fu.prototype||(e=function(t){return fu.from(t)}(e)),n)o.endEmitted?wu(t,new bu):Au(t,o,e,!0);else if(o.ended)wu(t,new Pu);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?Au(t,o,e,!1):Fu(t,o)):Au(t,o,e,!1)}else n||(o.reading=!1,Fu(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function Au(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Tu(t)),Fu(t,e)}function Cu(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function Tu(t){var e=t._readableState;lu("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(lu("emitReadable",e.flowing),e.emittedReadable=!0,yr(Su,t))}function Su(t){var e=t._readableState;lu("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Ou(t)}function Fu(t,e){e.readingMore||(e.readingMore=!0,yr(Ku,t,e))}function Ku(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(lu("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function Ru(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Lu(t){lu("readable nexttick read 0"),t.read(0)}function Bu(t,e){lu("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Ou(t),e.flowing&&!e.reading&&t.read(0)}function Ou(t){var e=t._readableState;for(lu("flow",e.flowing);e.flowing&&null!==t.read(););}function Du(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function Mu(t){var e=t._readableState;lu("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,yr(Uu,e,t))}function Uu(t,e){if(lu("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function zu(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}Object.defineProperty(Iu.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),Iu.prototype.destroy=Ma,Iu.prototype._undestroy=Ua,Iu.prototype._destroy=function(t,e){e(t)},Iu.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=fu.from(t,e),e=""),r=!0),Nu(this,t,e,!1,r)},Iu.prototype.unshift=function(t){return Nu(this,t,null,!0,!1)},Iu.prototype.isPaused=function(){return!1===this._readableState.flowing},Iu.prototype.setEncoding=function(t){pu||(pu=Hc.StringDecoder);var e=new pu(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},Iu.prototype.read=function(t){lu("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return lu("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Mu(this):Tu(this),null;if(0===(t=Cu(t,e))&&e.ended)return 0===e.length&&Mu(this),null;var n,i=e.needReadable;return lu("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&lu("length less than watermark",i=!0),e.ended||e.reading?lu("reading or ended",i=!1):i&&(lu("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Cu(r,e))),null===(n=t>0?Du(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Mu(this)),null!==n&&this.emit("data",n),n},Iu.prototype._read=function(t){wu(this,new xu("_read()"))},Iu.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,lu("pipe count=%d opts=%j",n.pipesCount,e);var i=e&&!1===e.end||t===Cr.stdout||t===Cr.stderr?f:s;function s(){lu("onend"),t.end()}n.endEmitted?yr(i):r.once("end",i),t.on("unpipe",(function e(i,d){lu("onunpipe"),i===r&&d&&!1===d.hasUnpiped&&(d.hasUnpiped=!0,lu("cleanup"),t.removeListener("close",l),t.removeListener("finish",_),t.removeListener("drain",o),t.removeListener("error",u),t.removeListener("unpipe",e),r.removeListener("end",s),r.removeListener("end",f),r.removeListener("data",c),a=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||o())}));var o=function(t){return function(){var e=t._readableState;lu("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_u(t,"data")&&(e.flowing=!0,Ou(t))}}(r);t.on("drain",o);var a=!1;function c(e){lu("ondata");var i=t.write(e);lu("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==zu(n.pipes,t))&&!a&&(lu("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(e){lu("onerror",e),f(),t.removeListener("error",u),0===_u(t,"error")&&wu(t,e)}function l(){t.removeListener("finish",_),f()}function _(){lu("onfinish"),t.removeListener("close",l),f()}function f(){lu("unpipe"),r.unpipe(t)}return r.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener("error",r);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(r):t._events.error=[r,t._events.error]:t.on("error",r)}(t,0,u),t.once("close",l),t.once("finish",_),t.emit("pipe",r),n.flowing||(lu("pipe resume"),r.resume()),t},Iu.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=zu(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},Iu.prototype.addListener=Iu.prototype.on=function(t,e){var r=Ca.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,lu("on readable",n.length,n.reading),n.length?Tu(this):n.reading||yr(Lu,this))),r},Iu.prototype.removeListener=function(t,e){var r=Ca.prototype.removeListener.call(this,t,e);return"readable"===t&&yr(Ru,this),r},Iu.prototype.removeAllListeners=function(t){var e=Ca.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||yr(Ru,this),e},Iu.prototype.resume=function(){var t=this._readableState;return t.flowing||(lu("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,yr(Bu,t,e))}(this,t)),t.paused=!1,this},Iu.prototype.pause=function(){return lu("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(lu("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Iu.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(lu("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){lu("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<Eu.length;s++)t.on(Eu[s],this.emit.bind(this,Eu[s]));return this._read=function(e){lu("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(Iu.prototype[Symbol.asyncIterator]=function(){return void 0===hu&&(hu=au),hu(this)}),Object.defineProperty(Iu.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Iu.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Iu.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),Iu._fromList=Du,Object.defineProperty(Iu.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Iu.from=function(t,e){return void 0===yu&&(yu=cu),yu(Iu,t,e)});var Hu=Xu,ju=Va.codes,Yu=ju.ERR_METHOD_NOT_IMPLEMENTED,Vu=ju.ERR_MULTIPLE_CALLBACK,qu=ju.ERR_TRANSFORM_ALREADY_TRANSFORMING,Gu=ju.ERR_TRANSFORM_WITH_LENGTH_0;function Wu(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new Vu);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Xu(t){if(!(this instanceof Xu))return new Xu(t);wc.call(this,t),this._transformState={afterTransform:Wu.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",$u)}function $u(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?Ju(this,null,null):this._flush((function(e,r){Ju(t,e,r)}))}function Ju(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Gu;if(t._transformState.transforming)throw new qu;return t.push(null)}ma(Xu,wc),Xu.prototype.push=function(t,e){return this._transformState.needTransform=!1,wc.prototype.push.call(this,t,e)},Xu.prototype._transform=function(t,e,r){r(new Yu("_transform()"))},Xu.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Xu.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Xu.prototype._destroy=function(t,e){wc.prototype._destroy.call(this,t,(function(t){e(t)}))};var Zu,Qu=tl;function tl(t){if(!(this instanceof tl))return new tl(t);Hu.call(this,t)}ma(tl,Hu),tl.prototype._transform=function(t,e,r){r(null,t)};var el=Va.codes,rl=el.ERR_MISSING_ARGS,nl=el.ERR_STREAM_DESTROYED;function il(t){if(t)throw t}function sl(t,e,r,n){n=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(n);var i=!1;t.on("close",(function(){i=!0})),void 0===Zu&&(Zu=qc),Zu(t,{readable:e,writable:r},(function(t){if(t)return n(t);i=!0,n()}));var s=!1;return function(e){if(!i&&!s)return s=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void n(e||new nl("pipe"))}}function ol(t){t()}function al(t,e){return t.pipe(e)}function cl(t){return t.length?"function"!=typeof t[t.length-1]?il:t.pop():il}var ul=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=cl(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new rl("streams");var s=e.map((function(t,r){var o=r<e.length-1;return sl(t,o,r>0,(function(t){n||(n=t),t&&s.forEach(ol),o||(s.forEach(ol),i(n))}))}));return e.reduce(al)},ll=bi((function(t,e){(e=t.exports=uu).Stream=e,e.Readable=e,e.Writable=$a,e.Duplex=wc,e.Transform=Hu,e.PassThrough=Qu,e.finished=qc,e.pipeline=ul})).Readable,_l=fl;function fl(t,e){if(!(this instanceof fl))return new fl(t,e);ll.call(this,Do(e=e||{},{objectMode:!0})),this._iterator=t,this._options=e,this.on("end",this.destroy.bind(this,null,null))}ma(fl,ll),fl.prototype._read=function(){var t=this,e=this._options;this.destroyed||this._iterator.next((function(r,n,i){if(!t.destroyed)return r?t.destroy(r):void t.push(void 0===n&&void 0===i?null:!1!==e.keys&&!1===e.values?n:!1===e.keys&&!1!==e.values?i:{key:n,value:i})}))},fl.prototype._destroy=function(t,e){this._iterator.end((function(r){e(t||r)}))};var dl=bi((function(t){var e,r;e=xi,r=function(){var t="function"==typeof Object.defineProperty?function(t,e,r){return Object.defineProperty(t,e,r),t}:function(t,e,r){return t[e]=r.value,t};return function(e,r,n,i){var s;if(i=function(t,e){var r="object"==typeof e,n=!r&&"string"==typeof e,i=function(t){return r?!!e[t]:!!n&&e.indexOf(t[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:t}}(n,i),"object"==typeof r){for(s in r)Object.hasOwnProperty.call(r,s)&&(i.value=r[s],t(e,s,i));return e}return t(e,r,i)}},t.exports?t.exports=r():e.prr=r()}));function pl(t,e,r){e&&"string"!=typeof e&&(e=e.message||e.name),dl(this,{type:t,name:t,cause:"string"!=typeof e?e:r,message:e},"ewr")}function hl(t,e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),pl.call(this,"CustomError",t,e)}hl.prototype=new Error;var yl=bi((function(t){var e=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},e.forEach((function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e})),t.exports.custom=function(t){var e=function(e,r){return function(t,e,r){var n=function(r,i){pl.call(this,e,r,i),"FilesystemError"==e&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(t.errno[this.cause.errno]?t.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new hl,n}(t,e,r)};return{CustomError:hl,FilesystemError:e("FilesystemError"),createError:e}}(t.exports),t.exports.create=t.exports.custom.createError})).create,vl=yl("LevelUPError"),ml=yl("NotFoundError",vl);ml.prototype.notFound=!0,ml.prototype.status=404;var gl={LevelUPError:vl,InitializationError:yl("InitializationError",vl),OpenError:yl("OpenError",vl),ReadError:yl("ReadError",vl),WriteError:yl("WriteError",vl),NotFoundError:ml,EncodingError:yl("EncodingError",vl)},Pl=function(){var t,e=new Promise((function(e,r){t=function(t,n){t?r(t):e(n)}}));return t.promise=e,t},xl=function(t,e){return"function"==typeof t?t:e},bl=function(t){return"object"==typeof t&&null!==t?t:{}},wl=gl.WriteError,El=xl,kl=bl;function Il(t){this.db=this._levelup=t,this.batch=t.db.batch(),this.ops=[],this.length=0}Il.prototype.put=function(t,e){try{this.batch.put(t,e)}catch(i){throw new wl(i)}return this.ops.push({type:"put",key:t,value:e}),this.length++,this},Il.prototype.del=function(t){try{this.batch.del(t)}catch(e){throw new wl(e)}return this.ops.push({type:"del",key:t}),this.length++,this},Il.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new wl(t)}return this.ops=[],this.length=0,this},Il.prototype.write=function(t,e){var r,n=this._levelup,i=this.ops;(e=El(t,e))||(r=(e=Pl()).promise),t=kl(t);try{this.batch.write(t,(function(t){if(t)return e(new wl(t));n.emit("batch",i),e()}))}catch(s){throw new wl(s)}return r};var Nl=Il;function Al(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var Cl,Tl=Object.prototype.hasOwnProperty,Sl=Object.keys||function(t){var e=[];for(var r in t)Tl.call(t,r)&&e.push(r);return e},Fl=Array.prototype.slice;function Kl(){return void 0!==Cl?Cl:Cl="foo"===(function(){}).name}function Rl(t){return Object.prototype.toString.call(t)}function Ll(t){return!Xs(t)&&"function"==typeof ir.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}function Bl(t,e){t||Hl(t,!0,e,"==",jl)}var Ol=/\s*function\s+([^\(\s]*)\s*/;function Dl(t){if(Eo(t)){if(Kl())return t.name;var e=t.toString().match(Ol);return e&&e[1]}}function Ml(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return Ul(zl(t.actual),128)+" "+t.operator+" "+Ul(zl(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||Hl;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=Dl(e),s=n.indexOf("\n"+i);if(s>=0){var o=n.indexOf("\n",s+1);n=n.substring(o+1)}this.stack=n}}}function Ul(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function zl(t){if(Kl()||!Eo(t))return so(t);var e=Dl(t);return"[Function"+(e?": "+e:"")+"]"}function Hl(t,e,r,n,i){throw new Ml({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function jl(t,e){t||Hl(t,!0,e,"==",jl)}function Yl(t,e,r){t!=e&&Hl(t,e,r,"==",Yl)}function Vl(t,e,r){t==e&&Hl(t,e,r,"!=",Vl)}function ql(t,e,r){Wl(t,e,!1)||Hl(t,e,r,"deepEqual",ql)}function Gl(t,e,r){Wl(t,e,!0)||Hl(t,e,r,"deepStrictEqual",Gl)}function Wl(t,e,r,n){if(t===e)return!0;if(Xs(t)&&Xs(e))return 0===Al(t,e);if(bo(t)&&bo(e))return t.getTime()===e.getTime();if(Po(t)&&Po(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(Ll(t)&&Ll(e)&&Rl(t)===Rl(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===Al(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(Xs(t)!==Xs(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(ko(t)||ko(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=Xl(t),s=Xl(e);if(i&&!s||!i&&s)return!1;if(i)return Wl(t=Fl.call(t),e=Fl.call(e),r);var o,a,c=Sl(t),u=Sl(e);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(!Wl(t[o=c[a]],e[o],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function Xl(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function $l(t,e,r){Wl(t,e,!1)&&Hl(t,e,r,"notDeepEqual",$l)}function Jl(t,e,r){Wl(t,e,!0)&&Hl(t,e,r,"notDeepStrictEqual",Jl)}function Zl(t,e,r){t!==e&&Hl(t,e,r,"===",Zl)}function Ql(t,e,r){t===e&&Hl(t,e,r,"!==",Ql)}function t_(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(i){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function e_(t,e,r,n){var s;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),s=function(t){var e;try{t()}catch(i){e=i}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!s&&Hl(s,r,"Missing expected exception"+n);var o="string"==typeof n,a=!t&&s&&!r;if((!t&&wo(s)&&o&&t_(s,r)||a)&&Hl(s,r,"Got unwanted exception"+n),t&&s&&r&&!t_(s,r)||!t&&s)throw s}function r_(t,e,r){e_(!0,t,e,r)}function n_(t,e,r){e_(!1,t,e,r)}function i_(t){if(t)throw t}Bl.AssertionError=Ml,Zs(Ml,Error),Bl.fail=Hl,Bl.ok=jl,Bl.equal=Yl,Bl.notEqual=Vl,Bl.deepEqual=ql,Bl.deepStrictEqual=Gl,Bl.notDeepEqual=$l,Bl.notDeepStrictEqual=Jl,Bl.strictEqual=Zl,Bl.notStrictEqual=Ql,Bl.throws=r_,Bl.doesNotThrow=n_,Bl.ifError=i_;var s_=Object.freeze({__proto__:null,default:Bl,AssertionError:Ml,fail:Hl,ok:jl,assert:jl,equal:Yl,notEqual:Vl,deepEqual:ql,deepStrictEqual:Gl,notDeepEqual:$l,notDeepStrictEqual:Jl,strictEqual:Zl,notStrictEqual:Ql,throws:r_,doesNotThrow:n_,ifError:i_}),o_=wi(Oo),a_=wi(s_),c_=Aa.EventEmitter,u_=o_.inherits,l_=xl,__=bl,f_=gl.WriteError,d_=gl.ReadError,p_=gl.NotFoundError,h_=gl.OpenError,y_=gl.InitializationError;function v_(t,e,r){if(!(this instanceof v_))return new v_(t,e,r);var n,i=this;if(c_.call(this),this.setMaxListeners(1/0),"function"==typeof e&&(r=e,e={}),e=e||{},!t||"object"!=typeof t){if(n=new y_("First argument must be an abstract-leveldown compliant store"),"function"==typeof r)return yr(r,n);throw n}a_.strictEqual(typeof t.status,"string",".status required, old abstract-leveldown"),this.options=__(e),this._db=t,this.db=new Na(t),this.open(r||function(t){t&&i.emit("error",t)}),this.supports=Ho(this.db.supports,{status:!1,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0}),Object.keys(this.supports.additionalMethods).forEach((function(t){null==this[t]&&(this[t]=function(){return this.db[t].apply(this.db,arguments)})}),this)}function m_(t,e){if(!t._isOpening()&&!t.isOpen())return yr(e,new d_("Database is not open")),!0}v_.prototype.emit=c_.prototype.emit,v_.prototype.once=c_.prototype.once,u_(v_,c_),v_.prototype.open=function(t,e){var r,n=this;return"function"==typeof t&&(e=t,t=null),e||(r=(e=Pl()).promise),t||(t=this.options),this.isOpen()?(yr(e,null,n),r):this._isOpening()?(this.once("open",(function(){e(null,n)})),r):(this.emit("opening"),this.db.open(t,(function(t){if(t)return e(new h_(t));n.db=n._db,e(null,n),n.emit("open"),n.emit("ready")})),r)},v_.prototype.close=function(t){var e,r=this;return t||(e=(t=Pl()).promise),this.isOpen()?(this.db.close((function(){r.emit("closed"),t.apply(null,arguments)})),this.emit("closing"),this.db=new Na(this._db)):this.isClosed()?yr(t):"closing"===this.db.status?this.once("closed",t):this._isOpening()&&this.once("open",(function(){r.close(t)})),e},v_.prototype.isOpen=function(){return"open"===this.db.status},v_.prototype._isOpening=function(){return"opening"===this.db.status},v_.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},v_.prototype.get=function(t,e,r){var n;return(r=l_(e,r))||(n=(r=Pl()).promise),m_(this,r)||(e=__(e),this.db.get(t,e,(function(e,n){if(e)return e=/notfound/i.test(e)||e.notFound?new p_("Key not found in database ["+t+"]",e):new d_(e),r(e);r(null,n)}))),n},v_.prototype.put=function(t,e,r,n){var i,s=this;return(n=l_(r,n))||(i=(n=Pl()).promise),m_(this,n)||(r=__(r),this.db.put(t,e,r,(function(r){if(r)return n(new f_(r));s.emit("put",t,e),n()}))),i},v_.prototype.del=function(t,e,r){var n,i=this;return(r=l_(e,r))||(n=(r=Pl()).promise),m_(this,r)||(e=__(e),this.db.del(t,e,(function(e){if(e)return r(new f_(e));i.emit("del",t),r()}))),n},v_.prototype.batch=function(t,e,r){if(!arguments.length)return new Nl(this);var n,i=this;return(r="function"==typeof t?t:l_(e,r))||(n=(r=Pl()).promise),m_(this,r)||(e=__(e),this.db.batch(t,e,(function(e){if(e)return r(new f_(e));i.emit("batch",t),r()}))),n},v_.prototype.iterator=function(t){return this.db.iterator(t)},v_.prototype.clear=function(t,e){var r,n=this;return e=l_(t,e),t=__(t),e||(r=(e=Pl()).promise),m_(this,e)||this.db.clear(t,(function(r){if(r)return e(new f_(r));n.emit("clear",t),e()})),r},v_.prototype.readStream=v_.prototype.createReadStream=function(t){return"number"!=typeof(t=Do({keys:!0,values:!0},t)).limit&&(t.limit=-1),new _l(this.db.iterator(t),t)},v_.prototype.keyStream=v_.prototype.createKeyStream=function(t){return this.createReadStream(Do(t,{keys:!0,values:!1}))},v_.prototype.valueStream=v_.prototype.createValueStream=function(t){return this.createReadStream(Do(t,{keys:!1,values:!0}))},v_.prototype.toString=function(){return"LevelUP"},v_.prototype.type="levelup",v_.errors=gl;var g_=v_.default=v_,P_=ia;function x_(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}x_.prototype.next=function(t){var e=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return e._ended?(P_(t,new Error("cannot call next() after end()")),e):e._nexting?(P_(t,new Error("cannot call next() before previous next() has completed")),e):(e._nexting=!0,e._next((function(){e._nexting=!1,t.apply(null,arguments)})),e)},x_.prototype._next=function(t){P_(t)},x_.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)},x_.prototype._seek=function(t){},x_.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");if(this._ended)return P_(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)},x_.prototype._end=function(t){P_(t)},x_.prototype._nextTick=P_;var b_=x_;function w_(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}w_.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},w_.prototype.put=function(t,e){this._checkWritten();var r=this.db._checkKey(t)||this.db._checkValue(e);if(r)throw r;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},w_.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},w_.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},w_.prototype._del=function(t){this._operations.push({type:"del",key:t})},w_.prototype.clear=function(){return this._checkWritten(),this._clear(),this},w_.prototype._clear=function(){this._operations=[]},w_.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},w_.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},w_.prototype._nextTick=P_;var E_=w_,k_=la.Buffer,I_=Object.prototype.hasOwnProperty,N_="start end gt gte lt lte".split(" ");function A_(t){this.status="new",this.supports=Ho(t,{status:!0})}function C_(t,e){var r={};for(var n in e)if(I_.call(e,n)){var i=e[n];T_(n)&&(i=t._serializeKey(i)),r[n]=i}return r}function T_(t){return-1!==N_.indexOf(t)}A_.prototype.open=function(t,e){var r=this,n=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"==typeof t&&null!==t||(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,(function(t){if(t)return r.status=n,e(t);r.status="open",e()}))},A_.prototype._open=function(t,e){P_(e)},A_.prototype.close=function(t){var e=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(n){if(n)return e.status=r,t(n);e.status="closed",t()}))},A_.prototype._close=function(t){P_(t)},A_.prototype.get=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("get() requires a callback argument");var n=this._checkKey(t);if(n)return P_(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),e.asBuffer=!1!==e.asBuffer,this._get(t,e,r)},A_.prototype._get=function(t,e,r){P_((function(){r(new Error("NotFound"))}))},A_.prototype.put=function(t,e,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");var i=this._checkKey(t)||this._checkValue(e);if(i)return P_(n,i);t=this._serializeKey(t),e=this._serializeValue(e),"object"==typeof r&&null!==r||(r={}),this._put(t,e,r,n)},A_.prototype._put=function(t,e,r,n){P_(n)},A_.prototype.del=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("del() requires a callback argument");var n=this._checkKey(t);if(n)return P_(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),this._del(t,e,r)},A_.prototype._del=function(t,e,r){P_(r)},A_.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof e&&(r=e),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return P_(r,new Error("batch(array) requires an array argument"));if(0===t.length)return P_(r);"object"==typeof e&&null!==e||(e={});for(var n=new Array(t.length),i=0;i<t.length;i++){if("object"!=typeof t[i]||null===t[i])return P_(r,new Error("batch(array) element must be an object and not `null`"));var s=Do(t[i]);if("put"!==s.type&&"del"!==s.type)return P_(r,new Error("`type` must be 'put' or 'del'"));var o=this._checkKey(s.key);if(o)return P_(r,o);if(s.key=this._serializeKey(s.key),"put"===s.type){var a=this._checkValue(s.value);if(a)return P_(r,a);s.value=this._serializeValue(s.value)}n[i]=s}this._batch(n,e,r)},A_.prototype._batch=function(t,e,r){P_(r)},A_.prototype.clear=function(t,e){if("function"==typeof t)e=t;else if("function"!=typeof e)throw new Error("clear() requires a callback argument");(t=C_(this,t)).reverse=!!t.reverse,t.limit="limit"in t?t.limit:-1,this._clear(t,e)},A_.prototype._clear=function(t,e){t.keys=!0,t.values=!1,t.keyAsBuffer=!0,t.valueAsBuffer=!0;var r=this._iterator(t),n={},i=this,s=function(t){if(t)return r.end((function(){e(t)}));r.next((function(t,o){return t?s(t):void 0===o?r.end(e):void i._del(o,n,s)}))};s()},A_.prototype._setupIteratorOptions=function(t){return(t=C_(this,t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},A_.prototype.iterator=function(t){return"object"==typeof t&&null!==t||(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},A_.prototype._iterator=function(t){return new b_(this)},A_.prototype._chainedBatch=function(){return new E_(this)},A_.prototype._serializeKey=function(t){return t},A_.prototype._serializeValue=function(t){return t},A_.prototype._checkKey=function(t){return null==t?new Error("key cannot be `null` or `undefined`"):k_.isBuffer(t)&&0===t.length?new Error("key cannot be an empty Buffer"):""===t?new Error("key cannot be an empty String"):Array.isArray(t)&&0===t.length?new Error("key cannot be an empty Array"):void 0},A_.prototype._checkValue=function(t){if(null==t)return new Error("value cannot be `null` or `undefined`")},A_.prototype._nextTick=P_;var S_={AbstractLevelDOWN:A_,AbstractIterator:b_,AbstractChainedBatch:E_},F_=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},K_=function(t,e){t||(t={}),e||(e={});var r={},n=F_(e.gte,e.ge,e.start),i=F_(e.lte,e.le,e.end),s=F_(t.gte,t.ge,t.start),o=F_(t.lte,t.le,t.end);return e.gt?void 0!==s?r.gte=e.gt(s):r.gt=e.gt(t.gt):n&&(void 0!==s?r.gte=n(s):r.gt=n(t.gt)),e.lt?void 0!==o?r.lte=e.lt(o):r.lt=e.lt(t.lt):i&&(void 0!==o?r.lte=i(o):r.lt=i(t.lt)),void 0!==e.limit?r.limit=e.limit(t.limit):void 0!==t.limit&&(r.limit=t.limit),r};function R_(t,e,r){return function t(e,r,n){return r(e,D_(e))?e:L_(e.db)?t(e.db,r,n):L_(e._db)?t(e._db,r,n):M_(e.db)?t(e.db,r,n):n?null:e}(t,B_(e),!!e&&!1!==r)}function L_(t){return U_(t)&&"function"==typeof t._batch&&"function"==typeof t._iterator}function B_(t){return"function"==typeof t?t:t?(e=t,function(t,r){return!!r&&r===e}):O_;var e}function O_(){return!1}function D_(t){return t.type?t.type:M_(t)?"levelup":function(t){return U_(t)&&U_(t.codec)&&U_(t.codec.encodings)}(t)?"encoding-down":function(t){return U_(t)&&Array.isArray(t._operations)&&Array.isArray(t._iterators)}(t)?"deferred-leveldown":void 0}function M_(t){return U_(t)&&/^levelup$/i.test(t)}function U_(t){return"object"==typeof t&&null!==t}R_.is=function(t,e){return!!B_(e)(t,D_(t))};var z_=R_,H_=function(t,e){return"levelup"!==e&&"encoding-down"!==e&&"deferred-leveldown"!==e},j_="start end gt gte lt lte".split(" "),Y_=S_.AbstractLevelDOWN.prototype._clear,V_=Object.prototype.hasOwnProperty,q_=ds.from([255]);function G_(t,e,r){return"string"==typeof e&&(r||e.length)?t+e:Xs(e)&&(r||e.length)?ds.concat([ds.from(t),e]):e}function W_(t,e,r){this.iterator=e,this.prefix=r,S_.AbstractIterator.call(this,t)}function X_(t,e,r){if(!(this instanceof X_))return new X_(t,e,r);"string"==typeof r&&(r={separator:r}),r||(r={});var n=r.separator;e||(e=""),n||(n="!"),e[0]===n&&(e=e.slice(1)),e[e.length-1]===n&&(e=e.slice(0,-1)),this.db=t,this.leveldown=null,this.ownPrefix=n+e+n,this.prefix=this.ownPrefix,this._beforeOpen=r.open;var i=this;this._wrap={gt:function(t){return G_(i.prefix,t||"",!0)},lt:function(t){return Xs(t)&&!t.length&&(t=q_),G_(i.prefix,t||"\xff")}},S_.AbstractLevelDOWN.call(this)}function $_(t){return-1!==j_.indexOf(t)}ma(W_,S_.AbstractIterator),W_.prototype._next=function(t){var e=this;this.iterator.next((function(r,n,i){if(r)return t(r);n&&(n=n.slice(e.prefix.length)),t.apply(null,arguments)}))},W_.prototype._seek=function(t){this.iterator.seek(G_(this.prefix,t))},W_.prototype._end=function(t){this.iterator.end(t)},ma(X_,S_.AbstractLevelDOWN),X_.prototype.type="subleveldown",X_.prototype._open=function(t,e){var r=this;this.db.open((function(t){if(t)return e(t);var n=z_(r.db,"subleveldown");n&&n.prefix?(r.prefix=n.prefix+r.ownPrefix,r.leveldown=n.leveldown):r.leveldown=z_(r.db,H_,!1),r._beforeOpen?r._beforeOpen(e):e()}))},X_.prototype._close=function(t){this.leveldown.close(t)},X_.prototype._serializeKey=function(t){return Xs(t)?t:String(t)},X_.prototype._put=function(t,e,r,n){this.leveldown.put(G_(this.prefix,t),e,r,n)},X_.prototype._get=function(t,e,r){this.leveldown.get(G_(this.prefix,t),e,r)},X_.prototype._del=function(t,e,r){this.leveldown.del(G_(this.prefix,t),e,r)},X_.prototype._batch=function(t,e,r){for(var n=0;n<t.length;n++)t[n].key=G_(this.prefix,t[n].key);this.leveldown.batch(t,e,r)},X_.prototype._clear=function(t,e){"function"==typeof this.leveldown.clear?(t=function(t,e){for(var r in e)V_.call(e,r)&&!$_(r)&&(t[r]=e[r]);return t}(K_(t,this._wrap),t),this.leveldown.clear(t,e)):Y_.call(this,t,e)},X_.prototype._iterator=function(t){var e=function(t,e){return t.keys=e.keys,t.values=e.values,t.createIfMissing=e.createIfMissing,t.errorIfExists=e.errorIfExists,t.keyEncoding=e.keyEncoding,t.valueEncoding=e.valueEncoding,t.compression=e.compression,t.db=e.db,t.limit=e.limit,t.keyAsBuffer=e.keyAsBuffer,t.valueAsBuffer=e.valueAsBuffer,t.reverse=e.reverse,t.fillCache=e.fillCache,t}(K_(function(t){return t.reverse&&(t.end||t.start)?{start:t.end,end:t.start}:t}(t),this._wrap),t);return new W_(this,this.leveldown.iterator(e),this.prefix)};var J_=X_,Z_=ia;function Q_(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}Q_.prototype.next=function(t){var e=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return e._ended?(Z_(t,new Error("cannot call next() after end()")),e):e._nexting?(Z_(t,new Error("cannot call next() before previous next() has completed")),e):(e._nexting=!0,e._next((function(){e._nexting=!1,t.apply(null,arguments)})),e)},Q_.prototype._next=function(t){Z_(t)},Q_.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)},Q_.prototype._seek=function(t){},Q_.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");if(this._ended)return Z_(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)},Q_.prototype._end=function(t){Z_(t)},Q_.prototype._nextTick=Z_;var tf=Q_;function ef(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}ef.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},ef.prototype.put=function(t,e){this._checkWritten();var r=this.db._checkKey(t)||this.db._checkValue(e);if(r)throw r;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},ef.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},ef.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},ef.prototype._del=function(t){this._operations.push({type:"del",key:t})},ef.prototype.clear=function(){return this._checkWritten(),this._clear(),this},ef.prototype._clear=function(){this._operations=[]},ef.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},ef.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},ef.prototype._nextTick=Z_;var rf=ef,nf=la.Buffer,sf=Object.prototype.hasOwnProperty,of="start end gt gte lt lte".split(" ");function af(t){this.status="new",this.supports=Ho(t,{status:!0})}function cf(t,e){var r={};for(var n in e)if(sf.call(e,n)){var i=e[n];uf(n)&&(i=t._serializeKey(i)),r[n]=i}return r}function uf(t){return-1!==of.indexOf(t)}af.prototype.open=function(t,e){var r=this,n=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"==typeof t&&null!==t||(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,(function(t){if(t)return r.status=n,e(t);r.status="open",e()}))},af.prototype._open=function(t,e){Z_(e)},af.prototype.close=function(t){var e=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(n){if(n)return e.status=r,t(n);e.status="closed",t()}))},af.prototype._close=function(t){Z_(t)},af.prototype.get=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("get() requires a callback argument");var n=this._checkKey(t);if(n)return Z_(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),e.asBuffer=!1!==e.asBuffer,this._get(t,e,r)},af.prototype._get=function(t,e,r){Z_((function(){r(new Error("NotFound"))}))},af.prototype.put=function(t,e,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");var i=this._checkKey(t)||this._checkValue(e);if(i)return Z_(n,i);t=this._serializeKey(t),e=this._serializeValue(e),"object"==typeof r&&null!==r||(r={}),this._put(t,e,r,n)},af.prototype._put=function(t,e,r,n){Z_(n)},af.prototype.del=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("del() requires a callback argument");var n=this._checkKey(t);if(n)return Z_(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),this._del(t,e,r)},af.prototype._del=function(t,e,r){Z_(r)},af.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof e&&(r=e),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return Z_(r,new Error("batch(array) requires an array argument"));if(0===t.length)return Z_(r);"object"==typeof e&&null!==e||(e={});for(var n=new Array(t.length),i=0;i<t.length;i++){if("object"!=typeof t[i]||null===t[i])return Z_(r,new Error("batch(array) element must be an object and not `null`"));var s=Do(t[i]);if("put"!==s.type&&"del"!==s.type)return Z_(r,new Error("`type` must be 'put' or 'del'"));var o=this._checkKey(s.key);if(o)return Z_(r,o);if(s.key=this._serializeKey(s.key),"put"===s.type){var a=this._checkValue(s.value);if(a)return Z_(r,a);s.value=this._serializeValue(s.value)}n[i]=s}this._batch(n,e,r)},af.prototype._batch=function(t,e,r){Z_(r)},af.prototype.clear=function(t,e){if("function"==typeof t)e=t;else if("function"!=typeof e)throw new Error("clear() requires a callback argument");(t=cf(this,t)).reverse=!!t.reverse,t.limit="limit"in t?t.limit:-1,this._clear(t,e)},af.prototype._clear=function(t,e){t.keys=!0,t.values=!1,t.keyAsBuffer=!0,t.valueAsBuffer=!0;var r=this._iterator(t),n={},i=this,s=function(t){if(t)return r.end((function(){e(t)}));r.next((function(t,o){return t?s(t):void 0===o?r.end(e):void i._del(o,n,s)}))};s()},af.prototype._setupIteratorOptions=function(t){return(t=cf(this,t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},af.prototype.iterator=function(t){return"object"==typeof t&&null!==t||(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},af.prototype._iterator=function(t){return new tf(this)},af.prototype._chainedBatch=function(){return new rf(this)},af.prototype._serializeKey=function(t){return t},af.prototype._serializeValue=function(t){return t},af.prototype._checkKey=function(t){return null==t?new Error("key cannot be `null` or `undefined`"):nf.isBuffer(t)&&0===t.length?new Error("key cannot be an empty Buffer"):""===t?new Error("key cannot be an empty String"):Array.isArray(t)&&0===t.length?new Error("key cannot be an empty Array"):void 0},af.prototype._checkValue=function(t){if(null==t)return new Error("value cannot be `null` or `undefined`")},af.prototype._nextTick=Z_;var lf={AbstractLevelDOWN:af,AbstractIterator:tf,AbstractChainedBatch:rf},_f=bi((function(t,e){function r(t){return t}function n(t){return null==t||Xs(t)}e.utf8=e["utf-8"]={encode:function(t){return n(t)?t:String(t)},decode:r,buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(t){return n(t)?t:ds.from(t)},decode:r,buffer:!0,type:"binary"},e.none={encode:r,decode:r,buffer:!1,type:"id"},e.id=e.none,["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach((function(t){e[t]={encode:function(e){return n(e)?e:ds.from(e,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t}}))})),ff=df;function df(t){if(!(this instanceof df))return new df(t);this.opts=t||{},this.encodings=_f}df.prototype._encoding=function(t){return"string"==typeof t&&(t=_f[t]),t||(t=_f.id),t},df.prototype._keyEncoding=function(t,e){return this._encoding(e&&e.keyEncoding||t&&t.keyEncoding||this.opts.keyEncoding)},df.prototype._valueEncoding=function(t,e){return this._encoding(e&&(e.valueEncoding||e.encoding)||t&&(t.valueEncoding||t.encoding)||this.opts.valueEncoding||this.opts.encoding)},df.prototype.encodeKey=function(t,e,r){return this._keyEncoding(e,r).encode(t)},df.prototype.encodeValue=function(t,e,r){return this._valueEncoding(e,r).encode(t)},df.prototype.decodeKey=function(t,e){return this._keyEncoding(e).decode(t)},df.prototype.decodeValue=function(t,e){return this._valueEncoding(e).decode(t)},df.prototype.encodeBatch=function(t,e){var r=this;return t.map((function(t){var n={type:t.type,key:r.encodeKey(t.key,e,t)};return r.keyAsBuffer(e,t)&&(n.keyEncoding="binary"),t.prefix&&(n.prefix=t.prefix),"value"in t&&(n.value=r.encodeValue(t.value,e,t),r.valueAsBuffer(e,t)&&(n.valueEncoding="binary")),n}))};var pf=["lt","gt","lte","gte","start","end"];df.prototype.encodeLtgt=function(t){var e=this,r={};return Object.keys(t).forEach((function(n){r[n]=pf.indexOf(n)>-1?e.encodeKey(t[n],t):t[n]})),r},df.prototype.createStreamDecoder=function(t){var e=this;return t.keys&&t.values?function(r,n){return{key:e.decodeKey(r,t),value:e.decodeValue(n,t)}}:t.keys?function(r){return e.decodeKey(r,t)}:t.values?function(r,n){return e.decodeValue(n,t)}:function(){}},df.prototype.keyAsBuffer=function(t){return this._keyEncoding(t).buffer},df.prototype.valueAsBuffer=function(t){return this._valueEncoding(t).buffer};var hf=lf.AbstractLevelDOWN,yf=lf.AbstractChainedBatch,vf=lf.AbstractIterator,mf=gl.EncodingError,gf=["approximateSize","compactRange"],Pf=xf.default=xf;function xf(t,e){if(!(this instanceof xf))return new xf(t,e);var r=t.supports||{},n=r.additionalMethods||{};hf.call(this,r),this.supports.encodings=!0,this.supports.additionalMethods={},gf.forEach((function(e){(n[e]||"function"==typeof t[e])&&(this.supports.additionalMethods[e]=!0,this[e]=function(t,r,n,i){return t=this.codec.encodeKey(t,n),r=this.codec.encodeKey(r,n),this.db[e](t,r,n,i)})}),this),void 0===(e=e||{}).keyEncoding&&(e.keyEncoding="utf8"),void 0===e.valueEncoding&&(e.valueEncoding="utf8"),this.db=t,this.codec=new ff(e)}function bf(t,e){vf.call(this,t),this.codec=t.codec,this.keys=e.keys,this.values=e.values,this.opts=this.codec.encodeLtgt(e),this.it=t.db.iterator(this.opts)}function wf(t,e){yf.call(this,t),this.codec=t.codec,this.batch=t.db.batch()}ma(xf,hf),xf.prototype.type="encoding-down",xf.prototype._serializeKey=xf.prototype._serializeValue=function(t){return t},xf.prototype._open=function(t,e){this.db.open(t,e)},xf.prototype._close=function(t){this.db.close(t)},xf.prototype._put=function(t,e,r,n){t=this.codec.encodeKey(t,r),e=this.codec.encodeValue(e,r),this.db.put(t,e,r,n)},xf.prototype._get=function(t,e,r){var n=this;t=this.codec.encodeKey(t,e),e.asBuffer=this.codec.valueAsBuffer(e),this.db.get(t,e,(function(t,i){if(t)return r(t);try{i=n.codec.decodeValue(i,e)}catch(t){return r(new mf(t))}r(null,i)}))},xf.prototype._del=function(t,e,r){t=this.codec.encodeKey(t,e),this.db.del(t,e,r)},xf.prototype._chainedBatch=function(){return new wf(this)},xf.prototype._batch=function(t,e,r){t=this.codec.encodeBatch(t,e),this.db.batch(t,e,r)},xf.prototype._iterator=function(t){return t.keyAsBuffer=this.codec.keyAsBuffer(t),t.valueAsBuffer=this.codec.valueAsBuffer(t),new bf(this,t)},xf.prototype._clear=function(t,e){t=this.codec.encodeLtgt(t),this.db.clear(t,e)},ma(bf,vf),bf.prototype._next=function(t){var e=this;this.it.next((function(r,n,i){if(r)return t(r);try{n=e.keys&&void 0!==n?e.codec.decodeKey(n,e.opts):void 0,i=e.values&&void 0!==i?e.codec.decodeValue(i,e.opts):void 0}catch(r){return t(new mf(r))}t(null,n,i)}))},bf.prototype._seek=function(t){t=this.codec.encodeKey(t,this.opts),this.it.seek(t)},bf.prototype._end=function(t){this.it.end(t)},ma(wf,yf),wf.prototype._put=function(t,e){t=this.codec.encodeKey(t),e=this.codec.encodeValue(e),this.batch.put(t,e)},wf.prototype._del=function(t){t=this.codec.encodeKey(t),this.batch.del(t)},wf.prototype._clear=function(){this.batch.clear()},wf.prototype._write=function(t,e){this.batch.write(t,e)};var Ef=bi((function(t){t.exports=function(e,r,n){return"object"!=typeof r||n?(n||(n={}),g_(Pf(J_(e,r,n),n),n)):t.exports(e,null,r)}})),kf=ia;function If(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}If.prototype.next=function(t){var e=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return e._ended?(kf(t,new Error("cannot call next() after end()")),e):e._nexting?(kf(t,new Error("cannot call next() before previous next() has completed")),e):(e._nexting=!0,e._next((function(){e._nexting=!1,t.apply(null,arguments)})),e)},If.prototype._next=function(t){kf(t)},If.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)},If.prototype._seek=function(t){},If.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");if(this._ended)return kf(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)},If.prototype._end=function(t){kf(t)},If.prototype._nextTick=kf;var Nf=If;function Af(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}Af.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},Af.prototype.put=function(t,e){this._checkWritten();var r=this.db._checkKey(t)||this.db._checkValue(e);if(r)throw r;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},Af.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},Af.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},Af.prototype._del=function(t){this._operations.push({type:"del",key:t})},Af.prototype.clear=function(){return this._checkWritten(),this._clear(),this},Af.prototype._clear=function(){this._operations=[]},Af.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},Af.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},Af.prototype._nextTick=kf;var Cf=Af,Tf=la.Buffer,Sf=Object.prototype.hasOwnProperty,Ff="start end gt gte lt lte".split(" ");function Kf(t){this.status="new",this.supports=Ho(t,{status:!0})}function Rf(t,e){var r={};for(var n in e)if(Sf.call(e,n)){var i=e[n];Lf(n)&&(i=t._serializeKey(i)),r[n]=i}return r}function Lf(t){return-1!==Ff.indexOf(t)}Kf.prototype.open=function(t,e){var r=this,n=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"==typeof t&&null!==t||(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,(function(t){if(t)return r.status=n,e(t);r.status="open",e()}))},Kf.prototype._open=function(t,e){kf(e)},Kf.prototype.close=function(t){var e=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(n){if(n)return e.status=r,t(n);e.status="closed",t()}))},Kf.prototype._close=function(t){kf(t)},Kf.prototype.get=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("get() requires a callback argument");var n=this._checkKey(t);if(n)return kf(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),e.asBuffer=!1!==e.asBuffer,this._get(t,e,r)},Kf.prototype._get=function(t,e,r){kf((function(){r(new Error("NotFound"))}))},Kf.prototype.put=function(t,e,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");var i=this._checkKey(t)||this._checkValue(e);if(i)return kf(n,i);t=this._serializeKey(t),e=this._serializeValue(e),"object"==typeof r&&null!==r||(r={}),this._put(t,e,r,n)},Kf.prototype._put=function(t,e,r,n){kf(n)},Kf.prototype.del=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("del() requires a callback argument");var n=this._checkKey(t);if(n)return kf(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),this._del(t,e,r)},Kf.prototype._del=function(t,e,r){kf(r)},Kf.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof e&&(r=e),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return kf(r,new Error("batch(array) requires an array argument"));if(0===t.length)return kf(r);"object"==typeof e&&null!==e||(e={});for(var n=new Array(t.length),i=0;i<t.length;i++){if("object"!=typeof t[i]||null===t[i])return kf(r,new Error("batch(array) element must be an object and not `null`"));var s=Do(t[i]);if("put"!==s.type&&"del"!==s.type)return kf(r,new Error("`type` must be 'put' or 'del'"));var o=this._checkKey(s.key);if(o)return kf(r,o);if(s.key=this._serializeKey(s.key),"put"===s.type){var a=this._checkValue(s.value);if(a)return kf(r,a);s.value=this._serializeValue(s.value)}n[i]=s}this._batch(n,e,r)},Kf.prototype._batch=function(t,e,r){kf(r)},Kf.prototype.clear=function(t,e){if("function"==typeof t)e=t;else if("function"!=typeof e)throw new Error("clear() requires a callback argument");(t=Rf(this,t)).reverse=!!t.reverse,t.limit="limit"in t?t.limit:-1,this._clear(t,e)},Kf.prototype._clear=function(t,e){t.keys=!0,t.values=!1,t.keyAsBuffer=!0,t.valueAsBuffer=!0;var r=this._iterator(t),n={},i=this,s=function(t){if(t)return r.end((function(){e(t)}));r.next((function(t,o){return t?s(t):void 0===o?r.end(e):void i._del(o,n,s)}))};s()},Kf.prototype._setupIteratorOptions=function(t){return(t=Rf(this,t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},Kf.prototype.iterator=function(t){return"object"==typeof t&&null!==t||(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},Kf.prototype._iterator=function(t){return new Nf(this)},Kf.prototype._chainedBatch=function(){return new Cf(this)},Kf.prototype._serializeKey=function(t){return t},Kf.prototype._serializeValue=function(t){return t},Kf.prototype._checkKey=function(t){return null==t?new Error("key cannot be `null` or `undefined`"):Tf.isBuffer(t)&&0===t.length?new Error("key cannot be an empty Buffer"):""===t?new Error("key cannot be an empty String"):Array.isArray(t)&&0===t.length?new Error("key cannot be an empty Array"):void 0},Kf.prototype._checkValue=function(t){if(null==t)return new Error("value cannot be `null` or `undefined`")},Kf.prototype._nextTick=kf;var Bf=Kf,Of=Nf;function Df(t,e,r,n){return new(r||(r=Promise))((function(s,o){function a(t){try{u(n.next(t))}catch(i){o(i)}}function c(t){try{u(n.throw(t))}catch(i){o(i)}}function u(t){t.done?s(t.value):new r((function(e){e(t.value)})).then(a,c)}u((n=n.apply(t,e||[])).next())}))}class Mf{constructor(t){this.crypto=t.crypto,this.brainKeyCrypto=t.brainKeyCrypto,this.pythiaClient=t.pythiaClient,this.keyPairType=t.keyPairType}generateKeyPair(t,e){return Df(this,void 0,void 0,(function*(){const{blindedPassword:r,blindingSecret:n}=this.brainKeyCrypto.blind(t),i=yield this.pythiaClient.generateSeed(r.toString("base64"),e),s=this.brainKeyCrypto.deblind({blindingSecret:n,transformedPassword:i});return this.crypto.generateKeysFromKeyMaterial(s,this.keyPairType)}))}}class Uf extends Error{constructor(t,e="PythiaError",r=Uf){super(t),Object.setPrototypeOf(this,r.prototype),this.name=e}}class zf extends Uf{constructor(t,e,r){super(t,"PythiaClientError",zf),this.code=e,this.httpStatus=r}}let Hf=(()=>{class t{constructor(e,r,n){if(null==e)throw new Error("`accessTokenProvider` is required");this.accessTokenProvider=e,this.axios=Pi.create({baseURL:r||t.DEFAULT_URL}),this.virgilAgent=n||new $r("pythia","1.0.1"),this.axios.interceptors.response.use(void 0,t.onBadResponse)}generateSeed(e,r){return Df(this,void 0,void 0,(function*(){const n={blinded_password:e};r&&(n.brainkey_id=r);const i=yield this.accessTokenProvider.getToken({service:"pythia",operation:"seed"}),{data:{seed:s}}=yield this.axios.post("/pythia/v1/brainkey",n,{headers:t.getHeaders(this.virgilAgent,i)});return s}))}transformPassword(e){return Df(this,void 0,void 0,(function*(){const r={blinded_password:e.blindedPassword,user_id:e.salt};"number"!=typeof e.version||Number.isNaN(e.version)||(r.version=e.version),"boolean"==typeof e.includeProof&&(r.include_proof=e.includeProof);const n=yield this.accessTokenProvider.getToken({service:"pythia",operation:"password"}),{data:{transformed_password:i,proof:s}}=yield this.axios.post("/pythia/v1/password",r,{headers:t.getHeaders(this.virgilAgent,n)}),o={transformedPassword:i};return r.include_proof&&(o.proof={valueC:s.value_c,valueU:s.value_u}),o}))}static getHeaders(t,e){return{Authorization:"Virgil "+e.toString(),"Virgil-Agent":t.value}}static onBadResponse(t){if(t.response){if(t.response.data)throw new zf(t.response.data.message||t.response.statusText,t.response.data.code,t.response.status);throw new zf(t.response.statusText,void 0,t.response.status)}throw new Uf("Something bad happened. Please try again later.")}}return t.DEFAULT_URL="https://api.virgilsecurity.com",t})();function jf(t,e,r,n){return new(r||(r=Promise))((function(s,o){function a(t){try{u(n.next(t))}catch(i){o(i)}}function c(t){try{u(n.throw(t))}catch(i){o(i)}}function u(t){t.done?s(t.value):new r((function(e){e(t.value)})).then(a,c)}u((n=n.apply(t,e||[])).next())}))}function Yf(t){return Object.values?Object.values(t):Object.keys(t).map((function(e){return t[e]}))}class Vf extends Error{constructor(t,e="SdkError",r=Vf){super(t),Object.setPrototypeOf(this,r.prototype),this.name=e}}class qf extends Vf{constructor(){super("This identity is already registered on Virgil Cloud. To load private key use EThree.restorePrivateKey or EThree.rotatePrivateKey","IdentityAlreadyExistsError",qf)}}class Gf extends Vf{constructor(){super("This identity is not registered","RegisterRequiredError",Gf)}}class Wf extends Vf{constructor(){super("Password from remote private key storage is invalid","WrongKeyknoxPasswordError",Wf)}}class Xf extends Vf{constructor(){super("You already have a private key. Use EThree.cleanup() to delete it. If you delete the last copy of the private key, you will not be able to decrypt any information encrypted for this private key","PrivateKeyAlreadyExistsError",Xf)}}class $f extends Vf{constructor(){super("Backup copy of private key doesn't exist","PrivateKeyNoBackupError",$f)}}class Jf extends Vf{constructor(t){super(`There are several public keys registered with ${t}, which is not supported.`,"MultipleCardsError",Jf),this.identity=t}}class Zf extends Vf{constructor(t){super("Failed some public keys lookups. You can see the results by calling error.lookupResult property of this error instance","LookupError",Zf),this.lookupResult=t}}class Qf extends Vf{constructor(t){super(t+" not found","LookupNotFoundError",Qf),this.identity=t}}class td extends Vf{constructor(t){super(t,"IntegrityCheckFailedError",td)}}class ed extends Vf{constructor(){super("Operation aborted by user","AbortError",ed)}}class rd extends Vf{constructor(t){super('Virgil Cards of some of the users weren\'t found in Virgil Cloud.\nCheck the "identities" property of this error to see their identites',"UsersNotFoundError",rd),this.identities=t}}class nd extends Vf{constructor(t){super('Some of the users have multiple Virgil Cards in Virgil Cloud, which is not allowed.Check the "identities" property of this error to see their identities',"UsersFoundWithMultipleCardsError",nd),this.identities=t}}var id=function(t){return t[t.LocalGroupNotFound=1]="LocalGroupNotFound",t[t.PermissionDenied=2]="PermissionDenied",t[t.RemoteGroupNotFound=3]="RemoteGroupNotFound",t[t.InvalidGroup=4]="InvalidGroup",t[t.InvalidChangeParticipants=5]="InvalidChangeParticipants",t[t.InvalidParticipantsCount=6]="InvalidParticipantsCount",t[t.DataVerificationFailed=7]="DataVerificationFailed",t[t.GroupIdTooShort=8]="GroupIdTooShort",t[t.MessageNotFromThisGroup=9]="MessageNotFromThisGroup",t[t.GroupIsOutdated=10]="GroupIsOutdated",t[t.NoAccess=11]="NoAccess",t}({});class sd extends Vf{constructor(t,e){super(e,"GroupError",sd),this.errorCode=t}}class od extends Vf{constructor(){super('No private key found on the device. You should call "register()" of "restorePrivateKey()"',"MissingPrivateKeyError",od)}}const ad=t=>Array.isArray(t),cd=t=>"string"==typeof t;function ud(t){return"object"==typeof t&&null!==t}function ld(t){return ud(t)&&"identity"in t&&"publicKey"in t}function _d(t){if(!ud(t))return!1;const e=Yf(t);return 0!==e.length&&e.every(t=>ld(t))}const fd="https://api.virgilsecurity.com",dd=[1,100];function pd(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}const hd=Object.prototype.toString;function yd(t,e){if(!e)return t;if(!(r=new Date(e))||"[object Date]"!==hd.call(r)||isNaN(r))throw new TypeError("Cannot get active card. Second argument, if provided, must be a Date or a timestamp");var r;let n=t;for(;n&&n.createdAt>e;)n=n.previousCard;if(!n)throw new Error("The given sender Virgil Card is newer than the encrypted data.This may happen if they un-registered and registered again with the same identity.Try loading their Virgil Card by its ID.");return n}const vd=t=>ld(t)?[t]:_d(t)?Yf(t):[],md=(t,e)=>new Set([...t].filter(t=>!e.has(t))),gd=t=>{return r=dd,"number"==typeof(e=t)&&e>=r[0]&&e<=r[1];var e,r};class Pd{constructor(t){const e=t.tickets.slice().sort((t,e)=>t.groupSessionMessage.epochNumber-e.groupSessionMessage.epochNumber),r=e[e.length-1];if(!r)throw new sd(id.InvalidGroup,"Failed to construct Group. Group must have at least one ticket.");if(!gd(r.participants.length))throw new sd(id.InvalidParticipantsCount,`Cannot initialize group with ${r.participants.length} participant(s). Group can have ${dd[0]} to ${dd[1]} participants.`);this.selfIdentity=t.privateKeyLoader.identity,this.initiator=t.initiator,this.participants=r.participants,this._virgilCrypto=t.privateKeyLoader.options.virgilCrypto,this._privateKeyLoader=t.privateKeyLoader,this._session=this._virgilCrypto.importGroupSession(e.map(t=>t.groupSessionMessage.data)),this._cardManager=t.cardManager,this._groupManager=t.groupManager}encrypt(t){return jf(this,void 0,void 0,(function*(){const e=cd(t),r=yield this._privateKeyLoader.loadLocalPrivateKey();if(!r)throw new od;const n=this._session.encrypt(t,r);return e?n.toString("base64"):n}))}decrypt(t,e,r){return jf(this,void 0,void 0,(function*(){const{sessionId:n,epochNumber:i,data:s}=this._session.parseMessage(t);if(!ld(e))throw new TypeError("Cannot decrypt data. Second argument must be a Virgil Card object.");const o=cd(t),a=r?yd(e,r):e;if(n!==this._session.getSessionId())throw new sd(id.MessageNotFromThisGroup,"The given message was encrypted for different group");if(i>this._session.getCurrentEpochNumber())throw new sd(id.GroupIsOutdated,'This group is out of date. Call "group.update()" or "e3kitInstance.loadGroup()" to be able to decrypt this message');try{let e;if(this._session.getCurrentEpochNumber()-i<50)e=this._session.decrypt(s,a.publicKey);else{const r=yield this._groupManager.retrieve(n,i);if(!r)throw new sd(id.LocalGroupNotFound,"Group with given id was not found in local storage. Try to load it first.");e=r.decrypt(t,a)}return o?e.toString("utf8"):e}catch(c){if("FoundationError"===c.name&&/Invalid signature/.test(c.message))throw new sd(id.DataVerificationFailed,'Verification of message integrity failed. This may be caused by the sender\'s public key rotation.Try looking it up again with "e3kitInstance.findUsers()"');throw c}}))}update(){return jf(this,void 0,void 0,(function*(){const t=this._session.getSessionId(),e=yield this._cardManager.searchCards(this.initiator);if(0===e.length)throw new rd([this.initiator]);const r=yield this._groupManager.pull(t,e[0]);this._session=r._session,this.participants=r.participants}))}add(t){return jf(this,void 0,void 0,(function*(){const e=vd(t);if(0===e.length)throw new TypeError('Failed to add participants. First argument must be the result of "eThree.findUsers" method');if(!this.isEditable())throw new sd(id.PermissionDenied,"Only group initiator can add participants to the group");const r=md(new Set(e.map(t=>t.identity)),new Set(this.participants));if(!gd(r.size+this.participants.length))throw new sd(id.InvalidChangeParticipants,`Cannot add ${r.size} participant(s) to the group that has ${this.participants.length} participants. Group can have ${dd[0]} to ${dd[1]} participants.`);const n=e.filter(t=>r.has(t.identity));yield this._groupManager.addAccess(this._session.getSessionId(),n),this.participants=[...this.participants,...r]}))}remove(t){return jf(this,void 0,void 0,(function*(){const e=vd(t);if(0===e.length)throw new TypeError('Failed to remove participants. First argument must be the result of "eThree.findUsers" method');if(!this.isEditable())throw new sd(id.PermissionDenied,"Only group initiator can remove participants from the group");const r=new Set(this.participants),n=md(new Set(this.participants),new Set(e.map(t=>t.identity)));if(!gd(n.size))throw new sd(id.InvalidChangeParticipants,`Cannot remove ${r.size-n.size} participant(s) from the group that has ${r.size} participants. Group can have ${dd[0]} to ${dd[1]} participants.`);if(n.size===r.size)throw new sd(id.InvalidChangeParticipants,"Attempted to remove non-existent group participants");const i=yield this._cardManager.searchCards([...n]),s={groupSessionMessage:this._session.addNewEpoch(),participants:[...n]};yield this._groupManager.store(s,i),n.add(this.initiator),this.participants=[...n];const o=md(r,n);yield this._groupManager.removeAccess(this._session.getSessionId(),[...o])}))}reAdd(t){return jf(this,void 0,void 0,(function*(){if(!ld(t))throw new TypeError("Failed to re-add participant. First argument must be a Virgil Card object");if(!this.isEditable())throw new sd(id.PermissionDenied,"Only group initiator can add or remove participants from the group");yield this._groupManager.reAddAccess(this._session.getSessionId(),t)}))}isEditable(){return this.initiator===this.selfIdentity}}class xd{constructor({identity:t,privateKeyLoader:e,cardManager:r,groupLocalStorage:n}){this._selfIdentity=t,this._privateKeyLoader=e,this._cardManager=r,this._localGroupStorage=n}store(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getCloudTicketStorage();yield r.store(t.groupSessionMessage,e);const n=new Pd({initiator:this.selfIdentity,tickets:[t],privateKeyLoader:this._privateKeyLoader,cardManager:this._cardManager,groupManager:this});return(yield this.getLocalGroupStorage()).store({info:{initiator:this.selfIdentity},tickets:[t]}),n}))}pull(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getLocalGroupStorage();let n;try{const r=yield this.getCloudTicketStorage();n=yield r.retrieve(t,e.identity,e.publicKey)}catch(a){switch("GroupTicketDoesntExistError"!==a.name&&"GroupTicketNoAccessError"!==a.name||(yield r.delete(t)),a.name){case"GroupTicketDoesntExistError":throw new sd(id.NoAccess,"Current user has no access to the group ticket");case"GroupTicketNoAccessError":throw new sd(id.RemoteGroupNotFound,"Group with given id and initiator could not be found");default:throw a}}const i=e.identity,s=n.map(t=>({groupSessionMessage:t.groupSessionMessageInfo,participants:t.identities})),o=new Pd({initiator:i,tickets:s,privateKeyLoader:this._privateKeyLoader,cardManager:this._cardManager,groupManager:this});return r.store({info:{initiator:i},tickets:s}),o}))}retrieve(t,e){return jf(this,void 0,void 0,(function*(){const r=(i=e,(Number.isSafeInteger?Number.isSafeInteger(i):(t=>Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t)(i)&&Math.abs(i)<=Number.MAX_SAFE_INTEGER)?{epochNumber:e}:{ticketCount:50}),n=yield this.getLocalGroupStorage();var i;try{const e=yield n.retrieve(t,r);return e?new Pd({initiator:e.info.initiator,tickets:e.tickets,privateKeyLoader:this._privateKeyLoader,cardManager:this._cardManager,groupManager:this}):null}catch(s){if("GroupTicketNoAccessError"===s.name)throw new sd(id.NoAccess,"Current user has no access to the group ticket");throw s}}))}addAccess(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getCloudTicketStorage(),n=yield this.getLocalGroupStorage();try{yield r.addRecipients(t,e),yield n.addParticipants(t,e.map(t=>t.identity))}catch(i){if("GroupTicketNoAccessError"===i.name)throw new sd(id.NoAccess,"Current user has no access to the group ticket");throw i}}))}removeAccess(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getCloudTicketStorage();yield Promise.all(e.map(e=>r.removeRecipient(t,e)))}))}delete(t){return jf(this,void 0,void 0,(function*(){const e=yield this.getCloudTicketStorage();yield e.delete(t);const r=yield this.getLocalGroupStorage();yield r.delete(t)}))}reAddAccess(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getCloudTicketStorage();try{yield r.reAddRecipient(t,e)}catch(n){if("GroupTicketNoAccessError"===n.name)throw new sd(id.NoAccess,"Current user has no access to the group ticket");throw n}}))}cleanup(){return jf(this,void 0,void 0,(function*(){const t=yield this.getLocalGroupStorage();yield t.reset()}))}get selfIdentity(){return this._selfIdentity}getLocalGroupStorage(){return jf(this,void 0,void 0,(function*(){const t=yield this._privateKeyLoader.loadLocalKeyPair();return t&&this._localGroupStorage.setEncryptionKeyPair(t),this._localGroupStorage}))}getCloudTicketStorage(){return jf(this,void 0,void 0,(function*(){const t=yield this._privateKeyLoader.loadLocalKeyPair();if(!t)throw new od;const{virgilCrypto:e,accessTokenProvider:r,apiUrl:n}=this._privateKeyLoader.options,i=new Oi(new Bi(e),new Li(r,n,void 0,new $r("e3kit","2.4.0")));return new Di(Object.assign({root:"group-sessions",identity:this.selfIdentity,keyknoxManager:i},t))}))}}class bd extends Of{constructor(t,e){super(t),this.options=e,this.it=t.db.iterator(Object.assign(Object.assign({},e),{valueAsBuffer:!0}))}_next(t){this.it.next((e,r,n)=>{if(e)return t(e,void 0,void 0);if(void 0===r&&void 0===n)return t(void 0,void 0,void 0);try{const e=this.db.decrypt(n);t(void 0,r,this.options.valueAsBuffer?e:e.toString("utf8"))}catch(e){t(e,void 0,void 0)}})}_end(t){this.it.end(t)}}class wd extends Bf{constructor(t,e){super("ignored"),this.db=t,this.crypto=e.virgilCrypto,this.keyPair=e.keyPair}_open(t,e){this.db.open(t,e)}_close(t){this.db.close(t)}_get(t,e,r){this.db.get(t,Object.assign(Object.assign({},e),{asBuffer:!0}),(t,n)=>{if(t)return r(t,void 0);try{const t=this.decrypt(n);r(void 0,e.asBuffer?t:t.toString("utf8"))}catch(i){r(i,void 0)}})}_put(t,e,r,n){let i;try{i=this.encrypt(e)}catch(s){return setTimeout(()=>n(s))}this._db.put(t,i,r,n)}_del(t,e,r){this.db.del(t,e,r)}_batch(t,e,r){let n;try{n=t.map(t=>"put"===t.type?Object.assign(Object.assign({},t),{value:this.encrypt(t.value)}):t)}catch(i){return setTimeout(()=>r(i))}this.db.batch(n,e,r)}_clear(t,e){this.db.clear(t,e)}_iterator(t){return new bd(this,t)}setKeyPair(t){this.keyPair=t}encrypt(t){if(!this.keyPair)throw new Error('Cannot encrypt value. Key pair is not set. Call "setKeyPair" first.');return this.crypto.signThenEncrypt(t,this.keyPair.privateKey,this.keyPair.publicKey)}decrypt(t){if(!this.keyPair)throw new Error('Cannot decrypt value. Key pair is not set. Call "setKeyPair" first.');return this.crypto.decryptThenVerify(t,this.keyPair.privateKey,this.keyPair.publicKey)}}class Ed{constructor({identity:t,virgilCrypto:e,leveldown:r}){this._encryptionLevel=new wd(r,{virgilCrypto:e});const n=g_(this._encryptionLevel),i=Ef(n,t);this._db=Ef(i,"GROUPS",{valueEncoding:"json"})}store(t){return jf(this,void 0,void 0,(function*(){const e=t.tickets[t.tickets.length-1];if(!e)throw new Error("Attempted to store group without tickets.");const{sessionId:r}=e.groupSessionMessage,n={type:"put",key:r,value:t.info},i=t.tickets.map(t=>({type:"put",key:this.getTicketKey(r,t.groupSessionMessage.epochNumber),value:t}));yield this._db.batch([n,...i])}))}retrieve(t,e){return jf(this,void 0,void 0,(function*(){if("number"==typeof e.ticketCount==("number"==typeof e.epochNumber))throw new Error('Either "ticketCount" or "epochNumber" option must be provided');const[r,n]=yield Promise.all([this.retrieveGroupInfo(t),e.ticketCount?this.retrieveNLastTickets(t,e.ticketCount):this.retrieveTicketByEpochNumber(t,e.epochNumber)]);return r&&0!==n.length?{info:r,tickets:n}:null}))}delete(t){return jf(this,void 0,void 0,(function*(){const e=t;yield this._db.clear({gt:e,lte:e+"\xff"})}))}reset(){return jf(this,void 0,void 0,(function*(){yield this._db.clear()}))}addParticipants(t,e){return jf(this,void 0,void 0,(function*(){const[r]=yield this.retrieveNLastTickets(t,1),n={participants:r.participants.concat(e),groupSessionMessage:r.groupSessionMessage},i=this.getTicketKey(t,r.groupSessionMessage.epochNumber);yield this._db.batch([{type:"put",key:i,value:n}])}))}setEncryptionKeyPair(t){this._encryptionLevel.setKeyPair(t)}retrieveGroupInfo(t){return jf(this,void 0,void 0,(function*(){try{return yield this._db.get(t)}catch(e){if(e.notFound)return null;throw e}}))}retrieveNLastTickets(t,e){return new Promise((r,n)=>{const i=[];let s=void 0;const o=t+"!";this._db.createReadStream({gt:o,lte:o+"\xff",reverse:!0,limit:e}).on("data",t=>i.unshift(t.value)).on("error",t=>s=t).on("end",()=>s?n(s):r(i))})}retrieveTicketByEpochNumber(t,e){return jf(this,void 0,void 0,(function*(){const r=this.getTicketKey(t,e);try{return[yield this._db.get(r)]}catch(n){if(n.notFound)return[];throw n}}))}getTicketKey(t,e){const r=String(e);return`${t}!${r.length.toString(36)}!${r}`}}class kd{constructor(t,e){this.identity=t,this.options=e,this.keyknoxClient=new Li(this.options.accessTokenProvider,this.options.apiUrl,void 0,new $r("e3kit","2.4.0")),this.keyknoxCrypto=new Bi(this.options.virgilCrypto),this.cachedPrivateKey=null,this.handleResetError=t=>{if(t instanceof Si)throw new $f;throw t},this.localStorage=e.keyEntryStorage}savePrivateKeyRemote(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getStorage(e);return yield r.storeEntry(this.identity,this.options.virgilCrypto.exportPrivateKey(t).toString("base64"))}))}savePrivateKeyLocal(t){return jf(this,void 0,void 0,(function*(){return this.cachedPrivateKey=t,yield this.localStorage.save({name:this.identity,value:this.options.virgilCrypto.exportPrivateKey(t).toString("base64")})}))}loadLocalPrivateKey(){return jf(this,void 0,void 0,(function*(){if(this.cachedPrivateKey)return this.cachedPrivateKey;const t=yield this.localStorage.load(this.identity);return t?this.importAndCachePrivateKey(t.value):null}))}loadLocalKeyPair(){return jf(this,void 0,void 0,(function*(){const t=yield this.loadLocalPrivateKey();return t?{privateKey:t,publicKey:this.options.virgilCrypto.extractPublicKey(t)}:null}))}resetLocalPrivateKey(){return jf(this,void 0,void 0,(function*(){yield this.localStorage.remove(this.identity),this.cachedPrivateKey=null}))}resetPrivateKeyBackup(t){return jf(this,void 0,void 0,(function*(){const e=yield this.getStorage(t);yield e.deleteEntry(this.identity).catch(this.handleResetError)}))}resetAll(){return jf(this,void 0,void 0,(function*(){yield this.keyknoxClient.v1Reset()}))}restorePrivateKey(t){return jf(this,void 0,void 0,(function*(){const e=yield this.getStorage(t);try{const t=e.retrieveEntry(this.identity);return yield this.localStorage.save({name:this.identity,value:t.data}),this.importAndCachePrivateKey(t.data)}catch(i){if(i instanceof Si)throw new $f;throw i}}))}changePassword(t,e){return jf(this,void 0,void 0,(function*(){const r=yield this.getStorage(t),n=yield this.generateBrainPair(e);return yield r.updateRecipients({newPrivateKey:n.privateKey,newPublicKeys:[n.publicKey]})}))}hasPrivateKey(){return this.localStorage.exists(this.identity)}generateBrainPair(t){return jf(this,void 0,void 0,(function*(){return function(t,e){return jf(this,void 0,void 0,(function*(){const r=new Hf(e.accessTokenProvider,e.apiUrl,new $r("e3kit","2.4.0")),n=new Mf({pythiaClient:r,crypto:e.virgilCrypto,brainKeyCrypto:e.pythiaCrypto});return yield n.generateKeyPair(t).catch(e=>{if("object"==typeof e&&60007===e.code)return new Promise((e,r)=>{setTimeout(()=>n.generateKeyPair(t).then(e).catch(r),2e3)});throw e})}))}(t,{virgilCrypto:this.options.virgilCrypto,pythiaCrypto:this.options.brainKeyCrypto,accessTokenProvider:this.options.accessTokenProvider,apiUrl:this.options.apiUrl})}))}getStorage(t){return jf(this,void 0,void 0,(function*(){const e=yield this.generateBrainPair(t),r=new Ui(new Oi(this.keyknoxCrypto,this.keyknoxClient),e.privateKey,e.publicKey);try{yield r.retrieveCloudEntries()}catch(i){if("FoundationError"===i.name||"RNVirgilCryptoError"===i.name)throw new Wf;throw i}return r}))}importAndCachePrivateKey(t){return this.cachedPrivateKey=this.options.virgilCrypto.importPrivateKey({value:t,encoding:"base64"}),this.cachedPrivateKey}}function Id(t,e,r,n){return new(r||(r=Promise))((function(s,o){function a(t){try{u(n.next(t))}catch(i){o(i)}}function c(t){try{u(n.throw(t))}catch(i){o(i)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))}var Nd=ia;function Ad(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}Ad.prototype.next=function(t){var e=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return e._ended?(Nd(t,new Error("cannot call next() after end()")),e):e._nexting?(Nd(t,new Error("cannot call next() before previous next() has completed")),e):(e._nexting=!0,e._next((function(){e._nexting=!1,t.apply(null,arguments)})),e)},Ad.prototype._next=function(t){Nd(t)},Ad.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)},Ad.prototype._seek=function(t){},Ad.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");if(this._ended)return Nd(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)},Ad.prototype._end=function(t){Nd(t)},Ad.prototype._nextTick=Nd;var Cd=Ad;function Td(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}Td.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},Td.prototype.put=function(t,e){this._checkWritten();var r=this.db._checkKey(t)||this.db._checkValue(e);if(r)throw r;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},Td.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},Td.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},Td.prototype._del=function(t){this._operations.push({type:"del",key:t})},Td.prototype.clear=function(){return this._checkWritten(),this._clear(),this},Td.prototype._clear=function(){this._operations=[]},Td.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},Td.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},Td.prototype._nextTick=Nd;var Sd=Td,Fd=la.Buffer,Kd=Object.prototype.hasOwnProperty,Rd="start end gt gte lt lte".split(" ");function Ld(t){this.status="new",this.supports=Ho(t,{status:!0})}function Bd(t,e){var r={};for(var n in e)if(Kd.call(e,n)){var i=e[n];Od(n)&&(i=t._serializeKey(i)),r[n]=i}return r}function Od(t){return-1!==Rd.indexOf(t)}Ld.prototype.open=function(t,e){var r=this,n=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"==typeof t&&null!==t||(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,(function(t){if(t)return r.status=n,e(t);r.status="open",e()}))},Ld.prototype._open=function(t,e){Nd(e)},Ld.prototype.close=function(t){var e=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(n){if(n)return e.status=r,t(n);e.status="closed",t()}))},Ld.prototype._close=function(t){Nd(t)},Ld.prototype.get=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("get() requires a callback argument");var n=this._checkKey(t);if(n)return Nd(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),e.asBuffer=!1!==e.asBuffer,this._get(t,e,r)},Ld.prototype._get=function(t,e,r){Nd((function(){r(new Error("NotFound"))}))},Ld.prototype.put=function(t,e,r,n){if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");var i=this._checkKey(t)||this._checkValue(e);if(i)return Nd(n,i);t=this._serializeKey(t),e=this._serializeValue(e),"object"==typeof r&&null!==r||(r={}),this._put(t,e,r,n)},Ld.prototype._put=function(t,e,r,n){Nd(n)},Ld.prototype.del=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("del() requires a callback argument");var n=this._checkKey(t);if(n)return Nd(r,n);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),this._del(t,e,r)},Ld.prototype._del=function(t,e,r){Nd(r)},Ld.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof e&&(r=e),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return Nd(r,new Error("batch(array) requires an array argument"));if(0===t.length)return Nd(r);"object"==typeof e&&null!==e||(e={});for(var n=new Array(t.length),i=0;i<t.length;i++){if("object"!=typeof t[i]||null===t[i])return Nd(r,new Error("batch(array) element must be an object and not `null`"));var s=Do(t[i]);if("put"!==s.type&&"del"!==s.type)return Nd(r,new Error("`type` must be 'put' or 'del'"));var o=this._checkKey(s.key);if(o)return Nd(r,o);if(s.key=this._serializeKey(s.key),"put"===s.type){var a=this._checkValue(s.value);if(a)return Nd(r,a);s.value=this._serializeValue(s.value)}n[i]=s}this._batch(n,e,r)},Ld.prototype._batch=function(t,e,r){Nd(r)},Ld.prototype.clear=function(t,e){if("function"==typeof t)e=t;else if("function"!=typeof e)throw new Error("clear() requires a callback argument");(t=Bd(this,t)).reverse=!!t.reverse,t.limit="limit"in t?t.limit:-1,this._clear(t,e)},Ld.prototype._clear=function(t,e){t.keys=!0,t.values=!1,t.keyAsBuffer=!0,t.valueAsBuffer=!0;var r=this._iterator(t),n={},i=this,s=function(t){if(t)return r.end((function(){e(t)}));r.next((function(t,o){return t?s(t):void 0===o?r.end(e):void i._del(o,n,s)}))};s()},Ld.prototype._setupIteratorOptions=function(t){return(t=Bd(this,t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},Ld.prototype.iterator=function(t){return"object"==typeof t&&null!==t||(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},Ld.prototype._iterator=function(t){return new Cd(this)},Ld.prototype._chainedBatch=function(){return new Sd(this)},Ld.prototype._serializeKey=function(t){return t},Ld.prototype._serializeValue=function(t){return t},Ld.prototype._checkKey=function(t){return null==t?new Error("key cannot be `null` or `undefined`"):Fd.isBuffer(t)&&0===t.length?new Error("key cannot be an empty Buffer"):""===t?new Error("key cannot be an empty String"):Array.isArray(t)&&0===t.length?new Error("key cannot be an empty Array"):void 0},Ld.prototype._checkValue=function(t){if(null==t)return new Error("value cannot be `null` or `undefined`")},Ld.prototype._nextTick=Nd;var Dd={AbstractLevelDOWN:Ld,AbstractIterator:Cd,AbstractChainedBatch:Sd},Md=bi((function(t,e){function r(t){return void 0!==t&&""!==t}function n(t,e){return Object.hasOwnProperty.call(t,e)}function i(t,e){return Object.hasOwnProperty.call(t,e)&&e}e.compare=function(t,e){if(Xs(t)){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var i=t[n]-e[n];if(i)return i}return t.length-e.length}return t<e?-1:t>e?1:0};var s=e.lowerBoundKey=function(t){return i(t,"gt")||i(t,"gte")||i(t,"min")||i(t,t.reverse?"end":"start")||void 0},o=e.lowerBound=function(t,e){var r=s(t);return r?t[r]:e},a=e.lowerBoundInclusive=function(t){return!n(t,"gt")},c=e.upperBoundInclusive=function(t){return!n(t,"lt")},u=e.lowerBoundExclusive=function(t){return!a(t)},l=e.upperBoundExclusive=function(t){return!c(t)},_=e.upperBoundKey=function(t){return i(t,"lt")||i(t,"lte")||i(t,"max")||i(t,t.reverse?"start":"end")||void 0},f=e.upperBound=function(t,e){var r=_(t);return r?t[r]:e};function d(t){return t}e.start=function(t,e){return t.reverse?f(t,e):o(t,e)},e.end=function(t,e){return t.reverse?o(t,e):f(t,e)},e.startInclusive=function(t){return t.reverse?c(t):a(t)},e.endInclusive=function(t){return t.reverse?a(t):c(t)},e.toLtgt=function(t,r,i,s,o){r=r||{},i=i||d;var a=arguments.length>3,c=e.lowerBoundKey(t),u=e.upperBoundKey(t);return c?"gt"===c?r.gt=i(t.gt,!1):r.gte=i(t[c],!1):a&&(r.gte=i(s,!1)),u?"lt"===u?r.lt=i(t.lt,!0):r.lte=i(t[u],!0):a&&(r.lte=i(o,!0)),null!=t.reverse&&(r.reverse=!!t.reverse),n(r,"max")&&delete r.max,n(r,"min")&&delete r.min,n(r,"start")&&delete r.start,n(r,"end")&&delete r.end,r},e.contains=function(t,n,i){i=i||e.compare;var s=o(t);if(r(s)&&((a=i(n,s))<0||0===a&&u(t)))return!1;var a,c=f(t);return!r(c)||!((a=i(n,c))>0||0===a&&l(t))},e.filter=function(t,r){return function(n){return e.contains(t,n,r)}}})),Ud={},zd=function(t){var e=Md.lowerBound(t,Ud),r=Md.upperBound(t,Ud),n=Md.lowerBoundExclusive(t,Ud),i=Md.upperBoundExclusive(t,Ud);return e!==Ud&&r!==Ud?IDBKeyRange.bound(e,r,n,i):e!==Ud?IDBKeyRange.lowerBound(e,n):r!==Ud?IDBKeyRange.upperBound(r,i):null},Hd=la.Buffer,jd=function(){if(xi.TextDecoder){var t=new TextDecoder("utf-8");return t.decode.bind(t)}return function(t){return Vd(t).toString()}}(),Yd=function(){if(xi.TextDecoder){var t=new TextDecoder("utf-8");return t.decode.bind(t)}return function(t){return Hd.from(t).toString()}}();function Vd(t){var e=Hd.from(t.buffer);return t.byteLength===t.buffer.byteLength?e:e.slice(t.byteOffset,t.byteOffset+t.byteLength)}var qd=function(t,e){return t instanceof Uint8Array?e?Vd(t):jd(t):t instanceof ArrayBuffer?e?Hd.from(t):Yd(t):e?Hd.from(String(t)):String(t)},Gd=Dd.AbstractIterator,Wd=function(){},Xd=$d;function $d(t,e,r){if(Gd.call(this,t),this._limit=r.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=r.keys,this._values=r.values,this._keyAsBuffer=r.keyAsBuffer,this._valueAsBuffer=r.valueAsBuffer,0!==this._limit){try{var n=zd(r)}catch(i){return void(this._completed=!0)}this.createIterator(e,n,r.reverse)}else this._completed=!0}ma($d,Gd),$d.prototype.createIterator=function(t,e,r){var n=this,i=this.db.db.transaction([t],"readonly");i.objectStore(t).openCursor(e,r?"prev":"next").onsuccess=function(t){var e=t.target.result;e&&n.onItem(e)},this._transaction=i,i.onabort=function(){n.onAbort(n._transaction.error||new Error("aborted by user"))},i.oncomplete=function(){n.onComplete()}},$d.prototype.onItem=function(t){this._cache.push(t.key,t.value),(this._limit<=0||++this._count<this._limit)&&t.continue(),this.maybeNext()},$d.prototype.onAbort=function(t){this._aborted=!0,this._error=t,this.maybeNext()},$d.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},$d.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},$d.prototype._next=function(t){if(this._aborted){var e=this._error;this._error=null,this._nextTick(t,e)}else if(this._cache.length>0){var r=this._cache.shift(),n=this._cache.shift();r=this._keys&&void 0!==r?this._deserializeKey(r,this._keyAsBuffer):void 0,n=this._values&&void 0!==n?this._deserializeValue(n,this._valueAsBuffer):void 0,this._nextTick(t,null,r,n)}else this._completed?this._nextTick(t):this._callback=t},$d.prototype._deserializeKey=qd,$d.prototype._deserializeValue=qd,$d.prototype._end=function(t){if(this._aborted||this._completed)return this._nextTick(t,this._error);this.onItem=Wd,this.onAbort=t,this.onComplete=t};var Jd=la.Buffer,Zd=function(){if(xi.TextEncoder){var t=new TextEncoder("utf-8");return t.encode.bind(t)}return Jd.from}(),Qd=function(t,e){return e?Jd.isBuffer(t)?t:Zd(String(t)):String(t)},tp=bi((function(t,e){var r=la.Buffer;e.test=function(t){return function(e){try{return e.cmp(t,0),!0}catch(r){return!1}}},e.bufferKeys=e.test(r.alloc(0))})),ep=np,rp=Dd.AbstractLevelDOWN;function np(t,e){if(!(this instanceof np))return new np(t,e);if(rp.call(this,{bufferKeys:tp.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0}),e=e||{},"string"!=typeof t)throw new Error("constructor requires a location string argument");this.location=t,this.prefix=null==e.prefix?"level-js-":e.prefix,this.version=parseInt(e.version||1,10)}function ip({file:t,chunkSize:e,signal:r,onChunkCallback:n,onFinishCallback:i,onErrorCallback:s}){const o=new FileReader,a=t.size;let c=0,u=Math.min(c+e,a);if(r){const t=()=>{o.abort(),s(new ed)};if(r.aborted)return t();r.addEventListener("abort",t)}o.onload=()=>{if(!o.result)throw new Error("reader.result is null");try{n(o.result,u)}catch(r){return s(r)}if(c=u,u=Math.min(c+e,a),c===a)try{i()}catch(r){s(r)}else o.readAsArrayBuffer(t.slice(c,u))},o.onerror=()=>s(o.error),o.readAsArrayBuffer(t.slice(c,u))}ma(np,rp),np.prototype.type="level-js",np.prototype._open=function(t,e){var r=indexedDB.open(this.prefix+this.location,this.version),n=this;r.onerror=function(){e(r.error||new Error("unknown error"))},r.onsuccess=function(){n.db=r.result,e()},r.onupgradeneeded=function(t){var e=t.target.result;e.objectStoreNames.contains(n.location)||e.createObjectStore(n.location)}},np.prototype.store=function(t){return this.db.transaction([this.location],t).objectStore(this.location)},np.prototype.await=function(t,e){var r=t.transaction;r.onabort=function(){e(r.error||new Error("aborted by user"))},r.oncomplete=function(){e(null,t.result)}},np.prototype._get=function(t,e,r){var n=this.store("readonly");try{var i=n.get(t)}catch(s){return this._nextTick(r,s)}this.await(i,(function(t,n){return t?r(t):void 0===n?r(new Error("NotFound")):void r(null,qd(n,e.asBuffer))}))},np.prototype._del=function(t,e,r){var n=this.store("readwrite");try{var i=n.delete(t)}catch(s){return this._nextTick(r,s)}this.await(i,r)},np.prototype._put=function(t,e,r,n){var i=this.store("readwrite");try{var s=i.put(e,t)}catch(o){return this._nextTick(n,o)}this.await(s,n)},np.prototype._serializeKey=function(t){return Qd(t,this.supports.bufferKeys)},np.prototype._serializeValue=function(t){return Qd(t,!0)},np.prototype._iterator=function(t){return new Xd(this,this.location,t)},np.prototype._batch=function(t,e,r){if(0===t.length)return this._nextTick(r);var n,i=this.store("readwrite"),s=i.transaction,o=0;s.onabort=function(){r(n||s.error||new Error("aborted by user"))},s.oncomplete=function(){r()},function e(){var r=t[o++],a=r.key;try{var c="del"===r.type?i.delete(a):i.put(r.value,a)}catch(u){return n=u,void s.abort()}o<t.length&&(c.onsuccess=e)}()},np.prototype._clear=function(t,e){try{var r=zd(t)}catch(i){return this._nextTick(e)}if(t.limit>=0)return function(t,e,r,n,i){if(0===n.limit)return t._nextTick(i);var s=t.db.transaction([e],"readwrite"),o=s.objectStore(e),a=0;s.oncomplete=function(){i()},s.onabort=function(){i(s.error||new Error("aborted by user"))},o[o.openKeyCursor?"openKeyCursor":"openCursor"](r,n.reverse?"prev":"next").onsuccess=function(t){var e=t.target.result;e&&(o.delete(e.key).onsuccess=function(){(n.limit<=0||++a<n.limit)&&e.continue()})}}(this,this.location,r,t,e);try{var n=this.store("readwrite"),s=r?n.delete(r):n.clear()}catch(o){return this._nextTick(e,o)}this.await(s,e)},np.prototype._close=function(t){this.db.close(),this._nextTick(t)},np.prototype.upgrade=function(t){if("open"!==this.status)return this._nextTick(t,new Error("cannot upgrade() before open()"));var e=this.iterator(),r={},n=this;function i(t){if(t)return o(t);e.next(s)}function s(t,e,s){if(t||void 0===e)return o(t);var a=n._serializeKey(qd(e,!0)),c=n._serializeValue(qd(s,!0));n._batch([{type:"del",key:e},{type:"put",key:a,value:c}],r,i)}function o(r){e.end((function(e){t(r||e)}))}e._deserializeKey=e._deserializeValue=function(t){return t},i()},np.destroy=function(t,e,r){"function"==typeof e&&(r=e,e="level-js-");var n=indexedDB.deleteDatabase(e+t);n.onsuccess=function(){r()},n.onerror=function(t){r(t)}};const sp=t=>t instanceof File;class op extends class{constructor(t){this.inProcess=!1,this.identity=t.identity,this.virgilCrypto=t.virgilCrypto,this.cardManager=t.cardManager,this.accessTokenProvider=t.accessTokenProvider,this.keyEntryStorage=t.keyEntryStorage,this.keyLoader=t.keyLoader,this.groupManager=new xd({identity:t.identity,privateKeyLoader:t.keyLoader,cardManager:t.cardManager,groupLocalStorage:new Ed({identity:t.identity,leveldown:t.groupStorageLeveldown,virgilCrypto:t.virgilCrypto})}),this.keyPairType=t.keyPairType}register(t){return jf(this,void 0,void 0,(function*(){this.inProcess&&this.throwIllegalInvocationError("register"),this.inProcess=!0;try{const[e,r]=yield Promise.all([this.cardManager.searchCards(this.identity),this.keyLoader.loadLocalPrivateKey()]);if(e.length>1)throw new Jf(this.identity);if(e.length>0)throw new qf;r&&(yield this.keyLoader.resetLocalPrivateKey()),yield this.publishCardThenSavePrivateKeyLocal({keyPair:t})}finally{this.inProcess=!1}}))}rotatePrivateKey(){return jf(this,void 0,void 0,(function*(){this.inProcess&&this.throwIllegalInvocationError("rotatePrivateKey"),this.inProcess=!0;try{const[t,e]=yield Promise.all([this.cardManager.searchCards(this.identity),this.keyLoader.loadLocalPrivateKey()]);if(0===t.length)throw new Gf;if(t.length>1)throw new Jf(this.identity);if(e)throw new Xf;yield this.publishCardThenSavePrivateKeyLocal({previousCard:t[0]})}finally{this.inProcess=!1}}))}restorePrivateKey(t){return jf(this,void 0,void 0,(function*(){try{yield this.keyLoader.restorePrivateKey(t)}catch(i){if(i instanceof An)throw new Xf;throw i}}))}cleanup(){return jf(this,void 0,void 0,(function*(){yield this.keyLoader.resetLocalPrivateKey(),yield this.onPrivateKeyDeleted()}))}resetPrivateKeyBackup(t){return jf(this,void 0,void 0,(function*(){return t?(pd("'resetPrivateKeyBackup(pwd: string)' was deprecated. Please use 'resetPrivateKeyBackup()' instead."),this.keyLoader.resetPrivateKeyBackup(t)):yield this.keyLoader.resetAll()}))}encrypt(t,e){return jf(this,void 0,void 0,(function*(){const r=cd(t),n=yield this.keyLoader.loadLocalPrivateKey();if(!n)throw new od;const i=this.getPublicKeysForEncryption(n,e);if(!i)throw new TypeError('Could not get public keys from the second argument.\nMake sure you pass the resolved value of "EThree.findUsers" or "EThree.lookupPublicKeys" methods when encrypting for other users, or nothing when encrypting for the current user only.');const s=this.virgilCrypto.signThenEncrypt(t,n,i);return r?s.toString("base64"):s}))}decrypt(t,e,r){return jf(this,void 0,void 0,(function*(){const n=cd(t),i=yield this.keyLoader.loadLocalPrivateKey();if(!i)throw new od;const s=this.getPublicKeyForVerification(i,e,r);if(!s)throw new TypeError("Could not get public key from the second argument.Expected a Virgil Card or a Public Key object. Got "+typeof e);const o=this.virgilCrypto.decryptThenVerify(t,i,s);return n?o.toString("utf8"):o}))}authEncrypt(t,e){return jf(this,void 0,void 0,(function*(){const r=cd(t),n=yield this.keyLoader.loadLocalPrivateKey();if(!n)throw new od;const i=this.getPublicKeysForEncryption(n,e);if(!i)throw new TypeError('Could not get public keys from the second argument.\nMake sure you pass the resolved value of the "EThree.findUsers" method when encrypting for other users, or nothing when encrypting for the current user only.');const s=this.virgilCrypto.signAndEncrypt(t,n,i,!0);return r?s.toString("base64"):s}))}authDecrypt(t,e,r){return jf(this,void 0,void 0,(function*(){const n=cd(t),i=yield this.keyLoader.loadLocalPrivateKey();if(!i)throw new od;const s=this.getPublicKeyForVerification(i,e,r);if(!s)throw new TypeError("Could not get public key from the second argument.Expected a Virgil Card or a Public Key object. Got "+typeof e);const o=this.virgilCrypto.decryptAndVerify(t,i,s);return n?o.toString("utf8"):o}))}findUsers(t){return jf(this,void 0,void 0,(function*(){if(!t)throw new TypeError('Argument "identities" is required');let e;if("string"==typeof t)e=new Set([t]);else{if(!ad(t))throw new TypeError(`Expected "identities" to be a string or an array of strings. Got: "${typeof t}"`);e=new Set(t)}if(0===e.size)throw new TypeError('"identities" array must not be empty');const r=Object.create({}),n=new Set,i=function(t,e){e=Math.max(e,0);const r=null==t?0:t.length;if(!r||e<1)return[];let n=0,i=0;const s=Array(Math.ceil(r/e));for(;n<r;)s[i++]=t.slice(n,n+=e);return s}(Array.from(e),50);for(const t of i){const e=yield this.cardManager.searchCards(t);for(const t of e)r[t.identity]&&n.add(t.identity),r[t.identity]=t}const s=new Set(Object.keys(r)),o=new Set([...e].filter(t=>!s.has(t)));if(o.size>0)throw new rd([...o]);if(n.size>0)throw new nd([...n]);return ad(t)?r:r[t]}))}lookupPublicKeys(t){return jf(this,void 0,void 0,(function*(){pd('Warning! Method "lookupPublicKeys" has been deprecated, use "findUsers" instead');const e=ad(t)?t:[t];if(0===e.length)throw new Error("Array should be non empty");if(r=e,new Set(r).size!==r.length)throw new Error("Identities in array should be unique");var r;const n=yield this.cardManager.searchCards(e),i={},s={};for(const t of e){const e=n.filter(e=>e.identity===t);0===e.length?s[t]=new Qf(t):e.length>1?s[t]=new Jf(t):i[t]=e[0].publicKey}if(0!==Yf(s).length)throw new Zf(Object.assign(Object.assign({},s),i));return Array.isArray(t)?i:i[t]}))}changePassword(t,e){return jf(this,void 0,void 0,(function*(){return yield this.keyLoader.changePassword(t,e)}))}backupPrivateKey(t){return jf(this,void 0,void 0,(function*(){const e=yield this.keyLoader.loadLocalPrivateKey();if(!e)throw new od;yield this.keyLoader.savePrivateKeyRemote(e,t)}))}hasLocalPrivateKey(){return this.keyLoader.hasPrivateKey()}unregister(){return jf(this,void 0,void 0,(function*(){this.inProcess&&this.throwIllegalInvocationError("unregister"),this.inProcess=!0;try{const t=yield this.cardManager.searchCards(this.identity);if(t.length>1)throw new Jf(this.identity);if(0===t.length)throw new Gf;yield this.cardManager.revokeCard(t[0].id),yield this.keyLoader.resetLocalPrivateKey(),yield this.onPrivateKeyDeleted()}finally{this.inProcess=!1}}))}createGroup(t,e){return jf(this,void 0,void 0,(function*(){let r=new Set,n=[];if(ld(e))r=new Set([e.identity]),n=[e];else if(_d(e))r=new Set(Object.keys(e)),n=Yf(e);else if(void 0!==e)throw new TypeError('Expected participants to be the result of "findUsers" method call or to be "typeof undefined"');if(r.add(this.identity),!gd(r.size))throw new sd(id.InvalidParticipantsCount,`Cannot create group with ${r.size} participant(s). Group can have ${dd[0]} to ${dd[1]} participants.`);const i=this.virgilCrypto.generateGroupSession(t),s={groupSessionMessage:{epochNumber:i.getCurrentEpochNumber(),sessionId:i.getSessionId(),data:i.export()[0].toString("base64")},participants:[...r]};return yield this.groupManager.store(s,n)}))}loadGroup(t,e){return jf(this,void 0,void 0,(function*(){const r=this.virgilCrypto.calculateGroupSessionId(t);return yield this.groupManager.pull(r,e)}))}getGroup(t){return jf(this,void 0,void 0,(function*(){const e=this.virgilCrypto.calculateGroupSessionId(t);return yield this.groupManager.retrieve(e)}))}deleteGroup(t){return jf(this,void 0,void 0,(function*(){const e=this.virgilCrypto.calculateGroupSessionId(t);yield this.groupManager.delete(e)}))}publishCardThenSavePrivateKeyLocal(t){return jf(this,void 0,void 0,(function*(){const{keyPair:e,previousCard:r}=t,n=e||this.virgilCrypto.generateKeys(this.keyPairType),i=yield this.cardManager.publishCard({privateKey:n.privateKey,publicKey:n.publicKey,previousCardId:r?r.id:void 0});return yield this.keyLoader.savePrivateKeyLocal(n.privateKey),{card:i,keyPair:n}}))}isOwnPublicKeyIncluded(t,e){const r=this.virgilCrypto.exportPublicKey(t).toString("base64");return e.map(t=>this.virgilCrypto.exportPublicKey(t).toString("base64")).some(t=>t===r)}throwIllegalInvocationError(t){throw new Error(`Calling ${t} two or more times in a row is not allowed.`)}addOwnPublicKey(t,e){const r=this.virgilCrypto.extractPublicKey(t);this.isOwnPublicKeyIncluded(r,e)||e.push(r)}onPrivateKeyDeleted(){return jf(this,void 0,void 0,(function*(){yield this.groupManager.cleanup()}))}getPublicKeysForEncryption(t,e){let r;if(null==e)r=[];else if(ld(e))r=[e.publicKey];else if(_d(e))r=Yf(e).map(t=>t.publicKey);else if(this.isPublicKey(e))pd("Warning! Calling `encrypt` with the result of `lookupPublicKeys` method has been deprecated. Please use the result of `findUsers` call instead"),r=[e];else{if(!function(t,e){if(!ud(t))return!1;const r=Yf(t);return 0!==r.length&&r.every(t=>e(t))}(e,this.isPublicKey.bind(this)))return null;pd("Warning! Calling `encrypt` with the result of `lookupPublicKeys` method has been deprecated. Please use the result of `findUsers` call instead"),r=Yf(e).map(t=>t)}return this.addOwnPublicKey(t,r),r}getPublicKeyForVerification(t,e,r){return null==e?this.virgilCrypto.extractPublicKey(t):ld(e)?r?yd(e,r).publicKey:e.publicKey:this.isPublicKey(e)?e:null}}{constructor(t,e){super(op.prepareConstructorParams(t,e)),this.toData=t=>t instanceof ArrayBuffer?new Uint8Array(t):t}static initialize(t,e={}){return Id(this,void 0,void 0,(function*(){const r=op.getFoundationLibraryOptions(e),n=op.getPythiaLibraryOptions(e);if(yield Promise.all([qt(r),He(n)]),"function"!=typeof t)throw new TypeError("EThree.initialize expects a function that returns Virgil JWT, got "+typeof t);const i=Object.assign({accessTokenProvider:new Hr(t)},e),s=(yield i.accessTokenProvider.getToken({service:"cards",operation:""})).identity();return new op(s,i)}))}static derivePasswords(t,e={}){return Id(this,void 0,void 0,(function*(){const r=op.getFoundationLibraryOptions(e);yield qt(r);const n=new Fe,i=n.calculateHash(t,Gt.SHA256),s=n.calculateHash(i,Gt.SHA512);return{loginPassword:s.slice(0,32),backupPassword:s.slice(32,64)}}))}encryptFile(t,e,r={}){return Id(this,void 0,void 0,(function*(){const n=r.chunkSize?r.chunkSize:65536;if(!Number.isInteger(n))throw TypeError("chunkSize should be an integer value");const i=t.size,s=yield this.keyLoader.loadLocalPrivateKey();if(!s)throw new Gf;const o=this.getPublicKeysForEncryption(s,e);if(!o)throw new TypeError('Could not get public keys from the second argument.\nMake sure you pass the resolved value of "EThree.findUsers" or "EThree.lookupPublicKeys" methods when encrypting for other users, or nothing when encrypting for the current user only.');const a=this.virgilCrypto.createStreamSigner(),c=new Promise((e,o)=>{ip({file:t,chunkSize:n,onFinishCallback:()=>e(a.sign(s)),onErrorCallback:t=>{a.dispose(),o(t)},onChunkCallback:(t,e)=>{r.onProgress&&r.onProgress({state:"Signing",bytesProcessed:e,fileSize:i}),a.update(this.toData(t))},signal:r.signal})}),u=this.virgilCrypto.createStreamCipher(o,yield c),l=new Promise((e,s)=>{const o=[];o.push(u.start()),ip({file:t,chunkSize:n,onChunkCallback:(t,e)=>{o.push(u.update(this.toData(t))),r.onProgress&&r.onProgress({state:"Encrypting",bytesProcessed:e,fileSize:i})},onFinishCallback:()=>{o.push(u.final()),e(o)},onErrorCallback:t=>{s(t),u.dispose()},signal:r.signal})}),_=yield l;return sp(t)?new File(_,t.name,{type:t.type}):new Blob(_,{type:t.type})}))}decryptFile(t,e,r={}){return Id(this,void 0,void 0,(function*(){const n=t.size,i=r.chunkSize?r.chunkSize:65536;if(!Number.isInteger(i))throw TypeError("chunkSize should be an integer value");const s=yield this.keyLoader.loadLocalPrivateKey();if(!s)throw new Gf;const o=this.getPublicKeyForVerification(s,e,r.encryptedOn);if(!o)throw new TypeError("Could not get public key from the second argument.Expected a Virgil Card or a Public Key object. Got "+typeof e);const a=this.virgilCrypto.createStreamDecipher(s),c=new Promise((e,s)=>{const o=[];ip({file:t,chunkSize:i,onChunkCallback:(t,e)=>{o.push(a.update(this.toData(t))),r.onProgress&&r.onProgress({state:"Decrypting",bytesProcessed:e,fileSize:n})},onFinishCallback:()=>{o.push(a.final(!1));const t=a.getSignature();if(a.dispose(),!t)throw new td("Signature not present.");e({decryptedChunks:o,signature:t})},onErrorCallback:t=>{a.dispose(),s(t)},signal:r.signal})}),{decryptedChunks:u,signature:l}=yield c,_=this.virgilCrypto.createStreamVerifier(l);let f;sp(t)&&(f=new File(u,t.name,{type:t.type})),f=new Blob(u,{type:t.type});const d=f.size,p=new Promise((t,e)=>{ip({file:f,chunkSize:i,onChunkCallback:(t,e)=>{_.update(this.toData(t)),r.onProgress&&r.onProgress({state:"Verifying",bytesProcessed:e,fileSize:d})},onFinishCallback:()=>t(_.verify(o)),onErrorCallback:t=>{_.dispose(),e(t)},signal:r.signal})});if(!(yield p))throw new td("Signature verification has failed.");return f}))}authEncryptFile(t,e,r={}){return Id(this,void 0,void 0,(function*(){const n=r.chunkSize?r.chunkSize:65536;if(!Number.isInteger(n))throw TypeError("chunkSize should be an integer value");const i=t.size,s=yield this.keyLoader.loadLocalPrivateKey();if(!s)throw new Gf;const o=this.getPublicKeysForEncryption(s,e);if(!o)throw new TypeError('Could not get public keys from the second argument.\nMake sure you pass the resolved value of "EThree.findUsers" or "EThree.lookupPublicKeys" methods when encrypting for other users, or nothing when encrypting for the current user only.');const a=this.virgilCrypto.createStreamSignAndEncrypt(s,o,!0),c=new Promise((e,s)=>{const o=[];o.push(a.start(i)),ip({file:t,chunkSize:n,onChunkCallback:(t,e)=>{o.push(a.update(this.toData(t))),r.onProgress&&r.onProgress({bytesProcessed:e,fileSize:i})},onFinishCallback:()=>{o.push(a.final()),e(o)},onErrorCallback:t=>{s(t),a.dispose()},signal:r.signal})}),u=yield c;return sp(t)?new File(u,t.name,{type:t.type}):new Blob(u,{type:t.type})}))}authDecryptFile(t,e,r={}){return Id(this,void 0,void 0,(function*(){const n=t.size,i=r.chunkSize?r.chunkSize:65536;if(!Number.isInteger(i))throw TypeError("chunkSize should be an integer value");const s=yield this.keyLoader.loadLocalPrivateKey();if(!s)throw new Gf;const o=this.getPublicKeyForVerification(s,e,r.encryptedOn);if(!o)throw new TypeError("Could not get public key from the second argument.Expected a Virgil Card or a Public Key object. Got "+typeof e);const a=this.virgilCrypto.createStreamDecryptAndVerify(),c=new Promise((e,c)=>{const u=[];a.start(s),ip({file:t,chunkSize:i,onChunkCallback:(t,e)=>{u.push(a.update(this.toData(t))),r.onProgress&&r.onProgress({bytesProcessed:e,fileSize:n})},onFinishCallback:()=>{u.push(a.final()),a.verify(o),a.dispose(),e(u)},onErrorCallback:t=>{a.dispose(),c(t)},signal:r.signal})}),u=yield c;return sp(t)?new File(u,t.name,{type:t.type}):new Blob(u,{type:t.type})}))}encryptSharedFile(t,e={}){return Id(this,void 0,void 0,(function*(){const r=e.chunkSize?e.chunkSize:65536;if(!Number.isInteger(r))throw TypeError("chunkSize should be an integer value");const n=t.size,i=yield this.keyLoader.loadLocalPrivateKey(),{privateKey:s,publicKey:o}=this.virgilCrypto.generateKeys(),a=this.virgilCrypto.createStreamSignAndEncrypt(i,o,!0),c=new Promise((i,s)=>{const o=[];o.push(a.start(n)),ip({file:t,chunkSize:r,onChunkCallback:(t,r)=>{o.push(a.update(this.toData(t))),e.onProgress&&e.onProgress({bytesProcessed:r,fileSize:n})},onFinishCallback:()=>{o.push(a.final()),i(o)},onErrorCallback:t=>{s(t),a.dispose()},signal:e.signal})}),u=yield c;return{encryptedSharedFile:sp(t)?new File(u,t.name,{type:t.type}):new Blob(u,{type:t.type}),fileKey:this.virgilCrypto.exportPrivateKey(s)}}))}decryptSharedFile(t,e,r,n={}){return Id(this,void 0,void 0,(function*(){const i=t.size,s=n.chunkSize?n.chunkSize:65536;if(!Number.isInteger(s))throw TypeError("chunkSize should be an integer value");const o=yield this.keyLoader.loadLocalPrivateKey();if(!o)throw new Gf;const a=this.getPublicKeyForVerification(o,r,n.encryptedOn);if(!a)throw new TypeError("Could not get public key from the second argument.Expected a Virgil Card or a Public Key object. Got "+typeof r);const c=this.virgilCrypto.importPrivateKey(e),u=this.virgilCrypto.createStreamDecryptAndVerify(),l=new Promise((e,r)=>{const o=[];u.start(c),ip({file:t,chunkSize:s,onChunkCallback:(t,e)=>{o.push(u.update(this.toData(t))),n.onProgress&&n.onProgress({bytesProcessed:e,fileSize:i})},onFinishCallback:()=>{o.push(u.final()),u.verify(a),u.dispose(),e(o)},onErrorCallback:t=>{u.dispose(),r(t)},signal:n.signal})}),_=yield l;return sp(t)?new File(_,t.name,{type:t.type}):new Blob(_,{type:t.type})}))}static getFoundationLibraryOptions(t){return t.foundationWasmPath?{foundation:[{locateFile:()=>t.foundationWasmPath}]}:void 0}static getPythiaLibraryOptions(t){return t.pythiaWasmPath?{pythia:[{locateFile:()=>t.pythiaWasmPath}]}:void 0}static prepareConstructorParams(t,e){const r=Object.assign({apiUrl:fd,storageName:".virgil-local-storage",groupStorageName:".virgil-group-storage",useSha256Identifiers:!1},e),n=r.accessTokenProvider,s=r.keyEntryStorage||new Sn(r.storageName),o=new Fe({useSha256Identifiers:r.useSha256Identifiers}),a=new i(o),c=new nr,u=new pn(a,{verifySelfSignature:r.apiUrl===fd,verifyVirgilSignature:r.apiUrl===fd}),l=new kd(t,{accessTokenProvider:n,virgilCrypto:o,brainKeyCrypto:c,keyEntryStorage:s,apiUrl:r.apiUrl});return{identity:t,virgilCrypto:o,cardManager:new fn({cardCrypto:a,cardVerifier:u,accessTokenProvider:n,retryOnUnauthorized:!0,apiUrl:r.apiUrl,productInfo:{product:"e3kit",version:"2.4.0"}}),accessTokenProvider:n,keyEntryStorage:s,keyLoader:l,groupStorageLeveldown:ep(r.groupStorageName),keyPairType:e.keyPairType}}isPublicKey(t){return t instanceof de}}var ap=r("fXoL"),cp=r("N+K7");let up=(()=>{class t{constructor(t){if(this.commonService=t,this.user_id=0,this.user_uid="",this.key="tawqi3i$95",this.initializeEThree=()=>Object(n.a)(this,void 0,void 0,(function*(){return console.log("initializeEThree"),new Promise((t,e)=>Object(n.a)(this,void 0,void 0,(function*(){const r=localStorage.getItem("_a"),n=this.commonService.commonGetCall(r?"admin/virgil-jwt":"user/virgil-jwt");this.eThree=yield op.initialize(()=>n.toPromise().then(t=>t.virgilToken).catch(t=>{console.error(t),e(t)})),t(this.eThree)})))})),this.hasLocalPrivateKey=t=>Object(n.a)(this,void 0,void 0,(function*(){const e=t+this.key;try{if(this.eThree||(yield this.initializeEThree()),this.eThree instanceof op){const t=yield this.eThree.hasLocalPrivateKey();return console.log("has",t),t||(yield this.eThree.restorePrivateKey(e),console.log("restored"),!0)}}catch(r){return console.error(r),yield this.registerE3Kit(t),r}})),this.cleanup=()=>Object(n.a)(this,void 0,void 0,(function*(){return yield this.eThree.cleanup()})),this.registerE3Kit=t=>Object(n.a)(this,void 0,void 0,(function*(){const e=t+this.key;console.log(e),yield this.eThree.register(),this.eThree.backupPrivateKey(e).then(()=>console.log("backupPrivateKey success")).catch(t=>console.error("backupPrivateKey error: ",t))})),this.findUsers=t=>Object(n.a)(this,void 0,void 0,(function*(){return yield this.eThree.findUsers(t)})),this.createGroup=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){return yield this.eThree.createGroup(t,e)})),this.loadGroup=(t,e)=>Object(n.a)(this,void 0,void 0,(function*(){return yield this.eThree.loadGroup(t,e)})),this.encryptFile=(t,e,r=!1)=>Object(n.a)(this,void 0,void 0,(function*(){return new Promise((i,s)=>Object(n.a)(this,void 0,void 0,(function*(){if(this.eThree)try{const n=this.user_uid,o=yield this.findUsers([n]);r||(yield this.createGroup(t,o));const a=yield this.loadGroup(t,o[n]),c=Math.ceil(e.length/1e4);this.encryptRecursion(a,e,c,i,s)}catch(n){s(n)}})))})),this.decryptFile=(t,e,r,i)=>Object(n.a)(this,void 0,void 0,(function*(){return new Promise((s,o)=>Object(n.a)(this,void 0,void 0,(function*(){var n;try{const a=yield this.findUsers([r,i]),c=yield null===(n=this.eThree)||void 0===n?void 0:n.loadGroup(t,a[r]);if(c){const t=Math.ceil(e.length/13656);this.decryptRecursion(c,a[i],e,t,s,o)}else o()}catch(a){o(a)}})))})),this.encryptRecursion=(t,e,r,i,s,o="",a=0,c=1)=>Object(n.a)(this,void 0,void 0,(function*(){try{let n=1e4;if(a+n>e.length&&(n=e.length-a),0===n)return i(o);const u=yield null==t?void 0:t.encrypt(e.substr(a,n));c<r?this.encryptRecursion(t,e,r,i,s,o+u,a+n,c+1):i&&i(o+u)}catch(n){console.log({error:n}),s(n)}})),this.decryptRecursion=(t,e,r,i,s,o,a="",c=0,u=1)=>Object(n.a)(this,void 0,void 0,(function*(){try{let n=13656;if(c+n>r.length&&(n=r.length-c),0===n)return s(a);const l=yield null==t?void 0:t.decrypt(r.substr(c,n),e);u<i?this.decryptRecursion(t,e,r,i,s,o,a+l,c+n,u+1):s(a+l)}catch(n){console.log({error:n}),o(n)}})),localStorage.getItem("token")){this.initializeEThree().then(()=>console.log("initiated Ethree"));const t=this.commonService.getUserData();this.user_id=t.id,this.user_uid=t.uid}}}return t.\u0275fac=function(e){return new(e||t)(ap.Xb(cp.a))},t.\u0275prov=ap.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},EVdn:function(t,e,r){var n;!function(e,r){"use strict";"object"==typeof t.exports?t.exports=e.document?r(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(e)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var s=[],o=Object.getPrototypeOf,a=s.slice,c=s.flat?function(t){return s.flat.call(t)}:function(t){return s.concat.apply([],t)},u=s.push,l=s.indexOf,_={},f=_.toString,d=_.hasOwnProperty,p=d.toString,h=p.call(Object),y={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},g=r.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,r){var n,i,s=(r=r||g).createElement("script");if(s.text=t,e)for(n in P)(i=e[n]||e.getAttribute&&e.getAttribute(n))&&s.setAttribute(n,i);r.head.appendChild(s).parentNode.removeChild(s)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?_[f.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)};function E(t){var e=!!t&&"length"in t&&t.length,r=b(t);return!v(t)&&!m(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.5.1",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,r){return t.call(e,r,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},w.extend=w.fn.extend=function(){var t,e,r,n,i,s,o=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||v(o)||(o={}),a===c&&(o=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(u&&n&&(w.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[e],s=i&&!Array.isArray(r)?[]:i||w.isPlainObject(r)?r:{},i=!1,o[e]=w.extend(u,s,n)):void 0!==n&&(o[e]=n));return o},w.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==f.call(t)||(e=o(t))&&("function"!=typeof(r=d.call(e,"constructor")&&e.constructor)||p.call(r)!==h))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,r){x(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,n=0;if(E(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var r=e||[];return null!=t&&(E(Object(t))?w.merge(r,"string"==typeof t?[t]:t):u.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:l.call(e,t,r)},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n=[],i=0,s=t.length,o=!r;i<s;i++)!e(t[i],i)!==o&&n.push(t[i]);return n},map:function(t,e,r){var n,i,s=0,o=[];if(E(t))for(n=t.length;s<n;s++)null!=(i=e(t[s],s,r))&&o.push(i);else for(s in t)null!=(i=e(t[s],s,r))&&o.push(i);return c(o)},guid:1,support:y}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=s[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){_["[object "+e+"]"]=e.toLowerCase()}));var k=function(t){var e,r,n,i,s,o,a,c,u,l,_,f,d,p,h,y,v,m,g,P="sizzle"+1*new Date,x=t.document,b=0,w=0,E=ct(),k=ct(),I=ct(),N=ct(),A=function(t,e){return t===e&&(_=!0),0},C={}.hasOwnProperty,T=[],S=T.pop,F=T.push,K=T.push,R=T.slice,L=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",D="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",M="\\["+O+"*("+D+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+O+"*\\]",U=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",z=new RegExp(O+"+","g"),H=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),j=new RegExp("^"+O+"*,"+O+"*"),Y=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),V=new RegExp(O+"|>"),q=new RegExp(U),G=new RegExp("^"+D+"$"),W={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),rt=function(t,e){var r="0x"+t.slice(1)-65536;return e||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=function(){f()},ot=Pt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{K.apply(T=R.call(x.childNodes),x.childNodes)}catch(kt){K={apply:T.length?function(t,e){F.apply(t,R.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}function at(t,e,n,i){var s,a,u,l,_,p,v,m=e&&e.ownerDocument,x=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return n;if(!i&&(f(e),e=e||d,h)){if(11!==x&&(_=Q.exec(t)))if(s=_[1]){if(9===x){if(!(u=e.getElementById(s)))return n;if(u.id===s)return n.push(u),n}else if(m&&(u=m.getElementById(s))&&g(e,u)&&u.id===s)return n.push(u),n}else{if(_[2])return K.apply(n,e.getElementsByTagName(t)),n;if((s=_[3])&&r.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(s)),n}if(r.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,m=e,1===x&&(V.test(t)||Y.test(t))){for((m=tt.test(t)&&vt(e.parentNode)||e)===e&&r.scope||((l=e.getAttribute("id"))?l=l.replace(nt,it):e.setAttribute("id",l=P)),a=(p=o(t)).length;a--;)p[a]=(l?"#"+l:":scope")+" "+gt(p[a]);v=p.join(",")}try{return K.apply(n,m.querySelectorAll(v)),n}catch(b){N(t,!0)}finally{l===P&&e.removeAttribute("id")}}}return c(t.replace(H,"$1"),e,n,i)}function ct(){var t=[];return function e(r,i){return t.push(r+" ")>n.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function ut(t){return t[P]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(kt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function _t(t,e){for(var r=t.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=e}function ft(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function ht(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function yt(t){return ut((function(e){return e=+e,ut((function(r,n){for(var i,s=t([],r.length,e),o=s.length;o--;)r[i=s[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in r=at.support={},s=at.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!X.test(t.namespaceURI||e&&e.nodeName||"HTML")},f=at.setDocument=function(t){var e,i,o=t?t.ownerDocument||t:x;return o!=d&&9===o.nodeType&&o.documentElement?(p=(d=o).documentElement,h=!s(d),x!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",st,!1):i.attachEvent&&i.attachEvent("onunload",st)),r.scope=lt((function(t){return p.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),r.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),r.getElementsByTagName=lt((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),r.getElementsByClassName=Z.test(d.getElementsByClassName),r.getById=lt((function(t){return p.appendChild(t).id=P,!d.getElementsByName||!d.getElementsByName(P).length})),r.getById?(n.filter.ID=function(t){var e=t.replace(et,rt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var r=e.getElementById(t);return r?[r]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,rt);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var r,n,i,s=e.getElementById(t);if(s){if((r=s.getAttributeNode("id"))&&r.value===t)return[s];for(i=e.getElementsByName(t),n=0;s=i[n++];)if((r=s.getAttributeNode("id"))&&r.value===t)return[s]}return[]}}),n.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,n=[],i=0,s=e.getElementsByTagName(t);if("*"===t){for(;r=s[i++];)1===r.nodeType&&n.push(r);return n}return s},n.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},v=[],y=[],(r.qsa=Z.test(d.querySelectorAll))&&(lt((function(t){var e;p.appendChild(t).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+O+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||y.push("\\["+O+"*(?:value|"+B+")"),t.querySelectorAll("[id~="+P+"-]").length||y.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||y.push("\\["+O+"*name"+O+"*="+O+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||y.push(":checked"),t.querySelectorAll("a#"+P+"+*").length||y.push(".#.+[+~]"),t.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&y.push("name"+O+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),y.push(",.*:")}))),(r.matchesSelector=Z.test(m=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt((function(t){r.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),v.push("!=",U)})),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(p.compareDocumentPosition),g=e||Z.test(p.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return _=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===n?t==d||t.ownerDocument==x&&g(x,t)?-1:e==d||e.ownerDocument==x&&g(x,e)?1:l?L(l,t)-L(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return _=!0,0;var r,n=0,i=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!i||!s)return t==d?-1:e==d?1:i?-1:s?1:l?L(l,t)-L(l,e):0;if(i===s)return ft(t,e);for(r=t;r=r.parentNode;)o.unshift(r);for(r=e;r=r.parentNode;)a.unshift(r);for(;o[n]===a[n];)n++;return n?ft(o[n],a[n]):o[n]==x?-1:a[n]==x?1:0},d):d},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(f(t),r.matchesSelector&&h&&!N[e+" "]&&(!v||!v.test(e))&&(!y||!y.test(e)))try{var n=m.call(t,e);if(n||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(kt){N(e,!0)}return at(e,d,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=d&&f(t),g(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=d&&f(t);var i=n.attrHandle[e.toLowerCase()],s=i&&C.call(n.attrHandle,e.toLowerCase())?i(t,e,!h):void 0;return void 0!==s?s:r.attributes||!h?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+"").replace(nt,it)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],i=0,s=0;if(_=!r.detectDuplicates,l=!r.sortStable&&t.slice(0),t.sort(A),_){for(;e=t[s++];)e===t[s]&&(i=n.push(s));for(;i--;)t.splice(n[i],1)}return l=null,t},i=at.getText=function(t){var e,r="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=i(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)r+=i(e);return r},(n=at.selectors={cacheLength:50,createPseudo:ut,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,rt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,rt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&q.test(r)&&(e=o(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,rt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+O+")"+t+"("+O+"|$)"))&&E(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,r){return function(n){var i=at.attr(n,t);return null==i?"!="===e:!e||(i+="","="===e?i===r:"!="===e?i!==r:"^="===e?r&&0===i.indexOf(r):"*="===e?r&&i.indexOf(r)>-1:"$="===e?r&&i.slice(-r.length)===r:"~="===e?(" "+i.replace(z," ")+" ").indexOf(r)>-1:"|="===e&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,n,i){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,c){var u,l,_,f,d,p,h=s!==o?"nextSibling":"previousSibling",y=e.parentNode,v=a&&e.nodeName.toLowerCase(),m=!c&&!a,g=!1;if(y){if(s){for(;h;){for(f=e;f=f[h];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=h="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?y.firstChild:y.lastChild],o&&m){for(g=(d=(u=(l=(_=(f=y)[P]||(f[P]={}))[f.uniqueID]||(_[f.uniqueID]={}))[t]||[])[0]===b&&u[1])&&u[2],f=d&&y.childNodes[d];f=++d&&f&&f[h]||(g=d=0)||p.pop();)if(1===f.nodeType&&++g&&f===e){l[t]=[b,d,g];break}}else if(m&&(g=d=(u=(l=(_=(f=e)[P]||(f[P]={}))[f.uniqueID]||(_[f.uniqueID]={}))[t]||[])[0]===b&&u[1]),!1===g)for(;(f=++d&&f&&f[h]||(g=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++g||(m&&((l=(_=f[P]||(f[P]={}))[f.uniqueID]||(_[f.uniqueID]={}))[t]=[b,g]),f!==e)););return(g-=i)===n||g%n==0&&g/n>=0}}},PSEUDO:function(t,e){var r,i=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[P]?i(e):i.length>1?(r=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,r){for(var n,s=i(t,e),o=s.length;o--;)t[n=L(t,s[o])]=!(r[n]=s[o])})):function(t){return i(t,0,r)}):i}},pseudos:{not:ut((function(t){var e=[],r=[],n=a(t.replace(H,"$1"));return n[P]?ut((function(t,e,r,i){for(var s,o=n(t,null,i,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))})):function(t,i,s){return e[0]=t,n(e,null,s,r),e[0]=null,!r.pop()}})),has:ut((function(t){return function(e){return at(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,rt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:ut((function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,rt).toLowerCase(),function(e){var r;do{if(r=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:yt((function(){return[0]})),last:yt((function(t,e){return[e-1]})),eq:yt((function(t,e,r){return[r<0?r+e:r]})),even:yt((function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t})),odd:yt((function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t})),lt:yt((function(t,e,r){for(var n=r<0?r+e:r>e?e:r;--n>=0;)t.push(n);return t})),gt:yt((function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=pt(e);function mt(){}function gt(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function Pt(t,e,r){var n=e.dir,i=e.next,s=i||n,o=r&&"parentNode"===s,a=w++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||o)return t(e,r,i);return!1}:function(e,r,c){var u,l,_,f=[b,a];if(c){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,r,c))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(l=(_=e[P]||(e[P]={}))[e.uniqueID]||(_[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=l[s])&&u[0]===b&&u[1]===a)return f[2]=u[2];if(l[s]=f,f[2]=t(e,r,c))return!0}return!1}}function xt(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function bt(t,e,r,n,i){for(var s,o=[],a=0,c=t.length,u=null!=e;a<c;a++)(s=t[a])&&(r&&!r(s,n,i)||(o.push(s),u&&e.push(a)));return o}function wt(t,e,r,n,i,s){return n&&!n[P]&&(n=wt(n)),i&&!i[P]&&(i=wt(i,s)),ut((function(s,o,a,c){var u,l,_,f=[],d=[],p=o.length,h=s||function(t,e,r){for(var n=0,i=e.length;n<i;n++)at(t,e[n],r);return r}(e||"*",a.nodeType?[a]:a,[]),y=!t||!s&&e?h:bt(h,f,t,a,c),v=r?i||(s?t:p||n)?[]:o:y;if(r&&r(y,v,a,c),n)for(u=bt(v,d),n(u,[],a,c),l=u.length;l--;)(_=u[l])&&(v[d[l]]=!(y[d[l]]=_));if(s){if(i||t){if(i){for(u=[],l=v.length;l--;)(_=v[l])&&u.push(y[l]=_);i(null,v=[],u,c)}for(l=v.length;l--;)(_=v[l])&&(u=i?L(s,_):f[l])>-1&&(s[u]=!(o[u]=_))}}else v=bt(v===o?v.splice(p,v.length):v),i?i(null,o,v,c):K.apply(o,v)}))}function Et(t){for(var e,r,i,s=t.length,o=n.relative[t[0].type],a=o||n.relative[" "],c=o?1:0,l=Pt((function(t){return t===e}),a,!0),_=Pt((function(t){return L(e,t)>-1}),a,!0),f=[function(t,r,n){var i=!o&&(n||r!==u)||((e=r).nodeType?l(t,r,n):_(t,r,n));return e=null,i}];c<s;c++)if(r=n.relative[t[c].type])f=[Pt(xt(f),r)];else{if((r=n.filter[t[c].type].apply(null,t[c].matches))[P]){for(i=++c;i<s&&!n.relative[t[i].type];i++);return wt(c>1&&xt(f),c>1&&gt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(H,"$1"),r,c<i&&Et(t.slice(c,i)),i<s&&Et(t=t.slice(i)),i<s&&gt(t))}f.push(r)}return xt(f)}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,o=at.tokenize=function(t,e){var r,i,s,o,a,c,u,l=k[t+" "];if(l)return e?0:l.slice(0);for(a=t,c=[],u=n.preFilter;a;){for(o in r&&!(i=j.exec(a))||(i&&(a=a.slice(i[0].length)||a),c.push(s=[])),r=!1,(i=Y.exec(a))&&(r=i.shift(),s.push({value:r,type:i[0].replace(H," ")}),a=a.slice(r.length)),n.filter)!(i=W[o].exec(a))||u[o]&&!(i=u[o](i))||(r=i.shift(),s.push({value:r,type:o,matches:i}),a=a.slice(r.length));if(!r)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var r,i=[],s=[],a=I[t+" "];if(!a){for(e||(e=o(t)),r=e.length;r--;)(a=Et(e[r]))[P]?i.push(a):s.push(a);(a=I(t,function(t,e){var r=e.length>0,i=t.length>0,s=function(s,o,a,c,l){var _,p,y,v=0,m="0",g=s&&[],P=[],x=u,w=s||i&&n.find.TAG("*",l),E=b+=null==x?1:Math.random()||.1,k=w.length;for(l&&(u=o==d||o||l);m!==k&&null!=(_=w[m]);m++){if(i&&_){for(p=0,o||_.ownerDocument==d||(f(_),a=!h);y=t[p++];)if(y(_,o||d,a)){c.push(_);break}l&&(b=E)}r&&((_=!y&&_)&&v--,s&&g.push(_))}if(v+=m,r&&m!==v){for(p=0;y=e[p++];)y(g,P,o,a);if(s){if(v>0)for(;m--;)g[m]||P[m]||(P[m]=S.call(c));P=bt(P)}K.apply(c,P),l&&!s&&P.length>0&&v+e.length>1&&at.uniqueSort(c)}return l&&(b=E,u=x),g};return r?ut(s):s}(s,i))).selector=t}return a},c=at.select=function(t,e,r,i){var s,c,u,l,_,f="function"==typeof t&&t,d=!i&&o(t=f.selector||t);if(r=r||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===e.nodeType&&h&&n.relative[c[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(et,rt),e)||[])[0]))return r;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=W.needsContext.test(t)?0:c.length;s--&&!n.relative[l=(u=c[s]).type];)if((_=n.find[l])&&(i=_(u.matches[0].replace(et,rt),tt.test(c[0].type)&&vt(e.parentNode)||e))){if(c.splice(s,1),!(t=i.length&&gt(c)))return K.apply(r,i),r;break}}return(f||a(t,d))(i,e,!h,r,!e||tt.test(t)&&vt(e.parentNode)||e),r},r.sortStable=P.split("").sort(A).join("")===P,r.detectDuplicates=!!_,f(),r.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||_t("type|href|height|width",(function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),r.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||_t("value",(function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||_t(B,(function(t,e,r){var n;if(!r)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),at}(r);w.find=k,w.expr=k.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var I=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&w(t).is(r))break;n.push(t)}return n},N=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},A=w.expr.match.needsContext;function C(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function S(t,e,r){return v(e)?w.grep(t,(function(t,n){return!!e.call(t,n,t)!==r})):e.nodeType?w.grep(t,(function(t){return t===e!==r})):"string"!=typeof e?w.grep(t,(function(t){return l.call(e,t)>-1!==r})):w.filter(e,t,r)}w.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?w.find.matchesSelector(n,t)?[n]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<n;e++)if(w.contains(i[e],this))return!0})));for(r=this.pushStack([]),e=0;e<n;e++)w.find(t,i[e],r);return n>1?w.uniqueSort(r):r},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&A.test(t)?w(t):t||[],!1).length}});var F,K=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||F,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:K.exec(t))||!n[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(n[1]){if(w.merge(this,w.parseHTML(n[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:g,!0)),T.test(n[1])&&w.isPlainObject(e))for(n in e)v(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=g.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==r.ready?r.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,F=w(g);var R=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),r=e.length;return this.filter((function(){for(var t=0;t<r;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var r,n=0,i=this.length,s=[],o="string"!=typeof t&&w(t);if(!A.test(t))for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&w.find.matchesSelector(r,t))){s.push(r);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?l.call(w(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,r){return I(t,"parentNode",r)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,r){return I(t,"nextSibling",r)},prevUntil:function(t,e,r){return I(t,"previousSibling",r)},siblings:function(t){return N((t.parentNode||{}).firstChild,t)},children:function(t){return N(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(C(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(r,n){var i=w.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=w.filter(n,i)),this.length>1&&(L[t]||w.uniqueSort(i),R.test(t)&&i.reverse()),this.pushStack(i)}}));var O=/[^\x20\t\r\n\f]+/g;function D(t){return t}function M(t){throw t}function U(t,e,r,n){var i;try{t&&v(i=t.promise)?i.call(t).done(e).fail(r):t&&v(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(O)||[],(function(t,r){e[r]=!0})),e}(t):w.extend({},t);var e,r,n,i,s=[],o=[],a=-1,c=function(){for(i=i||t.once,n=e=!0;o.length;a=-1)for(r=o.shift();++a<s.length;)!1===s[a].apply(r[0],r[1])&&t.stopOnFalse&&(a=s.length,r=!1);t.memory||(r=!1),e=!1,i&&(s=r?[]:"")},u={add:function(){return s&&(r&&!e&&(a=s.length-1,o.push(r)),function e(r){w.each(r,(function(r,n){v(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==b(n)&&e(n)}))}(arguments),r&&!e&&c()),this},remove:function(){return w.each(arguments,(function(t,e){for(var r;(r=w.inArray(e,s,r))>-1;)s.splice(r,1),r<=a&&a--})),this},has:function(t){return t?w.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=r="",this},disabled:function(){return!s},lock:function(){return i=o=[],r||e||(s=r=""),this},locked:function(){return!!i},fireWith:function(t,r){return i||(r=[t,(r=r||[]).slice?r.slice():r],o.push(r),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(r){w.each(e,(function(e,n){var i=v(t[n[4]])&&t[n[4]];s[n[1]]((function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,i){var s=0;function o(t,e,n,i){return function(){var a=this,c=arguments,u=function(){var r,u;if(!(t<s)){if((r=n.apply(a,c))===e.promise())throw new TypeError("Thenable self-resolution");v(u=r&&("object"==typeof r||"function"==typeof r)&&r.then)?i?u.call(r,o(s,e,D,i),o(s,e,M,i)):(s++,u.call(r,o(s,e,D,i),o(s,e,M,i),o(s,e,D,e.notifyWith))):(n!==D&&(a=void 0,c=[r]),(i||e.resolveWith)(a,c))}},l=i?u:function(){try{u()}catch(r){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(r,l.stackTrace),t+1>=s&&(n!==M&&(a=void 0,c=[r]),e.rejectWith(a,c))}};t?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),r.setTimeout(l))}}return w.Deferred((function(r){e[0][3].add(o(0,r,v(i)?i:D,r.notifyWith)),e[1][3].add(o(0,r,v(t)?t:D)),e[2][3].add(o(0,r,v(n)?n:M))})).promise()},promise:function(t){return null!=t?w.extend(t,i):i}},s={};return w.each(e,(function(t,r){var o=r[2],a=r[5];i[r[1]]=o.add,a&&o.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(r[3].fire),s[r[0]]=function(){return s[r[0]+"With"](this===s?void 0:this,arguments),this},s[r[0]+"With"]=o.fireWith})),i.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,r=e,n=Array(r),i=a.call(arguments),s=w.Deferred(),o=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?a.call(arguments):r,--e||s.resolveWith(n,i)}};if(e<=1&&(U(t,s.done(o(r)).resolve,s.reject,!e),"pending"===s.state()||v(i[r]&&i[r].then)))return s.then();for(;r--;)U(i[r],o(r),s.reject);return s.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&z.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){r.setTimeout((function(){throw t}))};var H=w.Deferred();function j(){g.removeEventListener("DOMContentLoaded",j),r.removeEventListener("load",j),w.ready()}w.fn.ready=function(t){return H.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||H.resolveWith(g,[w]))}}),w.ready.then=H.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?r.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",j),r.addEventListener("load",j));var Y=function(t,e,r,n,i,s,o){var a=0,c=t.length,u=null==r;if("object"===b(r))for(a in i=!0,r)Y(t,e,a,r[a],!0,s,o);else if(void 0!==n&&(i=!0,v(n)||(o=!0),u&&(o?(e.call(t,n),e=null):(u=e,e=function(t,e,r){return u.call(w(t),r)})),e))for(;a<c;a++)e(t[a],r,o?n:n.call(t[a],a,e(t[a],r)));return i?t:u?e.call(t):c?e(t[0],r):s},V=/^-ms-/,q=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function W(t){return t.replace(V,"ms-").replace(q,G)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $(){this.expando=w.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[W(e)]=r;else for(n in e)i[W(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e){r=(e=Array.isArray(e)?e.map(W):(e=W(e))in n?[e]:e.match(O)||[]).length;for(;r--;)delete n[e[r]]}(void 0===e||w.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var J=new $,Z=new $,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,r){var n;if(void 0===r&&1===t.nodeType)if(n="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(n))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(r)}catch(i){}Z.set(t,e,r)}else r=void 0;return r}w.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,r){return Z.access(t,e,r)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,r){return J.access(t,e,r)},_removeData:function(t,e){J.remove(t,e)}}),w.fn.extend({data:function(t,e){var r,n,i,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(i=Z.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(n=o[r].name).indexOf("data-")&&(n=W(n.slice(5)),et(s,n,i[n]));J.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){Z.set(this,t)})):Y(this,(function(e){var r;if(s&&void 0===e)return void 0!==(r=Z.get(s,t))||void 0!==(r=et(s,t))?r:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),w.extend({queue:function(t,e,r){var n;if(t)return n=J.get(t,e=(e||"fx")+"queue"),r&&(!n||Array.isArray(r)?n=J.access(t,e,w.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){var r=w.queue(t,e=e||"fx"),n=r.length,i=r.shift(),s=w._queueHooks(t,e);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete s.stop,i.call(t,(function(){w.dequeue(t,e)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return J.get(t,r)||J.access(t,r,{empty:w.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",r])}))})}}),w.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?w.queue(this[0],t):void 0===e?this:this.each((function(){var r=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=w.Deferred(),s=this,o=this.length,a=function(){--n||i.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(r=J.get(s[o],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(a));return a(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],st=g.documentElement,ot=function(t){return w.contains(t.ownerDocument,t)},at={composed:!0};st.getRootNode&&(ot=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===w.css(t,"display")};function ut(t,e,r,n){var i,s,o=20,a=n?function(){return n.cur()}:function(){return w.css(t,e,"")},c=a(),u=r&&r[3]||(w.cssNumber[e]?"":"px"),l=t.nodeType&&(w.cssNumber[e]||"px"!==u&&+c)&&nt.exec(w.css(t,e));if(l&&l[3]!==u){for(u=u||l[3],l=+(c/=2)||1;o--;)w.style(t,e,l+u),(1-s)*(1-(s=a()/c||.5))<=0&&(o=0),l/=s;w.style(t,e,(l*=2)+u),r=r||[]}return r&&(l=+l||+c||0,i=r[1]?l+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=l,n.end=i)),i}var lt={};function _t(t){var e,r=t.ownerDocument,n=t.nodeName,i=lt[n];return i||(e=r.body.appendChild(r.createElement(n)),i=w.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[n]=i,i)}function ft(t,e){for(var r,n,i=[],s=0,o=t.length;s<o;s++)(n=t[s]).style&&(r=n.style.display,e?("none"===r&&(i[s]=J.get(n,"display")||null,i[s]||(n.style.display="")),""===n.style.display&&ct(n)&&(i[s]=_t(n))):"none"!==r&&(i[s]="none",J.set(n,"display",r)));for(s=0;s<o;s++)null!=i[s]&&(t[s].style.display=i[s]);return t}w.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?w(this).show():w(this).hide()}))}});var dt,pt,ht=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;dt=g.createDocumentFragment().appendChild(g.createElement("div")),(pt=g.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),dt.appendChild(pt),y.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",y.option=!!dt.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&C(t,e)?w.merge([t],r):r}function Pt(t,e){for(var r=0,n=t.length;r<n;r++)J.set(t[r],"globalEval",!e||J.get(e[r],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,y.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function bt(t,e,r,n,i){for(var s,o,a,c,u,l,_=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((s=t[d])||0===s)if("object"===b(s))w.merge(f,s.nodeType?[s]:s);else if(xt.test(s)){for(o=o||_.appendChild(e.createElement("div")),a=(yt.exec(s)||["",""])[1].toLowerCase(),o.innerHTML=(c=mt[a]||mt._default)[1]+w.htmlPrefilter(s)+c[2],l=c[0];l--;)o=o.lastChild;w.merge(f,o.childNodes),(o=_.firstChild).textContent=""}else f.push(e.createTextNode(s));for(_.textContent="",d=0;s=f[d++];)if(n&&w.inArray(s,n)>-1)i&&i.push(s);else if(u=ot(s),o=gt(_.appendChild(s),"script"),u&&Pt(o),r)for(l=0;s=o[l++];)vt.test(s.type||"")&&r.push(s);return _}var wt=/^key/,Et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\.(.+)|)/;function It(){return!0}function Nt(){return!1}function At(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==("focus"===e)}function Ct(t,e,r,n,i,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof r&&(n=n||r,r=void 0),e)Ct(t,a,r,n,e[a],s);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=Nt;else if(!i)return t;return 1===s&&(o=i,(i=function(t){return w().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),t.each((function(){w.event.add(this,e,i,n,r)}))}function Tt(t,e,r){r?(J.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var n,i,s=J.get(this,e);if(1&t.isTrigger&&this[e]){if(s.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(s=a.call(arguments),J.set(this,e,s),n=r(this,e),this[e](),s!==(i=J.get(this,e))||n?J.set(this,e,!1):i={},s!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else s.length&&(J.set(this,e,{value:w.event.trigger(w.extend(s[0],w.Event.prototype),s.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&w.event.add(t,e,It)}w.event={global:{},add:function(t,e,r,n,i){var s,o,a,c,u,l,_,f,d,p,h,y=J.get(t);if(X(t))for(r.handler&&(r=(s=r).handler,i=s.selector),i&&w.find.matchesSelector(st,i),r.guid||(r.guid=w.guid++),(c=y.events)||(c=y.events=Object.create(null)),(o=y.handle)||(o=y.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(O)||[""]).length;u--;)d=h=(a=kt.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),d&&(_=w.event.special[d]||{},_=w.event.special[d=(i?_.delegateType:_.bindType)||d]||{},l=w.extend({type:d,origType:h,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:p.join(".")},s),(f=c[d])||((f=c[d]=[]).delegateCount=0,_.setup&&!1!==_.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(d,o)),_.add&&(_.add.call(t,l),l.handler.guid||(l.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),w.event.global[d]=!0)},remove:function(t,e,r,n,i){var s,o,a,c,u,l,_,f,d,p,h,y=J.hasData(t)&&J.get(t);if(y&&(c=y.events)){for(u=(e=(e||"").match(O)||[""]).length;u--;)if(d=h=(a=kt.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),d){for(_=w.event.special[d]||{},f=c[d=(n?_.delegateType:_.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=f.length;s--;)l=f[s],!i&&h!==l.origType||r&&r.guid!==l.guid||a&&!a.test(l.namespace)||n&&n!==l.selector&&("**"!==n||!l.selector)||(f.splice(s,1),l.selector&&f.delegateCount--,_.remove&&_.remove.call(t,l));o&&!f.length&&(_.teardown&&!1!==_.teardown.call(t,p,y.handle)||w.removeEvent(t,d,y.handle),delete c[d])}else for(d in c)w.event.remove(t,d+e[u],r,n,!0);w.isEmptyObject(c)&&J.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,s,o,a=new Array(arguments.length),c=w.event.fix(t),u=(J.get(this,"events")||Object.create(null))[c.type]||[],l=w.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(o=w.event.handlers.call(this,c,u),e=0;(i=o[e++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,r=0;(s=i.handlers[r++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(n=((w.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(c.result=n)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(t,e){var r,n,i,s,o,a=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(s=[],o={},r=0;r<c;r++)void 0===o[i=(n=e[r]).selector+" "]&&(o[i]=n.needsContext?w(i,this).index(u)>-1:w.find(i,this,null,[u]).length),o[i]&&s.push(n);s.length&&a.push({elem:u,handlers:s})}return u=this,c<e.length&&a.push({elem:u,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ht.test(e.type)&&e.click&&C(e,"input")&&Tt(e,"click",It),!1},trigger:function(t){var e=this||t;return ht.test(e.type)&&e.click&&C(e,"input")&&Tt(e,"click"),!0},_default:function(t){var e=t.target;return ht.test(e.type)&&e.click&&C(e,"input")&&J.get(e,"click")||C(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?It:Nt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Nt,isPropagationStopped:Nt,isImmediatePropagationStopped:Nt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=It,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=It,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=It,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Et.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return Tt(this,t,At),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=this,i=t.relatedTarget,s=t.handleObj;return i&&(i===n||w.contains(n,i))||(t.type=s.origType,r=s.handler.apply(this,arguments),t.type=e),r}}})),w.fn.extend({on:function(t,e,r,n){return Ct(this,t,e,r,n)},one:function(t,e,r,n){return Ct(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,w(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=Nt),this.each((function(){w.event.remove(this,t,r,e)}))}});var St=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,Kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return C(t,"table")&&C(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ot(t,e){var r,n,i,s,o,a;if(1===e.nodeType){if(J.hasData(t)&&(a=J.get(t).events))for(i in J.remove(e,"handle events"),a)for(r=0,n=a[i].length;r<n;r++)w.event.add(e,i,a[i][r]);Z.hasData(t)&&(s=Z.access(t),o=w.extend({},s),Z.set(e,o))}}function Dt(t,e){var r=e.nodeName.toLowerCase();"input"===r&&ht.test(t.type)?e.checked=t.checked:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}function Mt(t,e,r,n){e=c(e);var i,s,o,a,u,l,_=0,f=t.length,d=f-1,p=e[0],h=v(p);if(h||f>1&&"string"==typeof p&&!y.checkClone&&Ft.test(p))return t.each((function(i){var s=t.eq(i);h&&(e[0]=p.call(this,i,s.html())),Mt(s,e,r,n)}));if(f&&(s=(i=bt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===i.childNodes.length&&(i=s),s||n)){for(a=(o=w.map(gt(i,"script"),Lt)).length;_<f;_++)u=i,_!==d&&(u=w.clone(u,!0,!0),a&&w.merge(o,gt(u,"script"))),r.call(t[_],u,_);if(a)for(l=o[o.length-1].ownerDocument,w.map(o,Bt),_=0;_<a;_++)vt.test((u=o[_]).type||"")&&!J.access(u,"globalEval")&&w.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):x(u.textContent.replace(Kt,""),u,l))}return t}function Ut(t,e,r){for(var n,i=e?w.filter(e,t):t,s=0;null!=(n=i[s]);s++)r||1!==n.nodeType||w.cleanData(gt(n)),n.parentNode&&(r&&ot(n)&&Pt(gt(n,"script")),n.parentNode.removeChild(n));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var n,i,s,o,a=t.cloneNode(!0),c=ot(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(o=gt(a),n=0,i=(s=gt(t)).length;n<i;n++)Dt(s[n],o[n]);if(e)if(r)for(s=s||gt(t),o=o||gt(a),n=0,i=s.length;n<i;n++)Ot(s[n],o[n]);else Ot(t,a);return(o=gt(a,"script")).length>0&&Pt(o,!c&&gt(t,"script")),a},cleanData:function(t){for(var e,r,n,i=w.event.special,s=0;void 0!==(r=t[s]);s++)if(X(r)){if(e=r[J.expando]){if(e.events)for(n in e.events)i[n]?w.event.remove(r,n):w.removeEvent(r,n,e.handle);r[J.expando]=void 0}r[Z.expando]&&(r[Z.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return Y(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Mt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)}))},prepend:function(){return Mt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Mt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Mt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return Y(this,(function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!St.test(t)&&!mt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;r<n;r++)1===(e=this[r]||{}).nodeType&&(w.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Mt(this,arguments,(function(e){var r=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(gt(this)),r&&r.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var r,n=[],i=w(t),s=i.length-1,o=0;o<=s;o++)r=o===s?this:this.clone(!0),w(i[o])[e](r),u.apply(n,r.get());return this.pushStack(n)}}));var zt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},jt=function(t,e,r){var n,i,s={};for(i in e)s[i]=t.style[i],t.style[i]=e[i];for(i in n=r.call(t),e)t.style[i]=s[i];return n},Yt=new RegExp(it.join("|"),"i");function Vt(t,e,r){var n,i,s,o,a=t.style;return(r=r||Ht(t))&&(""!==(o=r.getPropertyValue(e)||r[e])||ot(t)||(o=w.style(t,e)),!y.pixelBoxStyles()&&zt.test(o)&&Yt.test(e)&&(n=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=r.width,a.width=n,a.minWidth=i,a.maxWidth=s)),void 0!==o?o+"":o}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(u).appendChild(l);var t=r.getComputedStyle(l);n="1%"!==t.top,c=12===e(t.marginLeft),l.style.right="60%",o=36===e(t.right),i=36===e(t.width),l.style.position="absolute",s=12===e(l.offsetWidth/3),st.removeChild(u),l=null}}function e(t){return Math.round(parseFloat(t))}var n,i,s,o,a,c,u=g.createElement("div"),l=g.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(y,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,e,n,i;return null==a&&(t=g.createElement("table"),e=g.createElement("tr"),n=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",st.appendChild(t).appendChild(e).appendChild(n),i=r.getComputedStyle(e),a=parseInt(i.height)>3,st.removeChild(t)),a}}))}();var Gt=["Webkit","Moz","ms"],Wt=g.createElement("div").style,Xt={};function $t(t){return w.cssProps[t]||Xt[t]||(t in Wt?t:Xt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),r=Gt.length;r--;)if((t=Gt[r]+e)in Wt)return t}(t)||t)}var Jt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,r){var n=nt.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function re(t,e,r,n,i,s){var o="width"===e?1:0,a=0,c=0;if(r===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(c+=w.css(t,r+it[o],!0,i)),n?("content"===r&&(c-=w.css(t,"padding"+it[o],!0,i)),"margin"!==r&&(c-=w.css(t,"border"+it[o]+"Width",!0,i))):(c+=w.css(t,"padding"+it[o],!0,i),"padding"!==r?c+=w.css(t,"border"+it[o]+"Width",!0,i):a+=w.css(t,"border"+it[o]+"Width",!0,i));return!n&&s>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ne(t,e,r){var n=Ht(t),i=(!y.boxSizingReliable()||r)&&"border-box"===w.css(t,"boxSizing",!1,n),s=i,o=Vt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(zt.test(o)){if(!r)return o;o="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&C(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(t,"display",!1,n))&&t.getClientRects().length&&(i="border-box"===w.css(t,"boxSizing",!1,n),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+re(t,e,r||(i?"border":"content"),s,n,o)+"px"}function ie(t,e,r,n,i){return new ie.prototype.init(t,e,r,n,i)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=Vt(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,s,o,a=W(e),c=Zt.test(e),u=t.style;if(c||(e=$t(a)),o=w.cssHooks[e]||w.cssHooks[a],void 0===r)return o&&"get"in o&&void 0!==(i=o.get(t,!1,n))?i:u[e];"string"==(s=typeof r)&&(i=nt.exec(r))&&i[1]&&(r=ut(t,e,i),s="number"),null!=r&&r==r&&("number"!==s||c||(r+=i&&i[3]||(w.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==r||0!==e.indexOf("background")||(u[e]="inherit"),o&&"set"in o&&void 0===(r=o.set(t,r,n))||(c?u.setProperty(e,r):u[e]=r))}},css:function(t,e,r,n){var i,s,o,a=W(e);return Zt.test(e)||(e=$t(a)),(o=w.cssHooks[e]||w.cssHooks[a])&&"get"in o&&(i=o.get(t,!0,r)),void 0===i&&(i=Vt(t,e,n)),"normal"===i&&e in te&&(i=te[e]),""===r||r?(s=parseFloat(i),!0===r||isFinite(s)?s||0:i):i}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,r,n){if(r)return!Jt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,n):jt(t,Qt,(function(){return ne(t,e,n)}))},set:function(t,r,n){var i,s=Ht(t),o=!y.scrollboxSize()&&"absolute"===s.position,a=(o||n)&&"border-box"===w.css(t,"boxSizing",!1,s),c=n?re(t,e,n,a,s):0;return a&&o&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-re(t,e,"border",!1,s)-.5)),c&&(i=nt.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=w.css(t,e)),ee(0,r,c)}}})),w.cssHooks.marginLeft=qt(y.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-jt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(r){for(var n=0,i={},s="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+it[n]+e]=s[n]||s[n-2]||s[0];return i}},"margin"!==t&&(w.cssHooks[t+e].set=ee)})),w.fn.extend({css:function(t,e){return Y(this,(function(t,e,r){var n,i,s={},o=0;if(Array.isArray(e)){for(n=Ht(t),i=e.length;o<i;o++)s[e[o]]=w.css(t,e[o],!1,n);return s}return void 0!==r?w.style(t,e,r):w.css(t,e)}),t,e,arguments.length>1)}}),w.Tween=ie,(ie.prototype={constructor:ie,init:function(t,e,r,n,i,s){this.elem=t,this.prop=r,this.easing=i||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(w.cssNumber[r]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,r=ie.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ie.propHooks._default.set(this),this}}).init.prototype=ie.prototype,(ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[$t(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ie.prototype.init,w.fx.step={};var se,oe,ae=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function ue(){oe&&(!1===g.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ue):r.setTimeout(ue,w.fx.interval),w.fx.tick())}function le(){return r.setTimeout((function(){se=void 0})),se=Date.now()}function _e(t,e){var r,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)i["margin"+(r=it[n])]=i["padding"+r]=t;return e&&(i.opacity=i.width=t),i}function fe(t,e,r){for(var n,i=(de.tweeners[e]||[]).concat(de.tweeners["*"]),s=0,o=i.length;s<o;s++)if(n=i[s].call(r,e,t))return n}function de(t,e,r){var n,i,s=0,o=de.prefilters.length,a=w.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var e=se||le(),r=Math.max(0,u.startTime+u.duration-e),n=1-(r/u.duration||0),s=0,o=u.tweens.length;s<o;s++)u.tweens[s].run(n);return a.notifyWith(t,[u,n,r]),n<1&&o?r:(o||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},r),originalProperties:e,originalOptions:r,startTime:se||le(),duration:r.duration,tweens:[],createTween:function(e,r){var n=w.Tween(t,u.opts,e,r,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var r=0,n=e?u.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)u.tweens[r].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),l=u.props;for(function(t,e){var r,n,i,s,o;for(r in t)if(i=e[n=W(r)],s=t[r],Array.isArray(s)&&(i=s[1],s=t[r]=s[0]),r!==n&&(t[n]=s,delete t[r]),(o=w.cssHooks[n])&&"expand"in o)for(r in s=o.expand(s),delete t[n],s)r in t||(t[r]=s[r],e[r]=i);else e[n]=i}(l,u.opts.specialEasing);s<o;s++)if(n=de.prefilters[s].call(u,t,l,u.opts))return v(n.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return w.map(l,fe,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(de,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return ut(r.elem,t,nt.exec(e),r),r}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(O);for(var r,n=0,i=t.length;n<i;n++)(de.tweeners[r=t[n]]=de.tweeners[r]||[]).unshift(e)},prefilters:[function(t,e,r){var n,i,s,o,a,c,u,l,_="width"in e||"height"in e,f=this,d={},p=t.style,h=t.nodeType&&ct(t),y=J.get(t,"fxshow");for(n in r.queue||(null==(o=w._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,f.always((function(){f.always((function(){o.unqueued--,w.queue(t,"fx").length||o.empty.fire()}))}))),e)if(ae.test(i=e[n])){if(delete e[n],s=s||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!y||void 0===y[n])continue;h=!0}d[n]=y&&y[n]||w.style(t,n)}if((c=!w.isEmptyObject(e))||!w.isEmptyObject(d))for(n in _&&1===t.nodeType&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=y&&y.display)&&(u=J.get(t,"display")),"none"===(l=w.css(t,"display"))&&(u?l=u:(ft([t],!0),u=t.style.display||u,l=w.css(t,"display"),ft([t]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===w.css(t,"float")&&(c||(f.done((function(){p.display=u})),null==u&&(u="none"===(l=p.display)?"":l)),p.display="inline-block")),r.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}))),c=!1,d)c||(y?"hidden"in y&&(h=y.hidden):y=J.access(t,"fxshow",{display:u}),s&&(y.hidden=!h),h&&ft([t],!0),f.done((function(){for(n in h||ft([t]),J.remove(t,"fxshow"),d)w.style(t,n,d[n])}))),c=fe(h?y[n]:0,n,f),n in y||(y[n]=c.start,h&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),w.speed=function(t,e,r){var n=t&&"object"==typeof t?w.extend({},t):{complete:r||!r&&e||v(t)&&t,duration:t,easing:r&&e||e&&!v(e)&&e};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in w.fx.speeds?w.fx.speeds[n.duration]:w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(t,e,r,n){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var i=w.isEmptyObject(t),s=w.speed(e,r,n),o=function(){var e=de(this,w.extend({},t),s);(i||J.get(this,"finish"))&&e.stop(!0)};return o.finish=o,i||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",s=w.timers,o=J.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&ce.test(i)&&n(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(r),e=!1,s.splice(i,1));!e&&r||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,r=J.get(this),n=r[t+"queue"],i=r[t+"queueHooks"],s=w.timers,o=n?n.length:0;for(r.finish=!0,w.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var r=w.fn[e];w.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(_e(e,!0),t,n,i)}})),w.each({slideDown:_e("show"),slideUp:_e("hide"),slideToggle:_e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}})),w.timers=[],w.fx.tick=function(){var t,e=0,r=w.timers;for(se=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||w.fx.stop(),se=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){oe||(oe=!0,ue())},w.fx.stop=function(){oe=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,this.queue(e=e||"fx",(function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}}))},function(){var t=g.createElement("input"),e=g.createElement("select").appendChild(g.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=g.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var pe,he=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return Y(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,r){var n,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?w.prop(t,e,r):(1===s&&w.isXMLDoc(t)||(i=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?pe:void 0)),void 0!==r?null===r?void w.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r):i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=w.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&C(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(O);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),pe={set:function(t,e,r){return!1===e?w.removeAttr(t,r):t.setAttribute(r,r),r}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var r=he[e]||w.find.attr;he[e]=function(t,e,n){var i,s,o=e.toLowerCase();return n||(s=he[o],he[o]=i,i=null!=r(t,e,n)?o:null,he[o]=s),i}}));var ye=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function me(t){return(t.match(O)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function Pe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}w.fn.extend({prop:function(t,e){return Y(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,r){var n,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(t)||(i=w.propHooks[e=w.propFix[e]||e]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,r,n,i,s,o,a,c=0;if(v(t))return this.each((function(e){w(this).addClass(t.call(this,e,ge(this)))}));if((e=Pe(t)).length)for(;r=this[c++];)if(i=ge(r),n=1===r.nodeType&&" "+me(i)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");i!==(a=me(n))&&r.setAttribute("class",a)}return this},removeClass:function(t){var e,r,n,i,s,o,a,c=0;if(v(t))return this.each((function(e){w(this).removeClass(t.call(this,e,ge(this)))}));if(!arguments.length)return this.attr("class","");if((e=Pe(t)).length)for(;r=this[c++];)if(i=ge(r),n=1===r.nodeType&&" "+me(i)+" "){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");i!==(a=me(n))&&r.setAttribute("class",a)}return this},toggleClass:function(t,e){var r=typeof t,n="string"===r||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(r){w(this).toggleClass(t.call(this,r,ge(this),e),e)})):this.each((function(){var e,i,s,o;if(n)for(i=0,s=w(this),o=Pe(t);e=o[i++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==r||((e=ge(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+me(ge(r))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;w.fn.extend({val:function(t){var e,r,n,i=this[0];return arguments.length?(n=v(t),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?t.call(this,r,w(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(xe,""):null==r?"":r:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:me(w.text(t))}},select:{get:function(t){var e,r,n,i=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],c=o?s+1:i.length;for(n=s<0?c:o?s:0;n<c;n++)if(((r=i[n]).selected||n===s)&&!r.disabled&&(!r.parentNode.disabled||!C(r.parentNode,"optgroup"))){if(e=w(r).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var r,n,i=t.options,s=w.makeArray(e),o=i.length;o--;)((n=i[o]).selected=w.inArray(w.valHooks.option.get(n),s)>-1)&&(r=!0);return r||(t.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},y.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),y.focusin="onfocusin"in r;var be=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,n,i){var s,o,a,c,u,l,_,f,p=[n||g],h=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(o=f=a=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!be.test(h+w.event.triggered)&&(h.indexOf(".")>-1&&(y=h.split("."),h=y.shift(),y.sort()),u=h.indexOf(":")<0&&"on"+h,(t=t[w.expando]?t:new w.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),_=w.event.special[h]||{},i||!_.trigger||!1!==_.trigger.apply(n,e))){if(!i&&!_.noBubble&&!m(n)){for(be.test((c=_.delegateType||h)+h)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||g)&&p.push(a.defaultView||a.parentWindow||r)}for(s=0;(o=p[s++])&&!t.isPropagationStopped();)f=o,t.type=s>1?c:_.bindType||h,(l=(J.get(o,"events")||Object.create(null))[t.type]&&J.get(o,"handle"))&&l.apply(o,e),(l=u&&o[u])&&l.apply&&X(o)&&(t.result=l.apply(o,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||_._default&&!1!==_._default.apply(p.pop(),e)||!X(n)||u&&v(n[h])&&!m(n)&&((a=n[u])&&(n[u]=null),w.event.triggered=h,t.isPropagationStopped()&&f.addEventListener(h,we),n[h](),t.isPropagationStopped()&&f.removeEventListener(h,we),w.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(t,e,r){var n=w.extend(new w.Event,r,{type:t,isSimulated:!0});w.event.trigger(n,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var r=this[0];if(r)return w.event.trigger(t,e,r,!0)}}),y.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var r=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,i=J.access(n,e);i||n.addEventListener(t,r,!0),J.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=J.access(n,e)-1;i?J.access(n,e,i):(n.removeEventListener(t,r,!0),J.remove(n,e))}}}));var Ee=r.location,ke={guid:Date.now()},Ie=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var Ne=/\[\]$/,Ae=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function Se(t,e,r,n){var i;if(Array.isArray(e))w.each(e,(function(e,i){r||Ne.test(t)?n(t,i):Se(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,r,n)}));else if(r||"object"!==b(e))n(t,e);else for(i in e)Se(t+"["+i+"]",e[i],r,n)}w.param=function(t,e){var r,n=[],i=function(t,e){var r=v(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){i(this.name,this.value)}));else for(r in t)Se(r,t[r],e,i);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Te.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!ht.test(t))})).map((function(t,e){var r=w(this).val();return null==r?null:Array.isArray(r)?w.map(r,(function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}})):{name:e.name,value:r.replace(Ae,"\r\n")}})).get()}});var Fe=/%20/g,Ke=/#.*$/,Re=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,Oe=/^\/\//,De={},Me={},Ue="*/".concat("*"),ze=g.createElement("a");function He(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,i=0,s=e.toLowerCase().match(O)||[];if(v(r))for(;n=s[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function je(t,e,r,n){var i={},s=t===Me;function o(a){var c;return i[a]=!0,w.each(t[a]||[],(function(t,a){var u=a(e,r,n);return"string"!=typeof u||s||i[u]?s?!(c=u):void 0:(e.dataTypes.unshift(u),o(u),!1)})),c}return o(e.dataTypes[0])||!i["*"]&&o("*")}function Ye(t,e){var r,n,i=w.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&w.extend(!0,t,n),t}ze.href=Ee.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ye(Ye(t,w.ajaxSettings),e):Ye(w.ajaxSettings,t)},ajaxPrefilter:He(De),ajaxTransport:He(Me),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var n,i,s,o,a,c,u,l,_,f,d=w.ajaxSetup({},e=e||{}),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?w(p):w.event,y=w.Deferred(),v=w.Callbacks("once memory"),m=d.statusCode||{},P={},x={},b="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(u){if(!o)for(o={};e=Le.exec(s);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,P[t]=e),this},overrideMimeType:function(t){return null==u&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)E.always(t[E.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||b;return n&&n.abort(e),k(0,e),this}};if(y.promise(E),d.url=((t||d.url||Ee.href)+"").replace(Oe,Ee.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(O)||[""],null==d.crossDomain){c=g.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=ze.protocol+"//"+ze.host!=c.protocol+"//"+c.host}catch(I){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),je(De,d,e,E),u)return E;for(_ in(l=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Be.test(d.type),i=d.url.replace(Ke,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Fe,"+")):(f=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Ie.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Re,"$1"),f=(Ie.test(i)?"&":"?")+"_="+ke.guid+++f),d.url=i+f),d.ifModified&&(w.lastModified[i]&&E.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&E.setRequestHeader("If-None-Match",w.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ue+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(_,d.headers[_]);if(d.beforeSend&&(!1===d.beforeSend.call(p,E,d)||u))return E.abort();if(b="abort",v.add(d.complete),E.done(d.success),E.fail(d.error),n=je(Me,d,e,E)){if(E.readyState=1,l&&h.trigger("ajaxSend",[E,d]),u)return E;d.async&&d.timeout>0&&(a=r.setTimeout((function(){E.abort("timeout")}),d.timeout));try{u=!1,n.send(P,k)}catch(I){if(u)throw I;k(-1,I)}}else k(-1,"No Transport");function k(t,e,o,c){var _,f,g,P,x,b=e;u||(u=!0,a&&r.clearTimeout(a),n=void 0,s=c||"",E.readyState=t>0?4:0,_=t>=200&&t<300||304===t,o&&(P=function(t,e,r){for(var n,i,s,o,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){c.unshift(i);break}if(c[0]in r)s=c[0];else{for(i in r){if(!c[0]||t.converters[i+" "+c[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==c[0]&&c.unshift(s),r[s]}(d,E,o)),!_&&w.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),P=function(t,e,r,n){var i,s,o,a,c,u={},l=t.dataTypes.slice();if(l[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(s=l.shift();s;)if(t.responseFields[s]&&(r[t.responseFields[s]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=l.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(o=u[c+" "+s]||u["* "+s]))for(i in u)if((a=i.split(" "))[1]===s&&(o=u[c+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[i]:!0!==u[i]&&(s=a[0],l.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(I){return{state:"parsererror",error:o?I:"No conversion from "+c+" to "+s}}}return{state:"success",data:e}}(d,P,E,_),_?(d.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(w.lastModified[i]=x),(x=E.getResponseHeader("etag"))&&(w.etag[i]=x)),204===t||"HEAD"===d.type?b="nocontent":304===t?b="notmodified":(b=P.state,f=P.data,_=!(g=P.error))):(g=b,!t&&b||(b="error",t<0&&(t=0))),E.status=t,E.statusText=(e||b)+"",_?y.resolveWith(p,[f,b,E]):y.rejectWith(p,[E,b,g]),E.statusCode(m),m=void 0,l&&h.trigger(_?"ajaxSuccess":"ajaxError",[E,d,_?f:g]),v.fireWith(p,[E,b]),l&&(h.trigger("ajaxComplete",[E,d]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,r){return w.get(t,e,r,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,r,n,i){return v(r)&&(i=i||n,n=r,r=void 0),w.ajax(w.extend({url:t,type:e,dataType:i,data:r,success:n},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,r){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,r)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(r){w(this).wrapAll(e?t.call(this,r):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},qe=w.ajaxSettings.xhr();y.cors=!!qe&&"withCredentials"in qe,y.ajax=qe=!!qe,w.ajaxTransport((function(t){var e,n;if(y.cors||qe&&!t.crossDomain)return{send:function(i,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ve[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(c){if(e)throw c}},abort:function(){e&&e()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,r;if(t.crossDomain||t.scriptAttrs)return{send:function(n,i){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&i("error"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){r&&r()}}}));var Ge,We=[],Xe=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||w.expando+"_"+ke.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(t,e,n){var i,s,o,a=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xe,"$1"+i):!1!==t.jsonp&&(t.url+=(Ie.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||w.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=r[i],r[i]=function(){o=arguments},n.always((function(){void 0===s?w(r).removeProp(i):r[i]=s,t[i]&&(t.jsonpCallback=e.jsonpCallback,We.push(i)),o&&v(s)&&s(o[0]),o=s=void 0})),"script"})),y.createHTMLDocument=((Ge=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),w.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(y.createHTMLDocument?((n=(e=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,e.head.appendChild(n)):e=g),s=!r&&[],(i=T.exec(t))?[e.createElement(i[1])]:(i=bt([t],e,s),s&&s.length&&w(s).remove(),w.merge([],i.childNodes)));var n,i,s},w.fn.load=function(t,e,r){var n,i,s,o=this,a=t.indexOf(" ");return a>-1&&(n=me(t.slice(a)),t=t.slice(0,a)),v(e)?(r=e,e=void 0):e&&"object"==typeof e&&(i="POST"),o.length>0&&w.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){s=arguments,o.html(n?w("<div>").append(w.parseHTML(t)).find(n):t)})).always(r&&function(t,e){o.each((function(){r.apply(this,s||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,r){var n,i,s,o,a,c,u=w.css(t,"position"),l=w(t),_={};"static"===u&&(t.style.position="relative"),a=l.offset(),s=w.css(t,"top"),c=w.css(t,"left"),("absolute"===u||"fixed"===u)&&(s+c).indexOf("auto")>-1?(o=(n=l.position()).top,i=n.left):(o=parseFloat(s)||0,i=parseFloat(c)||0),v(e)&&(e=e.call(t,r,w.extend({},a))),null!=e.top&&(_.top=e.top-a.top+o),null!=e.left&&(_.left=e.left-a.left+i),"using"in e?e.using.call(t,_):("number"==typeof _.top&&(_.top+="px"),"number"==typeof _.left&&(_.left+="px"),l.css(_))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,r,n=this[0];return n?n.getClientRects().length?{top:(e=n.getBoundingClientRect()).top+(r=n.ownerDocument.defaultView).pageYOffset,left:e.left+r.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,n=this[0],i={top:0,left:0};if("fixed"===w.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((i=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),i.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-w.css(n,"marginTop",!0),left:e.left-i.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||st}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var r="pageYOffset"===e;w.fn[t]=function(n){return Y(this,(function(t,n,i){var s;if(m(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===i)return s?s[e]:t[n];s?s.scrollTo(r?s.pageXOffset:i,r?i:s.pageYOffset):t[n]=i}),t,n,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=qt(y.pixelPosition,(function(t,r){if(r)return r=Vt(t,e),zt.test(r)?w(t).position()[e]+"px":r}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(r,n){w.fn[n]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),a=r||(!0===i||!0===s?"margin":"border");return Y(this,(function(e,r,i){var s;return m(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===i?w.css(e,r,a):w.style(e,r,i,a)}),e,o?i:void 0,o)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}));var $e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),v(t))return n=a.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||w.guid++,i},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=C,w.isFunction=v,w.isWindow=m,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace($e,"")},void 0===(n=(function(){return w}).apply(e,[]))||(t.exports=n);var Je=r.jQuery,Ze=r.$;return w.noConflict=function(t){return r.$===w&&(r.$=Ze),t&&r.jQuery===w&&(r.jQuery=Je),w},void 0===i&&(r.jQuery=r.$=w),w}))},EnSQ:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("2Vo4"),i=r("fXoL");let s=(()=>{class t{constructor(){this.loader=new n.a(!1),this.loaderStatus=this.loader.asObservable()}showLoader(t){this.loader.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},mrSG:function(t,e,r){"use strict";function n(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}r.d(e,"a",(function(){return n}))}}]);